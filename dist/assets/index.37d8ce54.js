(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerpolicy&&(a.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?a.credentials="include":r.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();function V(){}const af=e=>e;function xr(e,t){for(const n in t)e[n]=t[n];return e}function pu(e){return e()}function Sl(){return Object.create(null)}function Re(e){e.forEach(pu)}function Va(e){return typeof e=="function"}function ie(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function lf(e){return Object.keys(e).length===0}function of(e,...t){if(e==null)return V;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function it(e,t,n){e.$$.on_destroy.push(of(t,n))}function _u(e,t,n,i){if(e){const r=vu(e,t,n,i);return e[0](r)}}function vu(e,t,n,i){return e[1]&&i?xr(n.ctx.slice(),e[1](i(t))):n.ctx}function mu(e,t,n,i){if(e[2]&&i){const r=e[2](i(n));if(t.dirty===void 0)return r;if(typeof r=="object"){const a=[],l=Math.max(t.dirty.length,r.length);for(let o=0;o<l;o+=1)a[o]=t.dirty[o]|r[o];return a}return t.dirty|r}return t.dirty}function gu(e,t,n,i,r,a){if(r){const l=vu(t,n,i,a);e.p(l,r)}}function yu(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let i=0;i<n;i++)t[i]=-1;return t}return-1}function Le(e){return e==null?"":e}function vn(e,t,n){return e.set(n),t}const bu=typeof window<"u";let sf=bu?()=>window.performance.now():()=>Date.now(),wu=bu?e=>requestAnimationFrame(e):V;const Mn=new Set;function ku(e){Mn.forEach(t=>{t.c(e)||(Mn.delete(t),t.f())}),Mn.size!==0&&wu(ku)}function uf(e){let t;return Mn.size===0&&wu(ku),{promise:new Promise(n=>{Mn.add(t={c:e,f:n})}),abort(){Mn.delete(t)}}}function k(e,t){e.appendChild(t)}function S(e,t,n){e.insertBefore(t,n||null)}function A(e){e.parentNode.removeChild(e)}function we(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function T(e){return document.createElement(e)}function X(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function z(e){return document.createTextNode(e)}function Y(){return z(" ")}function Ne(){return z("")}function ve(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}function p(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function cf(e){return Array.from(e.childNodes)}function H(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function Q(e,t,n,i){n===null?e.style.removeProperty(t):e.style.setProperty(t,n,i?"important":"")}function El(e,t){for(let n=0;n<e.options.length;n+=1){const i=e.options[n];if(i.__value===t){i.selected=!0;return}}e.selectedIndex=-1}function ff(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}let Qn;function Gn(e){Qn=e}function hf(){if(!Qn)throw new Error("Function called outside component initialization");return Qn}function Ee(e){hf().$$.on_mount.push(e)}const Yn=[],lt=[],ji=[],Tl=[],df=Promise.resolve();let ea=!1;function pf(){ea||(ea=!0,df.then(Mu))}function qi(e){ji.push(e)}const Rr=new Set;let yi=0;function Mu(){const e=Qn;do{for(;yi<Yn.length;){const t=Yn[yi];yi++,Gn(t),_f(t.$$)}for(Gn(null),Yn.length=0,yi=0;lt.length;)lt.pop()();for(let t=0;t<ji.length;t+=1){const n=ji[t];Rr.has(n)||(Rr.add(n),n())}ji.length=0}while(Yn.length);for(;Tl.length;)Tl.pop()();ea=!1,Rr.clear(),Gn(e)}function _f(e){if(e.fragment!==null){e.update(),Re(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(qi)}}const Di=new Set;let Zt;function ft(){Zt={r:0,c:[],p:Zt}}function ht(){Zt.r||Re(Zt.c),Zt=Zt.p}function W(e,t){e&&e.i&&(Di.delete(e),e.i(t))}function G(e,t,n,i){if(e&&e.o){if(Di.has(e))return;Di.add(e),Zt.c.push(()=>{Di.delete(e),i&&(n&&e.d(1),i())}),e.o(t)}else i&&i()}function _e(e){e&&e.c()}function fe(e,t,n,i){const{fragment:r,on_mount:a,on_destroy:l,after_update:o}=e.$$;r&&r.m(t,n),i||qi(()=>{const u=a.map(pu).filter(Va);l?l.push(...u):Re(u),e.$$.on_mount=[]}),o.forEach(qi)}function he(e,t){const n=e.$$;n.fragment!==null&&(Re(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function vf(e,t){e.$$.dirty[0]===-1&&(Yn.push(e),pf(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function le(e,t,n,i,r,a,l,o=[-1]){const u=Qn;Gn(e);const c=e.$$={fragment:null,ctx:null,props:a,update:V,not_equal:r,bound:Sl(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(u?u.$$.context:[])),callbacks:Sl(),dirty:o,skip_bound:!1,root:t.target||u.$$.root};l&&l(c.root);let s=!1;if(c.ctx=n?n(e,t.props||{},(f,h,...d)=>{const _=d.length?d[0]:h;return c.ctx&&r(c.ctx[f],c.ctx[f]=_)&&(!c.skip_bound&&c.bound[f]&&c.bound[f](_),s&&vf(e,f)),h}):[],c.update(),s=!0,Re(c.before_update),c.fragment=i?i(c.ctx):!1,t.target){if(t.hydrate){const f=cf(t.target);c.fragment&&c.fragment.l(f),f.forEach(A)}else c.fragment&&c.fragment.c();t.intro&&W(e.$$.fragment),fe(e,t.target,t.anchor,t.customElement),Mu()}Gn(u)}class oe{$destroy(){he(this,1),this.$destroy=V}$on(t,n){const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(n),()=>{const r=i.indexOf(n);r!==-1&&i.splice(r,1)}}$set(t){this.$$set&&!lf(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var ta=Array.isArray||function(e){return Object.prototype.toString.call(e)=="[object Array]"},oi=Eu,mf=Wa,gf=kf,yf=Cu,bf=Su,wf=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^()])+)\\))?|\\(((?:\\\\.|[^()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function Wa(e){for(var t=[],n=0,i=0,r="",a;(a=wf.exec(e))!=null;){var l=a[0],o=a[1],u=a.index;if(r+=e.slice(i,u),i=u+l.length,o){r+=o[1];continue}r&&(t.push(r),r="");var c=a[2],s=a[3],f=a[4],h=a[5],d=a[6],_=a[7],v=d==="+"||d==="*",m=d==="?"||d==="*",y=c||"/",M=f||h||(_?".*":"[^"+y+"]+?");t.push({name:s||n++,prefix:c||"",delimiter:y,optional:m,repeat:v,pattern:Mf(M)})}return i<e.length&&(r+=e.substr(i)),r&&t.push(r),t}function kf(e){return Cu(Wa(e))}function Cu(e){for(var t=new Array(e.length),n=0;n<e.length;n++)typeof e[n]=="object"&&(t[n]=new RegExp("^"+e[n].pattern+"$"));return function(i){for(var r="",a=i||{},l=0;l<e.length;l++){var o=e[l];if(typeof o=="string"){r+=o;continue}var u=a[o.name],c;if(u==null){if(o.optional)continue;throw new TypeError('Expected "'+o.name+'" to be defined')}if(ta(u)){if(!o.repeat)throw new TypeError('Expected "'+o.name+'" to not repeat, but received "'+u+'"');if(u.length===0){if(o.optional)continue;throw new TypeError('Expected "'+o.name+'" to not be empty')}for(var s=0;s<u.length;s++){if(c=encodeURIComponent(u[s]),!t[l].test(c))throw new TypeError('Expected all "'+o.name+'" to match "'+o.pattern+'", but received "'+c+'"');r+=(s===0?o.prefix:o.delimiter)+c}continue}if(c=encodeURIComponent(u),!t[l].test(c))throw new TypeError('Expected "'+o.name+'" to match "'+o.pattern+'", but received "'+c+'"');r+=o.prefix+c}return r}}function zl(e){return e.replace(/([.+*?=^!:${}()[\]|\/])/g,"\\$1")}function Mf(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function Xa(e,t){return e.keys=t,e}function Au(e){return e.sensitive?"":"i"}function Cf(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var i=0;i<n.length;i++)t.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return Xa(e,t)}function Af(e,t,n){for(var i=[],r=0;r<e.length;r++)i.push(Eu(e[r],t,n).source);var a=new RegExp("(?:"+i.join("|")+")",Au(n));return Xa(a,t)}function Sf(e,t,n){for(var i=Wa(e),r=Su(i,n),a=0;a<i.length;a++)typeof i[a]!="string"&&t.push(i[a]);return Xa(r,t)}function Su(e,t){t=t||{};for(var n=t.strict,i=t.end!==!1,r="",a=e[e.length-1],l=typeof a=="string"&&/\/$/.test(a),o=0;o<e.length;o++){var u=e[o];if(typeof u=="string")r+=zl(u);else{var c=zl(u.prefix),s=u.pattern;u.repeat&&(s+="(?:"+c+s+")*"),u.optional?c?s="(?:"+c+"("+s+"))?":s="("+s+")?":s=c+"("+s+")",r+=s}}return n||(r=(l?r.slice(0,-2):r)+"(?:\\/(?=$))?"),i?r+="$":r+=n&&l?"":"(?=\\/|$)",new RegExp("^"+r,Au(t))}function Eu(e,t,n){return t=t||[],ta(t)?n||(n={}):(n=t,t=[]),e instanceof RegExp?Cf(e,t):ta(e)?Af(e,t,n):Sf(e,t,n)}oi.parse=mf;oi.compile=gf;oi.tokensToFunction=yf;oi.tokensToRegExp=bf;var Sn=typeof document<"u",ct=typeof window<"u",pr=typeof history<"u",Ef=typeof process<"u",na=Sn&&document.ontouchstart?"touchstart":"click",Tt=ct&&!!(window.history.location||window.location);function Te(){this.callbacks=[],this.exits=[],this.current="",this.len=0,this._decodeURLComponents=!0,this._base="",this._strict=!1,this._running=!1,this._hashbang=!1,this.clickHandler=this.clickHandler.bind(this),this._onpopstate=this._onpopstate.bind(this)}Te.prototype.configure=function(e){var t=e||{};this._window=t.window||ct&&window,this._decodeURLComponents=t.decodeURLComponents!==!1,this._popstate=t.popstate!==!1&&ct,this._click=t.click!==!1&&Sn,this._hashbang=!!t.hashbang;var n=this._window;this._popstate?n.addEventListener("popstate",this._onpopstate,!1):ct&&n.removeEventListener("popstate",this._onpopstate,!1),this._click?n.document.addEventListener(na,this.clickHandler,!1):Sn&&n.document.removeEventListener(na,this.clickHandler,!1),this._hashbang&&ct&&!pr?n.addEventListener("hashchange",this._onpopstate,!1):ct&&n.removeEventListener("hashchange",this._onpopstate,!1)};Te.prototype.base=function(e){if(arguments.length===0)return this._base;this._base=e};Te.prototype._getBase=function(){var e=this._base;if(e)return e;var t=ct&&this._window&&this._window.location;return ct&&this._hashbang&&t&&t.protocol==="file:"&&(e=t.pathname),e};Te.prototype.strict=function(e){if(arguments.length===0)return this._strict;this._strict=e};Te.prototype.start=function(e){var t=e||{};if(this.configure(t),t.dispatch!==!1){this._running=!0;var n;if(Tt){var i=this._window,r=i.location;this._hashbang&&~r.hash.indexOf("#!")?n=r.hash.substr(2)+r.search:this._hashbang?n=r.search+r.hash:n=r.pathname+r.search+r.hash}this.replace(n,null,!0,t.dispatch)}};Te.prototype.stop=function(){if(!!this._running){this.current="",this.len=0,this._running=!1;var e=this._window;this._click&&e.document.removeEventListener(na,this.clickHandler,!1),ct&&e.removeEventListener("popstate",this._onpopstate,!1),ct&&e.removeEventListener("hashchange",this._onpopstate,!1)}};Te.prototype.show=function(e,t,n,i){var r=new si(e,t,this),a=this.prevContext;return this.prevContext=r,this.current=r.path,n!==!1&&this.dispatch(r,a),r.handled!==!1&&i!==!1&&r.pushState(),r};Te.prototype.back=function(e,t){var n=this;if(this.len>0){var i=this._window;pr&&i.history.back(),this.len--}else setTimeout(e?function(){n.show(e,t)}:function(){n.show(n._getBase(),t)})};Te.prototype.redirect=function(e,t){var n=this;typeof e=="string"&&typeof t=="string"&&_r.call(this,e,function(i){setTimeout(function(){n.replace(t)},0)}),typeof e=="string"&&typeof t>"u"&&setTimeout(function(){n.replace(e)},0)};Te.prototype.replace=function(e,t,n,i){var r=new si(e,t,this),a=this.prevContext;return this.prevContext=r,this.current=r.path,r.init=n,r.save(),i!==!1&&this.dispatch(r,a),r};Te.prototype.dispatch=function(e,t){var n=0,i=0,r=this;function a(){var o=r.exits[i++];if(!o)return l();o(t,a)}function l(){var o=r.callbacks[n++];if(e.path!==r.current){e.handled=!1;return}if(!o)return Tf.call(r,e);o(e,l)}t?a():l()};Te.prototype.exit=function(e,t){if(typeof e=="function")return this.exit("*",e);for(var n=new ui(e,null,this),i=1;i<arguments.length;++i)this.exits.push(n.middleware(arguments[i]))};Te.prototype.clickHandler=function(e){if(this._which(e)===1&&!(e.metaKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented){var t=e.target,n=e.path||(e.composedPath?e.composedPath():null);if(n){for(var i=0;i<n.length;i++)if(!!n[i].nodeName&&n[i].nodeName.toUpperCase()==="A"&&!!n[i].href){t=n[i];break}}for(;t&&t.nodeName.toUpperCase()!=="A";)t=t.parentNode;if(!(!t||t.nodeName.toUpperCase()!=="A")){var r=typeof t.href=="object"&&t.href.constructor.name==="SVGAnimatedString";if(!(t.hasAttribute("download")||t.getAttribute("rel")==="external")){var a=t.getAttribute("href");if(!(!this._hashbang&&this._samePath(t)&&(t.hash||a==="#"))&&!(a&&a.indexOf("mailto:")>-1)&&!(r?t.target.baseVal:t.target)&&!(!r&&!this.sameOrigin(t.href))){var l=r?t.href.baseVal:t.pathname+t.search+(t.hash||"");l=l[0]!=="/"?"/"+l:l,Ef&&l.match(/^\/[a-zA-Z]:\//)&&(l=l.replace(/^\/[a-zA-Z]:\//,"/"));var o=l,u=this._getBase();l.indexOf(u)===0&&(l=l.substr(u.length)),this._hashbang&&(l=l.replace("#!","")),!(u&&o===l&&(!Tt||this._window.location.protocol!=="file:"))&&(e.preventDefault(),this.show(o))}}}}};Te.prototype._onpopstate=function(){var e=!1;return ct?(Sn&&document.readyState==="complete"?e=!0:window.addEventListener("load",function(){setTimeout(function(){e=!0},0)}),function(n){if(!!e){var i=this;if(n.state){var r=n.state.path;i.replace(r,n.state)}else if(Tt){var a=i._window.location;i.show(a.pathname+a.search+a.hash,void 0,void 0,!1)}}}):function(){}}();Te.prototype._which=function(e){return e=e||ct&&this._window.event,e.which==null?e.button:e.which};Te.prototype._toURL=function(e){var t=this._window;if(typeof URL=="function"&&Tt)return new URL(e,t.location.toString());if(Sn){var n=t.document.createElement("a");return n.href=e,n}};Te.prototype.sameOrigin=function(e){if(!e||!Tt)return!1;var t=this._toURL(e),n=this._window,i=n.location;return i.protocol===t.protocol&&i.hostname===t.hostname&&(i.port===t.port||i.port===""&&(t.port==80||t.port==443))};Te.prototype._samePath=function(e){if(!Tt)return!1;var t=this._window,n=t.location;return e.pathname===n.pathname&&e.search===n.search};Te.prototype._decodeURLEncodedURIComponent=function(e){return typeof e!="string"?e:this._decodeURLComponents?decodeURIComponent(e.replace(/\+/g," ")):e};function Tu(){var e=new Te;function t(){return _r.apply(e,arguments)}return t.callbacks=e.callbacks,t.exits=e.exits,t.base=e.base.bind(e),t.strict=e.strict.bind(e),t.start=e.start.bind(e),t.stop=e.stop.bind(e),t.show=e.show.bind(e),t.back=e.back.bind(e),t.redirect=e.redirect.bind(e),t.replace=e.replace.bind(e),t.dispatch=e.dispatch.bind(e),t.exit=e.exit.bind(e),t.configure=e.configure.bind(e),t.sameOrigin=e.sameOrigin.bind(e),t.clickHandler=e.clickHandler.bind(e),t.create=Tu,Object.defineProperty(t,"len",{get:function(){return e.len},set:function(n){e.len=n}}),Object.defineProperty(t,"current",{get:function(){return e.current},set:function(n){e.current=n}}),t.Context=si,t.Route=ui,t}function _r(e,t){if(typeof e=="function")return _r.call(this,"*",e);if(typeof t=="function")for(var n=new ui(e,null,this),i=1;i<arguments.length;++i)this.callbacks.push(n.middleware(arguments[i]));else typeof e=="string"?this[typeof t=="string"?"redirect":"show"](e,t):this.start(e)}function Tf(e){if(!e.handled){var t,n=this,i=n._window;n._hashbang?t=Tt&&this._getBase()+i.location.hash.replace("#!",""):t=Tt&&i.location.pathname+i.location.search,t!==e.canonicalPath&&(n.stop(),e.handled=!1,Tt&&(i.location.href=e.canonicalPath))}}function zf(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function si(e,t,n){var i=this.page=n||_r,r=i._window,a=i._hashbang,l=i._getBase();e[0]==="/"&&e.indexOf(l)!==0&&(e=l+(a?"#!":"")+e);var o=e.indexOf("?");this.canonicalPath=e;var u=new RegExp("^"+zf(l));if(this.path=e.replace(u,"")||"/",a&&(this.path=this.path.replace("#!","")||"/"),this.title=Sn&&r.document.title,this.state=t||{},this.state.path=e,this.querystring=~o?i._decodeURLEncodedURIComponent(e.slice(o+1)):"",this.pathname=i._decodeURLEncodedURIComponent(~o?e.slice(0,o):e),this.params={},this.hash="",!a){if(!~this.path.indexOf("#"))return;var c=this.path.split("#");this.path=this.pathname=c[0],this.hash=i._decodeURLEncodedURIComponent(c[1])||"",this.querystring=this.querystring.split("#")[0]}}si.prototype.pushState=function(){var e=this.page,t=e._window,n=e._hashbang;e.len++,pr&&t.history.pushState(this.state,this.title,n&&this.path!=="/"?"#!"+this.path:this.canonicalPath)};si.prototype.save=function(){var e=this.page;pr&&e._window.history.replaceState(this.state,this.title,e._hashbang&&this.path!=="/"?"#!"+this.path:this.canonicalPath)};function ui(e,t,n){var i=this.page=n||Ja,r=t||{};r.strict=r.strict||i._strict,this.path=e==="*"?"(.*)":e,this.method="GET",this.regexp=oi(this.path,this.keys=[],r)}ui.prototype.middleware=function(e){var t=this;return function(n,i){if(t.match(n.path,n.params))return n.routePath=t.path,e(n,i);i()}};ui.prototype.match=function(e,t){var n=this.keys,i=e.indexOf("?"),r=~i?e.slice(0,i):e,a=this.regexp.exec(decodeURIComponent(r));if(!a)return!1;delete t[0];for(var l=1,o=a.length;l<o;++l){var u=n[l-1],c=this.page._decodeURLEncodedURIComponent(a[l]);(c!==void 0||!hasOwnProperty.call(t,u.name))&&(t[u.name]=c)}return!0};var Ja=Tu(),Pi=Ja,Nf=Ja;Pi.default=Nf;const mn=[];function ci(e,t=V){let n;const i=new Set;function r(o){if(ie(e,o)&&(e=o,n)){const u=!mn.length;for(const c of i)c[1](),mn.push(c,e);if(u){for(let c=0;c<mn.length;c+=2)mn[c][0](mn[c+1]);mn.length=0}}}function a(o){r(o(e))}function l(o,u=V){const c=[o,u];return i.add(c),i.size===1&&(n=t(r)||V),o(e),()=>{i.delete(c),i.size===0&&(n(),n=null)}}return{set:r,update:a,subscribe:l}}function zt(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function zu(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Nu(e){let t,n,i;e.length!==2?(t=zt,n=(o,u)=>zt(e(o),u),i=(o,u)=>e(o)-u):(t=e===zt||e===zu?e:jf,n=e,i=e);function r(o,u,c=0,s=o.length){if(c<s){if(t(u,u)!==0)return s;do{const f=c+s>>>1;n(o[f],u)<0?c=f+1:s=f}while(c<s)}return c}function a(o,u,c=0,s=o.length){if(c<s){if(t(u,u)!==0)return s;do{const f=c+s>>>1;n(o[f],u)<=0?c=f+1:s=f}while(c<s)}return c}function l(o,u,c=0,s=o.length){const f=r(o,u,c,s-1);return f>c&&i(o[f-1],u)>-i(o[f],u)?f-1:f}return{left:r,center:l,right:a}}function jf(){return 0}function ju(e){return e===null?NaN:+e}const Df=Nu(zt),Pf=Df.right;Nu(ju).center;const Du=Pf;class vt{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let i=0;for(let r=0;r<this._n&&r<32;r++){const a=n[r],l=t+a,o=Math.abs(t)<Math.abs(a)?t-(l-a):a-(l-t);o&&(n[i++]=o),t=l}return n[i]=t,this._n=i+1,this}valueOf(){const t=this._partials;let n=this._n,i,r,a,l=0;if(n>0){for(l=t[--n];n>0&&(i=l,r=t[--n],l=i+r,a=r-(l-i),!a););n>0&&(a<0&&t[n-1]<0||a>0&&t[n-1]>0)&&(r=a*2,i=l+r,r==i-l&&(l=i))}return l}}class ia extends Map{constructor(t,n=Ff){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[i,r]of t)this.set(i,r)}get(t){return super.get(Nl(this,t))}has(t){return super.has(Nl(this,t))}set(t,n){return super.set(Lf(this,t),n)}delete(t){return super.delete(Rf(this,t))}}function Nl({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):n}function Lf({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):(e.set(i,n),n)}function Rf({_intern:e,_key:t},n){const i=t(n);return e.has(i)&&(n=e.get(i),e.delete(i)),n}function Ff(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Oi(e){return e}function If(e,...t){return $a(e,Oi,Oi,t)}function Uf(e,...t){return $a(e,Array.from,Oi,t)}function Yf(e,t){for(let n=1,i=t.length;n<i;++n)e=e.flatMap(r=>r.pop().map(([a,l])=>[...r,a,l]));return e}function fi(e,...t){return Yf(Uf(e,...t),t)}function qf(e,t,...n){return $a(e,Oi,t,n)}function $a(e,t,n,i){return function r(a,l){if(l>=i.length)return n(a);const o=new ia,u=i[l++];let c=-1;for(const s of a){const f=u(s,++c,a),h=o.get(f);h?h.push(s):o.set(f,[s])}for(const[s,f]of o)o.set(s,r(f,l));return t(o)}(e,0)}function Of(e,t){return Array.from(t,n=>e[n])}function hi(e,...t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[n]=t;if(n&&n.length!==2||t.length>1){const i=Uint32Array.from(e,(r,a)=>a);return t.length>1?(t=t.map(r=>e.map(r)),i.sort((r,a)=>{for(const l of t){const o=ra(l[r],l[a]);if(o)return o}})):(n=e.map(n),i.sort((r,a)=>ra(n[r],n[a]))),Of(e,i)}return e.sort(Hf(n))}function Hf(e=zt){if(e===zt)return ra;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const i=e(t,n);return i||i===0?i:(e(n,n)===0)-(e(t,t)===0)}}function ra(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}var aa=Math.sqrt(50),la=Math.sqrt(10),oa=Math.sqrt(2);function Bf(e,t,n){var i,r=-1,a,l,o;if(t=+t,e=+e,n=+n,e===t&&n>0)return[e];if((i=t<e)&&(a=e,e=t,t=a),(o=Pu(e,t,n))===0||!isFinite(o))return[];if(o>0){let u=Math.round(e/o),c=Math.round(t/o);for(u*o<e&&++u,c*o>t&&--c,l=new Array(a=c-u+1);++r<a;)l[r]=(u+r)*o}else{o=-o;let u=Math.round(e*o),c=Math.round(t*o);for(u/o<e&&++u,c/o>t&&--c,l=new Array(a=c-u+1);++r<a;)l[r]=(u+r)/o}return i&&l.reverse(),l}function Pu(e,t,n){var i=(t-e)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),a=i/Math.pow(10,r);return r>=0?(a>=aa?10:a>=la?5:a>=oa?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(a>=aa?10:a>=la?5:a>=oa?2:1)}function Vf(e,t,n){var i=Math.abs(t-e)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),a=i/r;return a>=aa?r*=10:a>=la?r*=5:a>=oa&&(r*=2),t<e?-r:r}function Hi(e,t){let n;if(t===void 0)for(const i of e)i!=null&&(n<i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let r of e)(r=t(r,++i,e))!=null&&(n<r||n===void 0&&r>=r)&&(n=r)}return n}function Wf(e,t,n=ju){if(!!(i=e.length)){if((t=+t)<=0||i<2)return+n(e[0],0,e);if(t>=1)return+n(e[i-1],i-1,e);var i,r=(i-1)*t,a=Math.floor(r),l=+n(e[a],a,e),o=+n(e[a+1],a+1,e);return l+(o-l)*(r-a)}}function*Xf(e){for(const t of e)yield*t}function Lu(e){return Array.from(Xf(e))}function Jf(e,t,n){e=+e,t=+t,n=(r=arguments.length)<2?(t=e,e=0,1):r<3?1:+n;for(var i=-1,r=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(r);++i<r;)a[i]=e+i*n;return a}function $f(e,t){let n=0;if(t===void 0)for(let i of e)(i=+i)&&(n+=i);else{let i=-1;for(let r of e)(r=+t(r,++i,e))&&(n+=r)}return n}function ae(e,t){if(typeof t!="function")throw new TypeError("test is not a function");const n=[];let i=-1;for(const r of e)t(r,++i,e)&&n.push(r);return n}var ee=1e-6,Gf=1e-12,te=Math.PI,rt=te/2,Bi=te/4,Be=te*2,Pe=180/te,me=te/180,ye=Math.abs,Ru=Math.atan,xt=Math.atan2,be=Math.cos,Zf=Math.exp,Qf=Math.log,pe=Math.sin,Li=Math.sign||function(e){return e>0?1:e<0?-1:0},Nt=Math.sqrt,Kf=Math.tan;function xf(e){return e>1?0:e<-1?te:Math.acos(e)}function en(e){return e>1?rt:e<-1?-rt:Math.asin(e)}function qe(){}function Vi(e,t){e&&Dl.hasOwnProperty(e.type)&&Dl[e.type](e,t)}var jl={Feature:function(e,t){Vi(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,i=-1,r=n.length;++i<r;)Vi(n[i].geometry,t)}},Dl={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)e=n[i],t.point(e[0],e[1],e[2])},LineString:function(e,t){sa(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)sa(n[i],t,0)},Polygon:function(e,t){Pl(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)Pl(n[i],t)},GeometryCollection:function(e,t){for(var n=e.geometries,i=-1,r=n.length;++i<r;)Vi(n[i],t)}};function sa(e,t,n){var i=-1,r=e.length-n,a;for(t.lineStart();++i<r;)a=e[i],t.point(a[0],a[1],a[2]);t.lineEnd()}function Pl(e,t){var n=-1,i=e.length;for(t.polygonStart();++n<i;)sa(e[n],t,1);t.polygonEnd()}function Gt(e,t){e&&jl.hasOwnProperty(e.type)?jl[e.type](e,t):Vi(e,t)}var Wi=new vt,Ll=new vt,Fu,Iu,ua,ca,fa,jt={point:qe,lineStart:qe,lineEnd:qe,polygonStart:function(){Wi=new vt,jt.lineStart=eh,jt.lineEnd=th},polygonEnd:function(){var e=+Wi;Ll.add(e<0?Be+e:e),this.lineStart=this.lineEnd=this.point=qe},sphere:function(){Ll.add(Be)}};function eh(){jt.point=nh}function th(){Uu(Fu,Iu)}function nh(e,t){jt.point=Uu,Fu=e,Iu=t,e*=me,t*=me,ua=e,ca=be(t=t/2+Bi),fa=pe(t)}function Uu(e,t){e*=me,t*=me,t=t/2+Bi;var n=e-ua,i=n>=0?1:-1,r=i*n,a=be(t),l=pe(t),o=fa*l,u=ca*a+o*be(r),c=o*i*pe(r);Wi.add(xt(c,u)),ua=e,ca=a,fa=l}function Xi(e){return[xt(e[1],e[0]),en(e[2])]}function tn(e){var t=e[0],n=e[1],i=be(n);return[i*be(t),i*pe(t),pe(n)]}function bi(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function En(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Fr(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function wi(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Ji(e){var t=Nt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var Me,nt,Ce,st,Jt,Yu,qu,Cn,Zn,Yt,Dt,Et={point:ha,lineStart:Rl,lineEnd:Fl,polygonStart:function(){Et.point=Hu,Et.lineStart=ih,Et.lineEnd=rh,Zn=new vt,jt.polygonStart()},polygonEnd:function(){jt.polygonEnd(),Et.point=ha,Et.lineStart=Rl,Et.lineEnd=Fl,Wi<0?(Me=-(Ce=180),nt=-(st=90)):Zn>ee?st=90:Zn<-ee&&(nt=-90),Dt[0]=Me,Dt[1]=Ce},sphere:function(){Me=-(Ce=180),nt=-(st=90)}};function ha(e,t){Yt.push(Dt=[Me=e,Ce=e]),t<nt&&(nt=t),t>st&&(st=t)}function Ou(e,t){var n=tn([e*me,t*me]);if(Cn){var i=En(Cn,n),r=[i[1],-i[0],0],a=En(r,i);Ji(a),a=Xi(a);var l=e-Jt,o=l>0?1:-1,u=a[0]*Pe*o,c,s=ye(l)>180;s^(o*Jt<u&&u<o*e)?(c=a[1]*Pe,c>st&&(st=c)):(u=(u+360)%360-180,s^(o*Jt<u&&u<o*e)?(c=-a[1]*Pe,c<nt&&(nt=c)):(t<nt&&(nt=t),t>st&&(st=t))),s?e<Jt?ot(Me,e)>ot(Me,Ce)&&(Ce=e):ot(e,Ce)>ot(Me,Ce)&&(Me=e):Ce>=Me?(e<Me&&(Me=e),e>Ce&&(Ce=e)):e>Jt?ot(Me,e)>ot(Me,Ce)&&(Ce=e):ot(e,Ce)>ot(Me,Ce)&&(Me=e)}else Yt.push(Dt=[Me=e,Ce=e]);t<nt&&(nt=t),t>st&&(st=t),Cn=n,Jt=e}function Rl(){Et.point=Ou}function Fl(){Dt[0]=Me,Dt[1]=Ce,Et.point=ha,Cn=null}function Hu(e,t){if(Cn){var n=e-Jt;Zn.add(ye(n)>180?n+(n>0?360:-360):n)}else Yu=e,qu=t;jt.point(e,t),Ou(e,t)}function ih(){jt.lineStart()}function rh(){Hu(Yu,qu),jt.lineEnd(),ye(Zn)>ee&&(Me=-(Ce=180)),Dt[0]=Me,Dt[1]=Ce,Cn=null}function ot(e,t){return(t-=e)<0?t+360:t}function ah(e,t){return e[0]-t[0]}function Il(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function lh(e){var t,n,i,r,a,l,o;if(st=Ce=-(Me=nt=1/0),Yt=[],Gt(e,Et),n=Yt.length){for(Yt.sort(ah),t=1,i=Yt[0],a=[i];t<n;++t)r=Yt[t],Il(i,r[0])||Il(i,r[1])?(ot(i[0],r[1])>ot(i[0],i[1])&&(i[1]=r[1]),ot(r[0],i[1])>ot(i[0],i[1])&&(i[0]=r[0])):a.push(i=r);for(l=-1/0,n=a.length-1,t=0,i=a[n];t<=n;i=r,++t)r=a[t],(o=ot(i[1],r[0]))>l&&(l=o,Me=r[0],Ce=i[1])}return Yt=Dt=null,Me===1/0||nt===1/0?[[NaN,NaN],[NaN,NaN]]:[[Me,nt],[Ce,st]]}function da(e,t){function n(i,r){return i=e(i,r),t(i[0],i[1])}return e.invert&&t.invert&&(n.invert=function(i,r){return i=t.invert(i,r),i&&e.invert(i[0],i[1])}),n}function pa(e,t){return[ye(e)>te?e+Math.round(-e/Be)*Be:e,t]}pa.invert=pa;function Bu(e,t,n){return(e%=Be)?t||n?da(Yl(e),ql(t,n)):Yl(e):t||n?ql(t,n):pa}function Ul(e){return function(t,n){return t+=e,[t>te?t-Be:t<-te?t+Be:t,n]}}function Yl(e){var t=Ul(e);return t.invert=Ul(-e),t}function ql(e,t){var n=be(e),i=pe(e),r=be(t),a=pe(t);function l(o,u){var c=be(u),s=be(o)*c,f=pe(o)*c,h=pe(u),d=h*n+s*i;return[xt(f*r-d*a,s*n-h*i),en(d*r+f*a)]}return l.invert=function(o,u){var c=be(u),s=be(o)*c,f=pe(o)*c,h=pe(u),d=h*r-f*a;return[xt(f*r+h*a,s*n+d*i),en(d*n-s*i)]},l}function oh(e){e=Bu(e[0]*me,e[1]*me,e.length>2?e[2]*me:0);function t(n){return n=e(n[0]*me,n[1]*me),n[0]*=Pe,n[1]*=Pe,n}return t.invert=function(n){return n=e.invert(n[0]*me,n[1]*me),n[0]*=Pe,n[1]*=Pe,n},t}function sh(e,t,n,i,r,a){if(!!n){var l=be(t),o=pe(t),u=i*n;r==null?(r=t+i*Be,a=t-u/2):(r=Ol(l,r),a=Ol(l,a),(i>0?r<a:r>a)&&(r+=i*Be));for(var c,s=r;i>0?s>a:s<a;s-=u)c=Xi([l,-o*be(s),-o*pe(s)]),e.point(c[0],c[1])}}function Ol(e,t){t=tn(t),t[0]-=e,Ji(t);var n=xf(-t[1]);return((-t[2]<0?-n:n)+Be-ee)%Be}function Vu(){var e=[],t;return{point:function(n,i,r){t.push([n,i,r])},lineStart:function(){e.push(t=[])},lineEnd:qe,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function Ri(e,t){return ye(e[0]-t[0])<ee&&ye(e[1]-t[1])<ee}function ki(e,t,n,i){this.x=e,this.z=t,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function Wu(e,t,n,i,r){var a=[],l=[],o,u;if(e.forEach(function(_){if(!((v=_.length-1)<=0)){var v,m=_[0],y=_[v],M;if(Ri(m,y)){if(!m[2]&&!y[2]){for(r.lineStart(),o=0;o<v;++o)r.point((m=_[o])[0],m[1]);r.lineEnd();return}y[0]+=2*ee}a.push(M=new ki(m,_,null,!0)),l.push(M.o=new ki(m,null,M,!1)),a.push(M=new ki(y,_,null,!1)),l.push(M.o=new ki(y,null,M,!0))}}),!!a.length){for(l.sort(t),Hl(a),Hl(l),o=0,u=l.length;o<u;++o)l[o].e=n=!n;for(var c=a[0],s,f;;){for(var h=c,d=!0;h.v;)if((h=h.n)===c)return;s=h.z,r.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(o=0,u=s.length;o<u;++o)r.point((f=s[o])[0],f[1]);else i(h.x,h.n.x,1,r);h=h.n}else{if(d)for(s=h.p.z,o=s.length-1;o>=0;--o)r.point((f=s[o])[0],f[1]);else i(h.x,h.p.x,-1,r);h=h.p}h=h.o,s=h.z,d=!d}while(!h.v);r.lineEnd()}}}function Hl(e){if(!!(t=e.length)){for(var t,n=0,i=e[0],r;++n<t;)i.n=r=e[n],r.p=i,i=r;i.n=r=e[0],r.p=i}}function Ir(e){return ye(e[0])<=te?e[0]:Li(e[0])*((ye(e[0])+te)%Be-te)}function uh(e,t){var n=Ir(t),i=t[1],r=pe(i),a=[pe(n),-be(n),0],l=0,o=0,u=new vt;r===1?i=rt+ee:r===-1&&(i=-rt-ee);for(var c=0,s=e.length;c<s;++c)if(!!(h=(f=e[c]).length))for(var f,h,d=f[h-1],_=Ir(d),v=d[1]/2+Bi,m=pe(v),y=be(v),M=0;M<h;++M,_=g,m=C,y=E,d=b){var b=f[M],g=Ir(b),w=b[1]/2+Bi,C=pe(w),E=be(w),U=g-_,L=U>=0?1:-1,R=L*U,j=R>te,D=m*C;if(u.add(xt(D*L*pe(R),y*E+D*be(R))),l+=j?U+L*Be:U,j^_>=n^g>=n){var I=En(tn(d),tn(b));Ji(I);var J=En(a,I);Ji(J);var P=(j^U>=0?-1:1)*en(J[2]);(i>P||i===P&&(I[0]||I[1]))&&(o+=j^U>=0?1:-1)}}return(l<-ee||l<ee&&u<-Gf)^o&1}function Xu(e,t,n,i){return function(r){var a=t(r),l=Vu(),o=t(l),u=!1,c,s,f,h={point:d,lineStart:v,lineEnd:m,polygonStart:function(){h.point=y,h.lineStart=M,h.lineEnd=b,s=[],c=[]},polygonEnd:function(){h.point=d,h.lineStart=v,h.lineEnd=m,s=Lu(s);var g=uh(c,i);s.length?(u||(r.polygonStart(),u=!0),Wu(s,fh,g,n,r)):g&&(u||(r.polygonStart(),u=!0),r.lineStart(),n(null,null,1,r),r.lineEnd()),u&&(r.polygonEnd(),u=!1),s=c=null},sphere:function(){r.polygonStart(),r.lineStart(),n(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function d(g,w){e(g,w)&&r.point(g,w)}function _(g,w){a.point(g,w)}function v(){h.point=_,a.lineStart()}function m(){h.point=d,a.lineEnd()}function y(g,w){f.push([g,w]),o.point(g,w)}function M(){o.lineStart(),f=[]}function b(){y(f[0][0],f[0][1]),o.lineEnd();var g=o.clean(),w=l.result(),C,E=w.length,U,L,R;if(f.pop(),c.push(f),f=null,!!E){if(g&1){if(L=w[0],(U=L.length-1)>0){for(u||(r.polygonStart(),u=!0),r.lineStart(),C=0;C<U;++C)r.point((R=L[C])[0],R[1]);r.lineEnd()}return}E>1&&g&2&&w.push(w.pop().concat(w.shift())),s.push(w.filter(ch))}}return h}}function ch(e){return e.length>1}function fh(e,t){return((e=e.x)[0]<0?e[1]-rt-ee:rt-e[1])-((t=t.x)[0]<0?t[1]-rt-ee:rt-t[1])}const Bl=Xu(function(){return!0},hh,ph,[-te,-rt]);function hh(e){var t=NaN,n=NaN,i=NaN,r;return{lineStart:function(){e.lineStart(),r=1},point:function(a,l){var o=a>0?te:-te,u=ye(a-t);ye(u-te)<ee?(e.point(t,n=(n+l)/2>0?rt:-rt),e.point(i,n),e.lineEnd(),e.lineStart(),e.point(o,n),e.point(a,n),r=0):i!==o&&u>=te&&(ye(t-i)<ee&&(t-=i*ee),ye(a-o)<ee&&(a-=o*ee),n=dh(t,n,a,l),e.point(i,n),e.lineEnd(),e.lineStart(),e.point(o,n),r=0),e.point(t=a,n=l),i=o},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-r}}}function dh(e,t,n,i){var r,a,l=pe(e-n);return ye(l)>ee?Ru((pe(t)*(a=be(i))*pe(n)-pe(i)*(r=be(t))*pe(e))/(r*a*l)):(t+i)/2}function ph(e,t,n,i){var r;if(e==null)r=n*rt,i.point(-te,r),i.point(0,r),i.point(te,r),i.point(te,0),i.point(te,-r),i.point(0,-r),i.point(-te,-r),i.point(-te,0),i.point(-te,r);else if(ye(e[0]-t[0])>ee){var a=e[0]<t[0]?te:-te;r=n*a/2,i.point(-a,r),i.point(0,r),i.point(a,r)}else i.point(t[0],t[1])}function _h(e){var t=be(e),n=6*me,i=t>0,r=ye(t)>ee;function a(s,f,h,d){sh(d,e,n,h,s,f)}function l(s,f){return be(s)*be(f)>t}function o(s){var f,h,d,_,v;return{lineStart:function(){_=d=!1,v=1},point:function(m,y){var M=[m,y],b,g=l(m,y),w=i?g?0:c(m,y):g?c(m+(m<0?te:-te),y):0;if(!f&&(_=d=g)&&s.lineStart(),g!==d&&(b=u(f,M),(!b||Ri(f,b)||Ri(M,b))&&(M[2]=1)),g!==d)v=0,g?(s.lineStart(),b=u(M,f),s.point(b[0],b[1])):(b=u(f,M),s.point(b[0],b[1],2),s.lineEnd()),f=b;else if(r&&f&&i^g){var C;!(w&h)&&(C=u(M,f,!0))&&(v=0,i?(s.lineStart(),s.point(C[0][0],C[0][1]),s.point(C[1][0],C[1][1]),s.lineEnd()):(s.point(C[1][0],C[1][1]),s.lineEnd(),s.lineStart(),s.point(C[0][0],C[0][1],3)))}g&&(!f||!Ri(f,M))&&s.point(M[0],M[1]),f=M,d=g,h=w},lineEnd:function(){d&&s.lineEnd(),f=null},clean:function(){return v|(_&&d)<<1}}}function u(s,f,h){var d=tn(s),_=tn(f),v=[1,0,0],m=En(d,_),y=bi(m,m),M=m[0],b=y-M*M;if(!b)return!h&&s;var g=t*y/b,w=-t*M/b,C=En(v,m),E=wi(v,g),U=wi(m,w);Fr(E,U);var L=C,R=bi(E,L),j=bi(L,L),D=R*R-j*(bi(E,E)-1);if(!(D<0)){var I=Nt(D),J=wi(L,(-R-I)/j);if(Fr(J,E),J=Xi(J),!h)return J;var P=s[0],B=f[0],$=s[1],se=f[1],ne;B<P&&(ne=P,P=B,B=ne);var Z=B-P,ze=ye(Z-te)<ee,je=ze||Z<ee;if(!ze&&se<$&&(ne=$,$=se,se=ne),je?ze?$+se>0^J[1]<(ye(J[0]-P)<ee?$:se):$<=J[1]&&J[1]<=se:Z>te^(P<=J[0]&&J[0]<=B)){var Ae=wi(L,(-R+I)/j);return Fr(Ae,E),[J,Xi(Ae)]}}}function c(s,f){var h=i?e:te-e,d=0;return s<-h?d|=1:s>h&&(d|=2),f<-h?d|=4:f>h&&(d|=8),d}return Xu(l,o,a,i?[0,-e]:[-te,e-te])}function vh(e,t,n,i,r,a){var l=e[0],o=e[1],u=t[0],c=t[1],s=0,f=1,h=u-l,d=c-o,_;if(_=n-l,!(!h&&_>0)){if(_/=h,h<0){if(_<s)return;_<f&&(f=_)}else if(h>0){if(_>f)return;_>s&&(s=_)}if(_=r-l,!(!h&&_<0)){if(_/=h,h<0){if(_>f)return;_>s&&(s=_)}else if(h>0){if(_<s)return;_<f&&(f=_)}if(_=i-o,!(!d&&_>0)){if(_/=d,d<0){if(_<s)return;_<f&&(f=_)}else if(d>0){if(_>f)return;_>s&&(s=_)}if(_=a-o,!(!d&&_<0)){if(_/=d,d<0){if(_>f)return;_>s&&(s=_)}else if(d>0){if(_<s)return;_<f&&(f=_)}return s>0&&(e[0]=l+s*h,e[1]=o+s*d),f<1&&(t[0]=l+f*h,t[1]=o+f*d),!0}}}}}var qn=1e9,Mi=-qn;function mh(e,t,n,i){function r(c,s){return e<=c&&c<=n&&t<=s&&s<=i}function a(c,s,f,h){var d=0,_=0;if(c==null||(d=l(c,f))!==(_=l(s,f))||u(c,s)<0^f>0)do h.point(d===0||d===3?e:n,d>1?i:t);while((d=(d+f+4)%4)!==_);else h.point(s[0],s[1])}function l(c,s){return ye(c[0]-e)<ee?s>0?0:3:ye(c[0]-n)<ee?s>0?2:1:ye(c[1]-t)<ee?s>0?1:0:s>0?3:2}function o(c,s){return u(c.x,s.x)}function u(c,s){var f=l(c,1),h=l(s,1);return f!==h?f-h:f===0?s[1]-c[1]:f===1?c[0]-s[0]:f===2?c[1]-s[1]:s[0]-c[0]}return function(c){var s=c,f=Vu(),h,d,_,v,m,y,M,b,g,w,C,E={point:U,lineStart:D,lineEnd:I,polygonStart:R,polygonEnd:j};function U(P,B){r(P,B)&&s.point(P,B)}function L(){for(var P=0,B=0,$=d.length;B<$;++B)for(var se=d[B],ne=1,Z=se.length,ze=se[0],je,Ae,Se=ze[0],Oe=ze[1];ne<Z;++ne)je=Se,Ae=Oe,ze=se[ne],Se=ze[0],Oe=ze[1],Ae<=i?Oe>i&&(Se-je)*(i-Ae)>(Oe-Ae)*(e-je)&&++P:Oe<=i&&(Se-je)*(i-Ae)<(Oe-Ae)*(e-je)&&--P;return P}function R(){s=f,h=[],d=[],C=!0}function j(){var P=L(),B=C&&P,$=(h=Lu(h)).length;(B||$)&&(c.polygonStart(),B&&(c.lineStart(),a(null,null,1,c),c.lineEnd()),$&&Wu(h,o,P,a,c),c.polygonEnd()),s=c,h=d=_=null}function D(){E.point=J,d&&d.push(_=[]),w=!0,g=!1,M=b=NaN}function I(){h&&(J(v,m),y&&g&&f.rejoin(),h.push(f.result())),E.point=U,g&&s.lineEnd()}function J(P,B){var $=r(P,B);if(d&&_.push([P,B]),w)v=P,m=B,y=$,w=!1,$&&(s.lineStart(),s.point(P,B));else if($&&g)s.point(P,B);else{var se=[M=Math.max(Mi,Math.min(qn,M)),b=Math.max(Mi,Math.min(qn,b))],ne=[P=Math.max(Mi,Math.min(qn,P)),B=Math.max(Mi,Math.min(qn,B))];vh(se,ne,e,t,n,i)?(g||(s.lineStart(),s.point(se[0],se[1])),s.point(ne[0],ne[1]),$||s.lineEnd(),C=!1):$&&(s.lineStart(),s.point(P,B),C=!1)}M=P,b=B,g=$}return E}}const _a=e=>e;var Ur=new vt,va=new vt,Ju,$u,ma,ga,qt={point:qe,lineStart:qe,lineEnd:qe,polygonStart:function(){qt.lineStart=gh,qt.lineEnd=bh},polygonEnd:function(){qt.lineStart=qt.lineEnd=qt.point=qe,Ur.add(ye(va)),va=new vt},result:function(){var e=Ur/2;return Ur=new vt,e}};function gh(){qt.point=yh}function yh(e,t){qt.point=Gu,Ju=ma=e,$u=ga=t}function Gu(e,t){va.add(ga*e-ma*t),ma=e,ga=t}function bh(){Gu(Ju,$u)}const Vl=qt;var Tn=1/0,$i=Tn,Kn=-Tn,Gi=Kn,wh={point:kh,lineStart:qe,lineEnd:qe,polygonStart:qe,polygonEnd:qe,result:function(){var e=[[Tn,$i],[Kn,Gi]];return Kn=Gi=-($i=Tn=1/0),e}};function kh(e,t){e<Tn&&(Tn=e),e>Kn&&(Kn=e),t<$i&&($i=t),t>Gi&&(Gi=t)}const Zi=wh;var ya=0,ba=0,On=0,Qi=0,Ki=0,yn=0,wa=0,ka=0,Hn=0,Zu,Qu,wt,kt,pt={point:nn,lineStart:Wl,lineEnd:Xl,polygonStart:function(){pt.lineStart=Ah,pt.lineEnd=Sh},polygonEnd:function(){pt.point=nn,pt.lineStart=Wl,pt.lineEnd=Xl},result:function(){var e=Hn?[wa/Hn,ka/Hn]:yn?[Qi/yn,Ki/yn]:On?[ya/On,ba/On]:[NaN,NaN];return ya=ba=On=Qi=Ki=yn=wa=ka=Hn=0,e}};function nn(e,t){ya+=e,ba+=t,++On}function Wl(){pt.point=Mh}function Mh(e,t){pt.point=Ch,nn(wt=e,kt=t)}function Ch(e,t){var n=e-wt,i=t-kt,r=Nt(n*n+i*i);Qi+=r*(wt+e)/2,Ki+=r*(kt+t)/2,yn+=r,nn(wt=e,kt=t)}function Xl(){pt.point=nn}function Ah(){pt.point=Eh}function Sh(){Ku(Zu,Qu)}function Eh(e,t){pt.point=Ku,nn(Zu=wt=e,Qu=kt=t)}function Ku(e,t){var n=e-wt,i=t-kt,r=Nt(n*n+i*i);Qi+=r*(wt+e)/2,Ki+=r*(kt+t)/2,yn+=r,r=kt*e-wt*t,wa+=r*(wt+e),ka+=r*(kt+t),Hn+=r*3,nn(wt=e,kt=t)}const Jl=pt;function xu(e){this._context=e}xu.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Be);break}}},result:qe};var Ma=new vt,Yr,ec,tc,Bn,Vn,xi={point:qe,lineStart:function(){xi.point=Th},lineEnd:function(){Yr&&nc(ec,tc),xi.point=qe},polygonStart:function(){Yr=!0},polygonEnd:function(){Yr=null},result:function(){var e=+Ma;return Ma=new vt,e}};function Th(e,t){xi.point=nc,ec=Bn=e,tc=Vn=t}function nc(e,t){Bn-=e,Vn-=t,Ma.add(Nt(Bn*Bn+Vn*Vn)),Bn=e,Vn=t}const $l=xi;function ic(){this._string=[]}ic.prototype={_radius:4.5,_circle:Gl(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._string.push("M",e,",",t),this._point=1;break}case 1:{this._string.push("L",e,",",t);break}default:{this._circle==null&&(this._circle=Gl(this._radius)),this._string.push("M",e,",",t,this._circle);break}}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}else return null}};function Gl(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function di(e,t){var n=4.5,i,r;function a(l){return l&&(typeof n=="function"&&r.pointRadius(+n.apply(this,arguments)),Gt(l,i(r))),r.result()}return a.area=function(l){return Gt(l,i(Vl)),Vl.result()},a.measure=function(l){return Gt(l,i($l)),$l.result()},a.bounds=function(l){return Gt(l,i(Zi)),Zi.result()},a.centroid=function(l){return Gt(l,i(Jl)),Jl.result()},a.projection=function(l){return arguments.length?(i=l==null?(e=null,_a):(e=l).stream,a):e},a.context=function(l){return arguments.length?(r=l==null?(t=null,new ic):new xu(t=l),typeof n!="function"&&r.pointRadius(n),a):t},a.pointRadius=function(l){return arguments.length?(n=typeof l=="function"?l:(r.pointRadius(+l),+l),a):n},a.projection(e).context(t)}function Ga(e){return function(t){var n=new Ca;for(var i in e)n[i]=e[i];return n.stream=t,n}}function Ca(){}Ca.prototype={constructor:Ca,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Za(e,t,n){var i=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),i!=null&&e.clipExtent(null),Gt(n,e.stream(Zi)),t(Zi.result()),i!=null&&e.clipExtent(i),e}function Qa(e,t,n){return Za(e,function(i){var r=t[1][0]-t[0][0],a=t[1][1]-t[0][1],l=Math.min(r/(i[1][0]-i[0][0]),a/(i[1][1]-i[0][1])),o=+t[0][0]+(r-l*(i[1][0]+i[0][0]))/2,u=+t[0][1]+(a-l*(i[1][1]+i[0][1]))/2;e.scale(150*l).translate([o,u])},n)}function rc(e,t,n){return Qa(e,[[0,0],t],n)}function ac(e,t,n){return Za(e,function(i){var r=+t,a=r/(i[1][0]-i[0][0]),l=(r-a*(i[1][0]+i[0][0]))/2,o=-a*i[0][1];e.scale(150*a).translate([l,o])},n)}function lc(e,t,n){return Za(e,function(i){var r=+t,a=r/(i[1][1]-i[0][1]),l=-a*i[0][0],o=(r-a*(i[1][1]+i[0][1]))/2;e.scale(150*a).translate([l,o])},n)}var Zl=16,zh=be(30*me);function Ql(e,t){return+t?jh(e,t):Nh(e)}function Nh(e){return Ga({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function jh(e,t){function n(i,r,a,l,o,u,c,s,f,h,d,_,v,m){var y=c-i,M=s-r,b=y*y+M*M;if(b>4*t&&v--){var g=l+h,w=o+d,C=u+_,E=Nt(g*g+w*w+C*C),U=en(C/=E),L=ye(ye(C)-1)<ee||ye(a-f)<ee?(a+f)/2:xt(w,g),R=e(L,U),j=R[0],D=R[1],I=j-i,J=D-r,P=M*I-y*J;(P*P/b>t||ye((y*I+M*J)/b-.5)>.3||l*h+o*d+u*_<zh)&&(n(i,r,a,l,o,u,j,D,L,g/=E,w/=E,C,v,m),m.point(j,D),n(j,D,L,g,w,C,c,s,f,h,d,_,v,m))}}return function(i){var r,a,l,o,u,c,s,f,h,d,_,v,m={point:y,lineStart:M,lineEnd:g,polygonStart:function(){i.polygonStart(),m.lineStart=w},polygonEnd:function(){i.polygonEnd(),m.lineStart=M}};function y(U,L){U=e(U,L),i.point(U[0],U[1])}function M(){f=NaN,m.point=b,i.lineStart()}function b(U,L){var R=tn([U,L]),j=e(U,L);n(f,h,s,d,_,v,f=j[0],h=j[1],s=U,d=R[0],_=R[1],v=R[2],Zl,i),i.point(f,h)}function g(){m.point=y,i.lineEnd()}function w(){M(),m.point=C,m.lineEnd=E}function C(U,L){b(r=U,L),a=f,l=h,o=d,u=_,c=v,m.point=b}function E(){n(f,h,s,d,_,v,a,l,r,o,u,c,Zl,i),m.lineEnd=g,g()}return m}}var Dh=Ga({point:function(e,t){this.stream.point(e*me,t*me)}});function Ph(e){return Ga({point:function(t,n){var i=e(t,n);return this.stream.point(i[0],i[1])}})}function Lh(e,t,n,i,r){function a(l,o){return l*=i,o*=r,[t+e*l,n-e*o]}return a.invert=function(l,o){return[(l-t)/e*i,(n-o)/e*r]},a}function Kl(e,t,n,i,r,a){if(!a)return Lh(e,t,n,i,r);var l=be(a),o=pe(a),u=l*e,c=o*e,s=l/e,f=o/e,h=(o*n-l*t)/e,d=(o*t+l*n)/e;function _(v,m){return v*=i,m*=r,[u*v-c*m+t,n-c*v-u*m]}return _.invert=function(v,m){return[i*(s*v-f*m+h),r*(d-f*v-s*m)]},_}function Rh(e){return oc(function(){return e})()}function oc(e){var t,n=150,i=480,r=250,a=0,l=0,o=0,u=0,c=0,s,f=0,h=1,d=1,_=null,v=Bl,m=null,y,M,b,g=_a,w=.5,C,E,U,L,R;function j(P){return U(P[0]*me,P[1]*me)}function D(P){return P=U.invert(P[0],P[1]),P&&[P[0]*Pe,P[1]*Pe]}j.stream=function(P){return L&&R===P?L:L=Dh(Ph(s)(v(C(g(R=P)))))},j.preclip=function(P){return arguments.length?(v=P,_=void 0,J()):v},j.postclip=function(P){return arguments.length?(g=P,m=y=M=b=null,J()):g},j.clipAngle=function(P){return arguments.length?(v=+P?_h(_=P*me):(_=null,Bl),J()):_*Pe},j.clipExtent=function(P){return arguments.length?(g=P==null?(m=y=M=b=null,_a):mh(m=+P[0][0],y=+P[0][1],M=+P[1][0],b=+P[1][1]),J()):m==null?null:[[m,y],[M,b]]},j.scale=function(P){return arguments.length?(n=+P,I()):n},j.translate=function(P){return arguments.length?(i=+P[0],r=+P[1],I()):[i,r]},j.center=function(P){return arguments.length?(a=P[0]%360*me,l=P[1]%360*me,I()):[a*Pe,l*Pe]},j.rotate=function(P){return arguments.length?(o=P[0]%360*me,u=P[1]%360*me,c=P.length>2?P[2]%360*me:0,I()):[o*Pe,u*Pe,c*Pe]},j.angle=function(P){return arguments.length?(f=P%360*me,I()):f*Pe},j.reflectX=function(P){return arguments.length?(h=P?-1:1,I()):h<0},j.reflectY=function(P){return arguments.length?(d=P?-1:1,I()):d<0},j.precision=function(P){return arguments.length?(C=Ql(E,w=P*P),J()):Nt(w)},j.fitExtent=function(P,B){return Qa(j,P,B)},j.fitSize=function(P,B){return rc(j,P,B)},j.fitWidth=function(P,B){return ac(j,P,B)},j.fitHeight=function(P,B){return lc(j,P,B)};function I(){var P=Kl(n,0,0,h,d,f).apply(null,t(a,l)),B=Kl(n,i-P[0],r-P[1],h,d,f);return s=Bu(o,u,c),E=da(t,B),U=da(s,E),C=Ql(E,w),J()}function J(){return L=R=null,j}return function(){return t=e.apply(this,arguments),j.invert=t.invert&&D,I()}}function Fh(e){var t=0,n=te/3,i=oc(e),r=i(t,n);return r.parallels=function(a){return arguments.length?i(t=a[0]*me,n=a[1]*me):[t*Pe,n*Pe]},r}function Ih(e){var t=be(e);function n(i,r){return[i*t,pe(r)/t]}return n.invert=function(i,r){return[i/t,en(r*t)]},n}function Uh(e,t){var n=pe(e),i=(n+pe(t))/2;if(ye(i)<ee)return Ih(e);var r=1+n*(2*i-n),a=Nt(r)/i;function l(o,u){var c=Nt(r-2*i*pe(u))/i;return[c*pe(o*=i),a-c*be(o)]}return l.invert=function(o,u){var c=a-u,s=xt(o,ye(c))*Li(c);return c*i<0&&(s-=te*Li(o)*Li(c)),[s/i,en((r-(o*o+c*c)*i*i)/(2*i))]},l}function Aa(){return Fh(Uh).scale(155.424).center([0,33.6442])}function Yh(){return Aa().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function qh(e){var t=e.length;return{point:function(n,i){for(var r=-1;++r<t;)e[r].point(n,i)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function vr(){var e,t,n=Yh(),i,r=Aa().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,l=Aa().rotate([157,0]).center([-3,19.9]).parallels([8,18]),o,u,c={point:function(h,d){u=[h,d]}};function s(h){var d=h[0],_=h[1];return u=null,i.point(d,_),u||(a.point(d,_),u)||(o.point(d,_),u)}s.invert=function(h){var d=n.scale(),_=n.translate(),v=(h[0]-_[0])/d,m=(h[1]-_[1])/d;return(m>=.12&&m<.234&&v>=-.425&&v<-.214?r:m>=.166&&m<.234&&v>=-.214&&v<-.115?l:n).invert(h)},s.stream=function(h){return e&&t===h?e:e=qh([n.stream(t=h),r.stream(h),l.stream(h)])},s.precision=function(h){return arguments.length?(n.precision(h),r.precision(h),l.precision(h),f()):n.precision()},s.scale=function(h){return arguments.length?(n.scale(h),r.scale(h*.35),l.scale(h),s.translate(n.translate())):n.scale()},s.translate=function(h){if(!arguments.length)return n.translate();var d=n.scale(),_=+h[0],v=+h[1];return i=n.translate(h).clipExtent([[_-.455*d,v-.238*d],[_+.455*d,v+.238*d]]).stream(c),a=r.translate([_-.307*d,v+.201*d]).clipExtent([[_-.425*d+ee,v+.12*d+ee],[_-.214*d-ee,v+.234*d-ee]]).stream(c),o=l.translate([_-.205*d,v+.212*d]).clipExtent([[_-.214*d+ee,v+.166*d+ee],[_-.115*d-ee,v+.234*d-ee]]).stream(c),f()},s.fitExtent=function(h,d){return Qa(s,h,d)},s.fitSize=function(h,d){return rc(s,h,d)},s.fitWidth=function(h,d){return ac(s,h,d)},s.fitHeight=function(h,d){return lc(s,h,d)};function f(){return e=t=null,s}return s.scale(1070)}function Ka(e,t){return[e,Qf(Kf((rt+t)/2))]}Ka.invert=function(e,t){return[e,2*Ru(Zf(t))-rt]};function Oh(){return Hh(Ka).scale(961/Be)}function Hh(e){var t=Rh(e),n=t.center,i=t.scale,r=t.translate,a=t.clipExtent,l=null,o,u,c;t.scale=function(f){return arguments.length?(i(f),s()):i()},t.translate=function(f){return arguments.length?(r(f),s()):r()},t.center=function(f){return arguments.length?(n(f),s()):n()},t.clipExtent=function(f){return arguments.length?(f==null?l=o=u=c=null:(l=+f[0][0],o=+f[0][1],u=+f[1][0],c=+f[1][1]),s()):l==null?null:[[l,o],[u,c]]};function s(){var f=te*i(),h=t(oh(t.rotate()).invert([0,0]));return a(l==null?[[h[0]-f,h[1]-f],[h[0]+f,h[1]+f]]:e===Ka?[[Math.max(h[0]-f,l),o],[Math.min(h[0]+f,u),c]]:[[l,Math.max(h[1]-f,o)],[u,Math.min(h[1]+f,c)]])}return s()}function xl(e){return Object.prototype.toString.call(e)==="[object Date]"}function Sa(e,t){if(e===t||e!==e)return()=>e;const n=typeof e;if(n!==typeof t||Array.isArray(e)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const i=t.map((r,a)=>Sa(e[a],r));return r=>i.map(a=>a(r))}if(n==="object"){if(!e||!t)throw new Error("Object cannot be null");if(xl(e)&&xl(t)){e=e.getTime(),t=t.getTime();const a=t-e;return l=>new Date(e+l*a)}const i=Object.keys(t),r={};return i.forEach(a=>{r[a]=Sa(e[a],t[a])}),a=>{const l={};return i.forEach(o=>{l[o]=r[o](a)}),l}}if(n==="number"){const i=t-e;return r=>e+r*i}throw new Error(`Cannot interpolate ${n} values`)}function mr(e,t={}){const n=ci(e);let i,r=e;function a(l,o){if(e==null)return n.set(e=l),Promise.resolve();r=l;let u=i,c=!1,{delay:s=0,duration:f=400,easing:h=af,interpolate:d=Sa}=xr(xr({},t),o);if(f===0)return u&&(u.abort(),u=null),n.set(e=r),Promise.resolve();const _=sf()+s;let v;return i=uf(m=>{if(m<_)return!0;c||(v=d(e,l),typeof f=="function"&&(f=f(e,l)),c=!0),u&&(u.abort(),u=null);const y=m-_;return y>f?(n.set(e=l),!1):(n.set(e=v(h(y/f))),!0)}),i.promise}return{set:a,update:(l,o)=>a(l(r,e),o),subscribe:n.subscribe}}function Bh(e){return e}var qr=1,Or=2,Ea=3,Wn=4,eo=1e-6;function Vh(e){return"translate("+e+",0)"}function Wh(e){return"translate(0,"+e+")"}function Xh(e){return t=>+e(t)}function Jh(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function $h(){return!this.__axis}function sc(e,t){var n=[],i=null,r=null,a=6,l=6,o=3,u=typeof window<"u"&&window.devicePixelRatio>1?0:.5,c=e===qr||e===Wn?-1:1,s=e===Wn||e===Or?"x":"y",f=e===qr||e===Ea?Vh:Wh;function h(d){var _=i==null?t.ticks?t.ticks.apply(t,n):t.domain():i,v=r==null?t.tickFormat?t.tickFormat.apply(t,n):Bh:r,m=Math.max(a,0)+o,y=t.range(),M=+y[0]+u,b=+y[y.length-1]+u,g=(t.bandwidth?Jh:Xh)(t.copy(),u),w=d.selection?d.selection():d,C=w.selectAll(".domain").data([null]),E=w.selectAll(".tick").data(_,t).order(),U=E.exit(),L=E.enter().append("g").attr("class","tick"),R=E.select("line"),j=E.select("text");C=C.merge(C.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),E=E.merge(L),R=R.merge(L.append("line").attr("stroke","currentColor").attr(s+"2",c*a)),j=j.merge(L.append("text").attr("fill","currentColor").attr(s,c*m).attr("dy",e===qr?"0em":e===Ea?"0.71em":"0.32em")),d!==w&&(C=C.transition(d),E=E.transition(d),R=R.transition(d),j=j.transition(d),U=U.transition(d).attr("opacity",eo).attr("transform",function(D){return isFinite(D=g(D))?f(D+u):this.getAttribute("transform")}),L.attr("opacity",eo).attr("transform",function(D){var I=this.parentNode.__axis;return f((I&&isFinite(I=I(D))?I:g(D))+u)})),U.remove(),C.attr("d",e===Wn||e===Or?l?"M"+c*l+","+M+"H"+u+"V"+b+"H"+c*l:"M"+u+","+M+"V"+b:l?"M"+M+","+c*l+"V"+u+"H"+b+"V"+c*l:"M"+M+","+u+"H"+b),E.attr("opacity",1).attr("transform",function(D){return f(g(D)+u)}),R.attr(s+"2",c*a),j.attr(s,c*m).text(v),w.filter($h).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===Or?"start":e===Wn?"end":"middle"),w.each(function(){this.__axis=g})}return h.scale=function(d){return arguments.length?(t=d,h):t},h.ticks=function(){return n=Array.from(arguments),h},h.tickArguments=function(d){return arguments.length?(n=d==null?[]:Array.from(d),h):n.slice()},h.tickValues=function(d){return arguments.length?(i=d==null?null:Array.from(d),h):i&&i.slice()},h.tickFormat=function(d){return arguments.length?(r=d,h):r},h.tickSize=function(d){return arguments.length?(a=l=+d,h):a},h.tickSizeInner=function(d){return arguments.length?(a=+d,h):a},h.tickSizeOuter=function(d){return arguments.length?(l=+d,h):l},h.tickPadding=function(d){return arguments.length?(o=+d,h):o},h.offset=function(d){return arguments.length?(u=+d,h):u},h}function Ta(e){return sc(Ea,e)}function Gh(e){return sc(Wn,e)}var Zh={value:()=>{}};function uc(){for(var e=0,t=arguments.length,n={},i;e<t;++e){if(!(i=arguments[e]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new Fi(n)}function Fi(e){this._=e}function Qh(e,t){return e.trim().split(/^|\s+/).map(function(n){var i="",r=n.indexOf(".");if(r>=0&&(i=n.slice(r+1),n=n.slice(0,r)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}Fi.prototype=uc.prototype={constructor:Fi,on:function(e,t){var n=this._,i=Qh(e+"",n),r,a=-1,l=i.length;if(arguments.length<2){for(;++a<l;)if((r=(e=i[a]).type)&&(r=Kh(n[r],e.name)))return r;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<l;)if(r=(e=i[a]).type)n[r]=to(n[r],e.name,t);else if(t==null)for(r in n)n[r]=to(n[r],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Fi(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var n=new Array(r),i=0,r,a;i<r;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],i=0,r=a.length;i<r;++i)a[i].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],r=0,a=i.length;r<a;++r)i[r].value.apply(t,n)}};function Kh(e,t){for(var n=0,i=e.length,r;n<i;++n)if((r=e[n]).name===t)return r.value}function to(e,t,n){for(var i=0,r=e.length;i<r;++i)if(e[i].name===t){e[i]=Zh,e=e.slice(0,i).concat(e.slice(i+1));break}return n!=null&&e.push({name:t,value:n}),e}var za="http://www.w3.org/1999/xhtml";const no={svg:"http://www.w3.org/2000/svg",xhtml:za,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function gr(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),no.hasOwnProperty(t)?{space:no[t],local:e}:e}function xh(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===za&&t.documentElement.namespaceURI===za?t.createElement(e):t.createElementNS(n,e)}}function ed(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function cc(e){var t=gr(e);return(t.local?ed:xh)(t)}function td(){}function xa(e){return e==null?td:function(){return this.querySelector(e)}}function nd(e){typeof e!="function"&&(e=xa(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var a=t[r],l=a.length,o=i[r]=new Array(l),u,c,s=0;s<l;++s)(u=a[s])&&(c=e.call(u,u.__data__,s,a))&&("__data__"in u&&(c.__data__=u.__data__),o[s]=c);return new Ve(i,this._parents)}function fc(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function id(){return[]}function hc(e){return e==null?id:function(){return this.querySelectorAll(e)}}function rd(e){return function(){return fc(e.apply(this,arguments))}}function ad(e){typeof e=="function"?e=rd(e):e=hc(e);for(var t=this._groups,n=t.length,i=[],r=[],a=0;a<n;++a)for(var l=t[a],o=l.length,u,c=0;c<o;++c)(u=l[c])&&(i.push(e.call(u,u.__data__,c,l)),r.push(u));return new Ve(i,r)}function dc(e){return function(){return this.matches(e)}}function pc(e){return function(t){return t.matches(e)}}var ld=Array.prototype.find;function od(e){return function(){return ld.call(this.children,e)}}function sd(){return this.firstElementChild}function ud(e){return this.select(e==null?sd:od(typeof e=="function"?e:pc(e)))}var cd=Array.prototype.filter;function fd(){return Array.from(this.children)}function hd(e){return function(){return cd.call(this.children,e)}}function dd(e){return this.selectAll(e==null?fd:hd(typeof e=="function"?e:pc(e)))}function pd(e){typeof e!="function"&&(e=dc(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var a=t[r],l=a.length,o=i[r]=[],u,c=0;c<l;++c)(u=a[c])&&e.call(u,u.__data__,c,a)&&o.push(u);return new Ve(i,this._parents)}function _c(e){return new Array(e.length)}function _d(){return new Ve(this._enter||this._groups.map(_c),this._parents)}function er(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}er.prototype={constructor:er,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function vd(e){return function(){return e}}function md(e,t,n,i,r,a){for(var l=0,o,u=t.length,c=a.length;l<c;++l)(o=t[l])?(o.__data__=a[l],i[l]=o):n[l]=new er(e,a[l]);for(;l<u;++l)(o=t[l])&&(r[l]=o)}function gd(e,t,n,i,r,a,l){var o,u,c=new Map,s=t.length,f=a.length,h=new Array(s),d;for(o=0;o<s;++o)(u=t[o])&&(h[o]=d=l.call(u,u.__data__,o,t)+"",c.has(d)?r[o]=u:c.set(d,u));for(o=0;o<f;++o)d=l.call(e,a[o],o,a)+"",(u=c.get(d))?(i[o]=u,u.__data__=a[o],c.delete(d)):n[o]=new er(e,a[o]);for(o=0;o<s;++o)(u=t[o])&&c.get(h[o])===u&&(r[o]=u)}function yd(e){return e.__data__}function bd(e,t){if(!arguments.length)return Array.from(this,yd);var n=t?gd:md,i=this._parents,r=this._groups;typeof e!="function"&&(e=vd(e));for(var a=r.length,l=new Array(a),o=new Array(a),u=new Array(a),c=0;c<a;++c){var s=i[c],f=r[c],h=f.length,d=wd(e.call(s,s&&s.__data__,c,i)),_=d.length,v=o[c]=new Array(_),m=l[c]=new Array(_),y=u[c]=new Array(h);n(s,f,v,m,y,d,t);for(var M=0,b=0,g,w;M<_;++M)if(g=v[M]){for(M>=b&&(b=M+1);!(w=m[b])&&++b<_;);g._next=w||null}}return l=new Ve(l,i),l._enter=o,l._exit=u,l}function wd(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function kd(){return new Ve(this._exit||this._groups.map(_c),this._parents)}function Md(e,t,n){var i=this.enter(),r=this,a=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),t!=null&&(r=t(r),r&&(r=r.selection())),n==null?a.remove():n(a),i&&r?i.merge(r).order():r}function Cd(e){for(var t=e.selection?e.selection():e,n=this._groups,i=t._groups,r=n.length,a=i.length,l=Math.min(r,a),o=new Array(r),u=0;u<l;++u)for(var c=n[u],s=i[u],f=c.length,h=o[u]=new Array(f),d,_=0;_<f;++_)(d=c[_]||s[_])&&(h[_]=d);for(;u<r;++u)o[u]=n[u];return new Ve(o,this._parents)}function Ad(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i=e[t],r=i.length-1,a=i[r],l;--r>=0;)(l=i[r])&&(a&&l.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(l,a),a=l);return this}function Sd(e){e||(e=Ed);function t(f,h){return f&&h?e(f.__data__,h.__data__):!f-!h}for(var n=this._groups,i=n.length,r=new Array(i),a=0;a<i;++a){for(var l=n[a],o=l.length,u=r[a]=new Array(o),c,s=0;s<o;++s)(c=l[s])&&(u[s]=c);u.sort(t)}return new Ve(r,this._parents).order()}function Ed(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Td(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function zd(){return Array.from(this)}function Nd(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],r=0,a=i.length;r<a;++r){var l=i[r];if(l)return l}return null}function jd(){let e=0;for(const t of this)++e;return e}function Dd(){return!this.node()}function Pd(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var r=t[n],a=0,l=r.length,o;a<l;++a)(o=r[a])&&e.call(o,o.__data__,a,r);return this}function Ld(e){return function(){this.removeAttribute(e)}}function Rd(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Fd(e,t){return function(){this.setAttribute(e,t)}}function Id(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Ud(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Yd(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function qd(e,t){var n=gr(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((t==null?n.local?Rd:Ld:typeof t=="function"?n.local?Yd:Ud:n.local?Id:Fd)(n,t))}function vc(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Od(e){return function(){this.style.removeProperty(e)}}function Hd(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Bd(e,t,n){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function Vd(e,t,n){return arguments.length>1?this.each((t==null?Od:typeof t=="function"?Bd:Hd)(e,t,n==null?"":n)):zn(this.node(),e)}function zn(e,t){return e.style.getPropertyValue(t)||vc(e).getComputedStyle(e,null).getPropertyValue(t)}function Wd(e){return function(){delete this[e]}}function Xd(e,t){return function(){this[e]=t}}function Jd(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function $d(e,t){return arguments.length>1?this.each((t==null?Wd:typeof t=="function"?Jd:Xd)(e,t)):this.node()[e]}function mc(e){return e.trim().split(/^|\s+/)}function el(e){return e.classList||new gc(e)}function gc(e){this._node=e,this._names=mc(e.getAttribute("class")||"")}gc.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function yc(e,t){for(var n=el(e),i=-1,r=t.length;++i<r;)n.add(t[i])}function bc(e,t){for(var n=el(e),i=-1,r=t.length;++i<r;)n.remove(t[i])}function Gd(e){return function(){yc(this,e)}}function Zd(e){return function(){bc(this,e)}}function Qd(e,t){return function(){(t.apply(this,arguments)?yc:bc)(this,e)}}function Kd(e,t){var n=mc(e+"");if(arguments.length<2){for(var i=el(this.node()),r=-1,a=n.length;++r<a;)if(!i.contains(n[r]))return!1;return!0}return this.each((typeof t=="function"?Qd:t?Gd:Zd)(n,t))}function xd(){this.textContent=""}function ep(e){return function(){this.textContent=e}}function tp(e){return function(){var t=e.apply(this,arguments);this.textContent=t==null?"":t}}function np(e){return arguments.length?this.each(e==null?xd:(typeof e=="function"?tp:ep)(e)):this.node().textContent}function ip(){this.innerHTML=""}function rp(e){return function(){this.innerHTML=e}}function ap(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t==null?"":t}}function lp(e){return arguments.length?this.each(e==null?ip:(typeof e=="function"?ap:rp)(e)):this.node().innerHTML}function op(){this.nextSibling&&this.parentNode.appendChild(this)}function sp(){return this.each(op)}function up(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function cp(){return this.each(up)}function fp(e){var t=typeof e=="function"?e:cc(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function hp(){return null}function dp(e,t){var n=typeof e=="function"?e:cc(e),i=t==null?hp:typeof t=="function"?t:xa(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function pp(){var e=this.parentNode;e&&e.removeChild(this)}function _p(){return this.each(pp)}function vp(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function mp(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function gp(e){return this.select(e?mp:vp)}function yp(e){return arguments.length?this.property("__data__",e):this.node().__data__}function bp(e){return function(t){e.call(this,t,this.__data__)}}function wp(e){return e.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{type:t,name:n}})}function kp(e){return function(){var t=this.__on;if(!!t){for(var n=0,i=-1,r=t.length,a;n<r;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++i]=a;++i?t.length=i:delete this.__on}}}function Mp(e,t,n){return function(){var i=this.__on,r,a=bp(t);if(i){for(var l=0,o=i.length;l<o;++l)if((r=i[l]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=a,r.options=n),r.value=t;return}}this.addEventListener(e.type,a,n),r={type:e.type,name:e.name,value:t,listener:a,options:n},i?i.push(r):this.__on=[r]}}function Cp(e,t,n){var i=wp(e+""),r,a=i.length,l;if(arguments.length<2){var o=this.node().__on;if(o){for(var u=0,c=o.length,s;u<c;++u)for(r=0,s=o[u];r<a;++r)if((l=i[r]).type===s.type&&l.name===s.name)return s.value}return}for(o=t?Mp:kp,r=0;r<a;++r)this.each(o(i[r],t,n));return this}function wc(e,t,n){var i=vc(e),r=i.CustomEvent;typeof r=="function"?r=new r(t,n):(r=i.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function Ap(e,t){return function(){return wc(this,e,t)}}function Sp(e,t){return function(){return wc(this,e,t.apply(this,arguments))}}function Ep(e,t){return this.each((typeof t=="function"?Sp:Ap)(e,t))}function*Tp(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],r=0,a=i.length,l;r<a;++r)(l=i[r])&&(yield l)}var tl=[null];function Ve(e,t){this._groups=e,this._parents=t}function pi(){return new Ve([[document.documentElement]],tl)}function zp(){return this}Ve.prototype=pi.prototype={constructor:Ve,select:nd,selectAll:ad,selectChild:ud,selectChildren:dd,filter:pd,data:bd,enter:_d,exit:kd,join:Md,merge:Cd,selection:zp,order:Ad,sort:Sd,call:Td,nodes:zd,node:Nd,size:jd,empty:Dd,each:Pd,attr:qd,style:Vd,property:$d,classed:Kd,text:np,html:lp,raise:sp,lower:cp,append:fp,insert:dp,remove:_p,clone:gp,datum:yp,on:Cp,dispatch:Ep,[Symbol.iterator]:Tp};function q(e){return typeof e=="string"?new Ve([[document.querySelector(e)]],[document.documentElement]):new Ve([[e]],tl)}function ut(e){return typeof e=="string"?new Ve([document.querySelectorAll(e)],[document.documentElement]):new Ve([fc(e)],tl)}function nl(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function kc(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function _i(){}var xn=.7,tr=1/xn,An="\\s*([+-]?\\d+)\\s*",ei="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Mt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Np=/^#([0-9a-f]{3,8})$/,jp=new RegExp(`^rgb\\(${An},${An},${An}\\)$`),Dp=new RegExp(`^rgb\\(${Mt},${Mt},${Mt}\\)$`),Pp=new RegExp(`^rgba\\(${An},${An},${An},${ei}\\)$`),Lp=new RegExp(`^rgba\\(${Mt},${Mt},${Mt},${ei}\\)$`),Rp=new RegExp(`^hsl\\(${ei},${Mt},${Mt}\\)$`),Fp=new RegExp(`^hsla\\(${ei},${Mt},${Mt},${ei}\\)$`),io={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};nl(_i,rn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ro,formatHex:ro,formatHex8:Ip,formatHsl:Up,formatRgb:ao,toString:ao});function ro(){return this.rgb().formatHex()}function Ip(){return this.rgb().formatHex8()}function Up(){return Mc(this).formatHsl()}function ao(){return this.rgb().formatRgb()}function rn(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Np.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?lo(t):n===3?new at(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ci(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ci(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=jp.exec(e))?new at(t[1],t[2],t[3],1):(t=Dp.exec(e))?new at(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Pp.exec(e))?Ci(t[1],t[2],t[3],t[4]):(t=Lp.exec(e))?Ci(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Rp.exec(e))?uo(t[1],t[2]/100,t[3]/100,1):(t=Fp.exec(e))?uo(t[1],t[2]/100,t[3]/100,t[4]):io.hasOwnProperty(e)?lo(io[e]):e==="transparent"?new at(NaN,NaN,NaN,0):null}function lo(e){return new at(e>>16&255,e>>8&255,e&255,1)}function Ci(e,t,n,i){return i<=0&&(e=t=n=NaN),new at(e,t,n,i)}function Yp(e){return e instanceof _i||(e=rn(e)),e?(e=e.rgb(),new at(e.r,e.g,e.b,e.opacity)):new at}function Na(e,t,n,i){return arguments.length===1?Yp(e):new at(e,t,n,i==null?1:i)}function at(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}nl(at,Na,kc(_i,{brighter(e){return e=e==null?tr:Math.pow(tr,e),new at(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?xn:Math.pow(xn,e),new at(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new at(Kt(this.r),Kt(this.g),Kt(this.b),nr(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:oo,formatHex:oo,formatHex8:qp,formatRgb:so,toString:so}));function oo(){return`#${Qt(this.r)}${Qt(this.g)}${Qt(this.b)}`}function qp(){return`#${Qt(this.r)}${Qt(this.g)}${Qt(this.b)}${Qt((isNaN(this.opacity)?1:this.opacity)*255)}`}function so(){const e=nr(this.opacity);return`${e===1?"rgb(":"rgba("}${Kt(this.r)}, ${Kt(this.g)}, ${Kt(this.b)}${e===1?")":`, ${e})`}`}function nr(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Kt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Qt(e){return e=Kt(e),(e<16?"0":"")+e.toString(16)}function uo(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new _t(e,t,n,i)}function Mc(e){if(e instanceof _t)return new _t(e.h,e.s,e.l,e.opacity);if(e instanceof _i||(e=rn(e)),!e)return new _t;if(e instanceof _t)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,r=Math.min(t,n,i),a=Math.max(t,n,i),l=NaN,o=a-r,u=(a+r)/2;return o?(t===a?l=(n-i)/o+(n<i)*6:n===a?l=(i-t)/o+2:l=(t-n)/o+4,o/=u<.5?a+r:2-a-r,l*=60):o=u>0&&u<1?0:l,new _t(l,o,u,e.opacity)}function Op(e,t,n,i){return arguments.length===1?Mc(e):new _t(e,t,n,i==null?1:i)}function _t(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}nl(_t,Op,kc(_i,{brighter(e){return e=e==null?tr:Math.pow(tr,e),new _t(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?xn:Math.pow(xn,e),new _t(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,r=2*n-i;return new at(Hr(e>=240?e-240:e+120,r,i),Hr(e,r,i),Hr(e<120?e+240:e-120,r,i),this.opacity)},clamp(){return new _t(co(this.h),Ai(this.s),Ai(this.l),nr(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=nr(this.opacity);return`${e===1?"hsl(":"hsla("}${co(this.h)}, ${Ai(this.s)*100}%, ${Ai(this.l)*100}%${e===1?")":`, ${e})`}`}}));function co(e){return e=(e||0)%360,e<0?e+360:e}function Ai(e){return Math.max(0,Math.min(1,e||0))}function Hr(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const il=e=>()=>e;function Hp(e,t){return function(n){return e+n*t}}function Bp(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function Vp(e){return(e=+e)==1?Cc:function(t,n){return n-t?Bp(t,n,e):il(isNaN(t)?n:t)}}function Cc(e,t){var n=t-e;return n?Hp(e,n):il(isNaN(e)?t:e)}const ir=function e(t){var n=Vp(t);function i(r,a){var l=n((r=Na(r)).r,(a=Na(a)).r),o=n(r.g,a.g),u=n(r.b,a.b),c=Cc(r.opacity,a.opacity);return function(s){return r.r=l(s),r.g=o(s),r.b=u(s),r.opacity=c(s),r+""}}return i.gamma=e,i}(1);function Wp(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,i=t.slice(),r;return function(a){for(r=0;r<n;++r)i[r]=e[r]*(1-a)+t[r]*a;return i}}function Xp(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Jp(e,t){var n=t?t.length:0,i=e?Math.min(n,e.length):0,r=new Array(i),a=new Array(n),l;for(l=0;l<i;++l)r[l]=rl(e[l],t[l]);for(;l<n;++l)a[l]=t[l];return function(o){for(l=0;l<i;++l)a[l]=r[l](o);return a}}function $p(e,t){var n=new Date;return e=+e,t=+t,function(i){return n.setTime(e*(1-i)+t*i),n}}function dt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Gp(e,t){var n={},i={},r;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(r in t)r in e?n[r]=rl(e[r],t[r]):i[r]=t[r];return function(a){for(r in n)i[r]=n[r](a);return i}}var ja=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Br=new RegExp(ja.source,"g");function Zp(e){return function(){return e}}function Qp(e){return function(t){return e(t)+""}}function Ac(e,t){var n=ja.lastIndex=Br.lastIndex=0,i,r,a,l=-1,o=[],u=[];for(e=e+"",t=t+"";(i=ja.exec(e))&&(r=Br.exec(t));)(a=r.index)>n&&(a=t.slice(n,a),o[l]?o[l]+=a:o[++l]=a),(i=i[0])===(r=r[0])?o[l]?o[l]+=r:o[++l]=r:(o[++l]=null,u.push({i:l,x:dt(i,r)})),n=Br.lastIndex;return n<t.length&&(a=t.slice(n),o[l]?o[l]+=a:o[++l]=a),o.length<2?u[0]?Qp(u[0].x):Zp(t):(t=u.length,function(c){for(var s=0,f;s<t;++s)o[(f=u[s]).i]=f.x(c);return o.join("")})}function rl(e,t){var n=typeof t,i;return t==null||n==="boolean"?il(t):(n==="number"?dt:n==="string"?(i=rn(t))?(t=i,ir):Ac:t instanceof rn?ir:t instanceof Date?$p:Xp(t)?Wp:Array.isArray(t)?Jp:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Gp:dt)(e,t)}function Kp(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var fo=180/Math.PI,Da={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Sc(e,t,n,i,r,a){var l,o,u;return(l=Math.sqrt(e*e+t*t))&&(e/=l,t/=l),(u=e*n+t*i)&&(n-=e*u,i-=t*u),(o=Math.sqrt(n*n+i*i))&&(n/=o,i/=o,u/=o),e*i<t*n&&(e=-e,t=-t,u=-u,l=-l),{translateX:r,translateY:a,rotate:Math.atan2(t,e)*fo,skewX:Math.atan(u)*fo,scaleX:l,scaleY:o}}var Si;function xp(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Da:Sc(t.a,t.b,t.c,t.d,t.e,t.f)}function e0(e){return e==null||(Si||(Si=document.createElementNS("http://www.w3.org/2000/svg","g")),Si.setAttribute("transform",e),!(e=Si.transform.baseVal.consolidate()))?Da:(e=e.matrix,Sc(e.a,e.b,e.c,e.d,e.e,e.f))}function Ec(e,t,n,i){function r(c){return c.length?c.pop()+" ":""}function a(c,s,f,h,d,_){if(c!==f||s!==h){var v=d.push("translate(",null,t,null,n);_.push({i:v-4,x:dt(c,f)},{i:v-2,x:dt(s,h)})}else(f||h)&&d.push("translate("+f+t+h+n)}function l(c,s,f,h){c!==s?(c-s>180?s+=360:s-c>180&&(c+=360),h.push({i:f.push(r(f)+"rotate(",null,i)-2,x:dt(c,s)})):s&&f.push(r(f)+"rotate("+s+i)}function o(c,s,f,h){c!==s?h.push({i:f.push(r(f)+"skewX(",null,i)-2,x:dt(c,s)}):s&&f.push(r(f)+"skewX("+s+i)}function u(c,s,f,h,d,_){if(c!==f||s!==h){var v=d.push(r(d)+"scale(",null,",",null,")");_.push({i:v-4,x:dt(c,f)},{i:v-2,x:dt(s,h)})}else(f!==1||h!==1)&&d.push(r(d)+"scale("+f+","+h+")")}return function(c,s){var f=[],h=[];return c=e(c),s=e(s),a(c.translateX,c.translateY,s.translateX,s.translateY,f,h),l(c.rotate,s.rotate,f,h),o(c.skewX,s.skewX,f,h),u(c.scaleX,c.scaleY,s.scaleX,s.scaleY,f,h),c=s=null,function(d){for(var _=-1,v=h.length,m;++_<v;)f[(m=h[_]).i]=m.x(d);return f.join("")}}}var t0=Ec(xp,"px, ","px)","deg)"),n0=Ec(e0,", ",")",")"),Nn=0,Xn=0,Ln=0,Tc=1e3,rr,Jn,ar=0,an=0,yr=0,ti=typeof performance=="object"&&performance.now?performance:Date,zc=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function al(){return an||(zc(i0),an=ti.now()+yr)}function i0(){an=0}function lr(){this._call=this._time=this._next=null}lr.prototype=Nc.prototype={constructor:lr,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?al():+n)+(t==null?0:+t),!this._next&&Jn!==this&&(Jn?Jn._next=this:rr=this,Jn=this),this._call=e,this._time=n,Pa()},stop:function(){this._call&&(this._call=null,this._time=1/0,Pa())}};function Nc(e,t,n){var i=new lr;return i.restart(e,t,n),i}function r0(){al(),++Nn;for(var e=rr,t;e;)(t=an-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Nn}function ho(){an=(ar=ti.now())+yr,Nn=Xn=0;try{r0()}finally{Nn=0,l0(),an=0}}function a0(){var e=ti.now(),t=e-ar;t>Tc&&(yr-=t,ar=e)}function l0(){for(var e,t=rr,n,i=1/0;t;)t._call?(i>t._time&&(i=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:rr=n);Jn=e,Pa(i)}function Pa(e){if(!Nn){Xn&&(Xn=clearTimeout(Xn));var t=e-an;t>24?(e<1/0&&(Xn=setTimeout(ho,e-ti.now()-yr)),Ln&&(Ln=clearInterval(Ln))):(Ln||(ar=ti.now(),Ln=setInterval(a0,Tc)),Nn=1,zc(ho))}}function po(e,t,n){var i=new lr;return t=t==null?0:+t,i.restart(r=>{i.stop(),e(r+t)},t,n),i}var o0=uc("start","end","cancel","interrupt"),s0=[],jc=0,_o=1,La=2,Ii=3,vo=4,Ra=5,Ui=6;function br(e,t,n,i,r,a){var l=e.__transition;if(!l)e.__transition={};else if(n in l)return;u0(e,n,{name:t,index:i,group:r,on:o0,tween:s0,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:jc})}function ll(e,t){var n=mt(e,t);if(n.state>jc)throw new Error("too late; already scheduled");return n}function Ct(e,t){var n=mt(e,t);if(n.state>Ii)throw new Error("too late; already running");return n}function mt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function u0(e,t,n){var i=e.__transition,r;i[t]=n,n.timer=Nc(a,0,n.time);function a(c){n.state=_o,n.timer.restart(l,n.delay,n.time),n.delay<=c&&l(c-n.delay)}function l(c){var s,f,h,d;if(n.state!==_o)return u();for(s in i)if(d=i[s],d.name===n.name){if(d.state===Ii)return po(l);d.state===vo?(d.state=Ui,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete i[s]):+s<t&&(d.state=Ui,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete i[s])}if(po(function(){n.state===Ii&&(n.state=vo,n.timer.restart(o,n.delay,n.time),o(c))}),n.state=La,n.on.call("start",e,e.__data__,n.index,n.group),n.state===La){for(n.state=Ii,r=new Array(h=n.tween.length),s=0,f=-1;s<h;++s)(d=n.tween[s].value.call(e,e.__data__,n.index,n.group))&&(r[++f]=d);r.length=f+1}}function o(c){for(var s=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(u),n.state=Ra,1),f=-1,h=r.length;++f<h;)r[f].call(e,s);n.state===Ra&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){n.state=Ui,n.timer.stop(),delete i[t];for(var c in i)return;delete e.__transition}}function c0(e,t){var n=e.__transition,i,r,a=!0,l;if(!!n){t=t==null?null:t+"";for(l in n){if((i=n[l]).name!==t){a=!1;continue}r=i.state>La&&i.state<Ra,i.state=Ui,i.timer.stop(),i.on.call(r?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete n[l]}a&&delete e.__transition}}function f0(e){return this.each(function(){c0(this,e)})}function h0(e,t){var n,i;return function(){var r=Ct(this,e),a=r.tween;if(a!==n){i=n=a;for(var l=0,o=i.length;l<o;++l)if(i[l].name===t){i=i.slice(),i.splice(l,1);break}}r.tween=i}}function d0(e,t,n){var i,r;if(typeof n!="function")throw new Error;return function(){var a=Ct(this,e),l=a.tween;if(l!==i){r=(i=l).slice();for(var o={name:t,value:n},u=0,c=r.length;u<c;++u)if(r[u].name===t){r[u]=o;break}u===c&&r.push(o)}a.tween=r}}function p0(e,t){var n=this._id;if(e+="",arguments.length<2){for(var i=mt(this.node(),n).tween,r=0,a=i.length,l;r<a;++r)if((l=i[r]).name===e)return l.value;return null}return this.each((t==null?h0:d0)(n,e,t))}function ol(e,t,n){var i=e._id;return e.each(function(){var r=Ct(this,i);(r.value||(r.value={}))[t]=n.apply(this,arguments)}),function(r){return mt(r,i).value[t]}}function Dc(e,t){var n;return(typeof t=="number"?dt:t instanceof rn?ir:(n=rn(t))?(t=n,ir):Ac)(e,t)}function _0(e){return function(){this.removeAttribute(e)}}function v0(e){return function(){this.removeAttributeNS(e.space,e.local)}}function m0(e,t,n){var i,r=n+"",a;return function(){var l=this.getAttribute(e);return l===r?null:l===i?a:a=t(i=l,n)}}function g0(e,t,n){var i,r=n+"",a;return function(){var l=this.getAttributeNS(e.space,e.local);return l===r?null:l===i?a:a=t(i=l,n)}}function y0(e,t,n){var i,r,a;return function(){var l,o=n(this),u;return o==null?void this.removeAttribute(e):(l=this.getAttribute(e),u=o+"",l===u?null:l===i&&u===r?a:(r=u,a=t(i=l,o)))}}function b0(e,t,n){var i,r,a;return function(){var l,o=n(this),u;return o==null?void this.removeAttributeNS(e.space,e.local):(l=this.getAttributeNS(e.space,e.local),u=o+"",l===u?null:l===i&&u===r?a:(r=u,a=t(i=l,o)))}}function w0(e,t){var n=gr(e),i=n==="transform"?n0:Dc;return this.attrTween(e,typeof t=="function"?(n.local?b0:y0)(n,i,ol(this,"attr."+e,t)):t==null?(n.local?v0:_0)(n):(n.local?g0:m0)(n,i,t))}function k0(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function M0(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function C0(e,t){var n,i;function r(){var a=t.apply(this,arguments);return a!==i&&(n=(i=a)&&M0(e,a)),n}return r._value=t,r}function A0(e,t){var n,i;function r(){var a=t.apply(this,arguments);return a!==i&&(n=(i=a)&&k0(e,a)),n}return r._value=t,r}function S0(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var i=gr(e);return this.tween(n,(i.local?C0:A0)(i,t))}function E0(e,t){return function(){ll(this,e).delay=+t.apply(this,arguments)}}function T0(e,t){return t=+t,function(){ll(this,e).delay=t}}function z0(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?E0:T0)(t,e)):mt(this.node(),t).delay}function N0(e,t){return function(){Ct(this,e).duration=+t.apply(this,arguments)}}function j0(e,t){return t=+t,function(){Ct(this,e).duration=t}}function D0(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?N0:j0)(t,e)):mt(this.node(),t).duration}function P0(e,t){if(typeof t!="function")throw new Error;return function(){Ct(this,e).ease=t}}function L0(e){var t=this._id;return arguments.length?this.each(P0(t,e)):mt(this.node(),t).ease}function R0(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Ct(this,e).ease=n}}function F0(e){if(typeof e!="function")throw new Error;return this.each(R0(this._id,e))}function I0(e){typeof e!="function"&&(e=dc(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var a=t[r],l=a.length,o=i[r]=[],u,c=0;c<l;++c)(u=a[c])&&e.call(u,u.__data__,c,a)&&o.push(u);return new Pt(i,this._parents,this._name,this._id)}function U0(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,r=n.length,a=Math.min(i,r),l=new Array(i),o=0;o<a;++o)for(var u=t[o],c=n[o],s=u.length,f=l[o]=new Array(s),h,d=0;d<s;++d)(h=u[d]||c[d])&&(f[d]=h);for(;o<i;++o)l[o]=t[o];return new Pt(l,this._parents,this._name,this._id)}function Y0(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function q0(e,t,n){var i,r,a=Y0(t)?ll:Ct;return function(){var l=a(this,e),o=l.on;o!==i&&(r=(i=o).copy()).on(t,n),l.on=r}}function O0(e,t){var n=this._id;return arguments.length<2?mt(this.node(),n).on.on(e):this.each(q0(n,e,t))}function H0(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function B0(){return this.on("end.remove",H0(this._id))}function V0(e){var t=this._name,n=this._id;typeof e!="function"&&(e=xa(e));for(var i=this._groups,r=i.length,a=new Array(r),l=0;l<r;++l)for(var o=i[l],u=o.length,c=a[l]=new Array(u),s,f,h=0;h<u;++h)(s=o[h])&&(f=e.call(s,s.__data__,h,o))&&("__data__"in s&&(f.__data__=s.__data__),c[h]=f,br(c[h],t,n,h,c,mt(s,n)));return new Pt(a,this._parents,t,n)}function W0(e){var t=this._name,n=this._id;typeof e!="function"&&(e=hc(e));for(var i=this._groups,r=i.length,a=[],l=[],o=0;o<r;++o)for(var u=i[o],c=u.length,s,f=0;f<c;++f)if(s=u[f]){for(var h=e.call(s,s.__data__,f,u),d,_=mt(s,n),v=0,m=h.length;v<m;++v)(d=h[v])&&br(d,t,n,v,h,_);a.push(h),l.push(s)}return new Pt(a,l,t,n)}var X0=pi.prototype.constructor;function J0(){return new X0(this._groups,this._parents)}function $0(e,t){var n,i,r;return function(){var a=zn(this,e),l=(this.style.removeProperty(e),zn(this,e));return a===l?null:a===n&&l===i?r:r=t(n=a,i=l)}}function Pc(e){return function(){this.style.removeProperty(e)}}function G0(e,t,n){var i,r=n+"",a;return function(){var l=zn(this,e);return l===r?null:l===i?a:a=t(i=l,n)}}function Z0(e,t,n){var i,r,a;return function(){var l=zn(this,e),o=n(this),u=o+"";return o==null&&(u=o=(this.style.removeProperty(e),zn(this,e))),l===u?null:l===i&&u===r?a:(r=u,a=t(i=l,o))}}function Q0(e,t){var n,i,r,a="style."+t,l="end."+a,o;return function(){var u=Ct(this,e),c=u.on,s=u.value[a]==null?o||(o=Pc(t)):void 0;(c!==n||r!==s)&&(i=(n=c).copy()).on(l,r=s),u.on=i}}function K0(e,t,n){var i=(e+="")=="transform"?t0:Dc;return t==null?this.styleTween(e,$0(e,i)).on("end.style."+e,Pc(e)):typeof t=="function"?this.styleTween(e,Z0(e,i,ol(this,"style."+e,t))).each(Q0(this._id,e)):this.styleTween(e,G0(e,i,t),n).on("end.style."+e,null)}function x0(e,t,n){return function(i){this.style.setProperty(e,t.call(this,i),n)}}function e1(e,t,n){var i,r;function a(){var l=t.apply(this,arguments);return l!==r&&(i=(r=l)&&x0(e,l,n)),i}return a._value=t,a}function t1(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;return this.tween(i,e1(e,t,n==null?"":n))}function n1(e){return function(){this.textContent=e}}function i1(e){return function(){var t=e(this);this.textContent=t==null?"":t}}function r1(e){return this.tween("text",typeof e=="function"?i1(ol(this,"text",e)):n1(e==null?"":e+""))}function a1(e){return function(t){this.textContent=e.call(this,t)}}function l1(e){var t,n;function i(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&a1(r)),t}return i._value=e,i}function o1(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,l1(e))}function s1(){for(var e=this._name,t=this._id,n=Lc(),i=this._groups,r=i.length,a=0;a<r;++a)for(var l=i[a],o=l.length,u,c=0;c<o;++c)if(u=l[c]){var s=mt(u,t);br(u,e,n,c,l,{time:s.time+s.delay+s.duration,delay:0,duration:s.duration,ease:s.ease})}return new Pt(i,this._parents,e,n)}function u1(){var e,t,n=this,i=n._id,r=n.size();return new Promise(function(a,l){var o={value:l},u={value:function(){--r===0&&a()}};n.each(function(){var c=Ct(this,i),s=c.on;s!==e&&(t=(e=s).copy(),t._.cancel.push(o),t._.interrupt.push(o),t._.end.push(u)),c.on=t}),r===0&&a()})}var c1=0;function Pt(e,t,n,i){this._groups=e,this._parents=t,this._name=n,this._id=i}function Lc(){return++c1}var St=pi.prototype;Pt.prototype={constructor:Pt,select:V0,selectAll:W0,selectChild:St.selectChild,selectChildren:St.selectChildren,filter:I0,merge:U0,selection:J0,transition:s1,call:St.call,nodes:St.nodes,node:St.node,size:St.size,empty:St.empty,each:St.each,on:O0,attr:w0,attrTween:S0,style:K0,styleTween:t1,text:r1,textTween:o1,remove:B0,tween:p0,delay:z0,duration:D0,ease:L0,easeVarying:F0,end:u1,[Symbol.iterator]:St[Symbol.iterator]};function f1(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var h1={time:null,delay:0,duration:250,ease:f1};function d1(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function p1(e){var t,n;e instanceof Pt?(t=e._id,e=e._name):(t=Lc(),(n=h1).time=al(),e=e==null?null:e+"");for(var i=this._groups,r=i.length,a=0;a<r;++a)for(var l=i[a],o=l.length,u,c=0;c<o;++c)(u=l[c])&&br(u,e,t,c,l,n||d1(u,t));return new Pt(i,this._parents,e,t)}pi.prototype.interrupt=f0;pi.prototype.transition=p1;const Fa=Math.PI,Ia=2*Fa,$t=1e-6,_1=Ia-$t;function Ua(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Rc(){return new Ua}Ua.prototype=Rc.prototype={constructor:Ua,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,i){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(e,t,n,i,r,a){this._+="C"+ +e+","+ +t+","+ +n+","+ +i+","+(this._x1=+r)+","+(this._y1=+a)},arcTo:function(e,t,n,i,r){e=+e,t=+t,n=+n,i=+i,r=+r;var a=this._x1,l=this._y1,o=n-e,u=i-t,c=a-e,s=l-t,f=c*c+s*s;if(r<0)throw new Error("negative radius: "+r);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(f>$t)if(!(Math.abs(s*o-u*c)>$t)||!r)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var h=n-a,d=i-l,_=o*o+u*u,v=h*h+d*d,m=Math.sqrt(_),y=Math.sqrt(f),M=r*Math.tan((Fa-Math.acos((_+f-v)/(2*m*y)))/2),b=M/y,g=M/m;Math.abs(b-1)>$t&&(this._+="L"+(e+b*c)+","+(t+b*s)),this._+="A"+r+","+r+",0,0,"+ +(s*h>c*d)+","+(this._x1=e+g*o)+","+(this._y1=t+g*u)}},arc:function(e,t,n,i,r,a){e=+e,t=+t,n=+n,a=!!a;var l=n*Math.cos(i),o=n*Math.sin(i),u=e+l,c=t+o,s=1^a,f=a?i-r:r-i;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+u+","+c:(Math.abs(this._x1-u)>$t||Math.abs(this._y1-c)>$t)&&(this._+="L"+u+","+c),n&&(f<0&&(f=f%Ia+Ia),f>_1?this._+="A"+n+","+n+",0,1,"+s+","+(e-l)+","+(t-o)+"A"+n+","+n+",0,1,"+s+","+(this._x1=u)+","+(this._y1=c):f>$t&&(this._+="A"+n+","+n+",0,"+ +(f>=Fa)+","+s+","+(this._x1=e+n*Math.cos(r))+","+(this._y1=t+n*Math.sin(r))))},rect:function(e,t,n,i){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}};var mo={},Vr={},Wr=34,Rn=10,Xr=13;function Fc(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function v1(e,t){var n=Fc(e);return function(i,r){return t(n(i),r,e)}}function go(e){var t=Object.create(null),n=[];return e.forEach(function(i){for(var r in i)r in t||n.push(t[r]=r)}),n}function tt(e,t){var n=e+"",i=n.length;return i<t?new Array(t-i+1).join(0)+n:n}function m1(e){return e<0?"-"+tt(-e,6):e>9999?"+"+tt(e,6):tt(e,4)}function g1(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),i=e.getUTCSeconds(),r=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":m1(e.getUTCFullYear())+"-"+tt(e.getUTCMonth()+1,2)+"-"+tt(e.getUTCDate(),2)+(r?"T"+tt(t,2)+":"+tt(n,2)+":"+tt(i,2)+"."+tt(r,3)+"Z":i?"T"+tt(t,2)+":"+tt(n,2)+":"+tt(i,2)+"Z":n||t?"T"+tt(t,2)+":"+tt(n,2)+"Z":"")}function y1(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function i(f,h){var d,_,v=r(f,function(m,y){if(d)return d(m,y-1);_=m,d=h?v1(m,h):Fc(m)});return v.columns=_||[],v}function r(f,h){var d=[],_=f.length,v=0,m=0,y,M=_<=0,b=!1;f.charCodeAt(_-1)===Rn&&--_,f.charCodeAt(_-1)===Xr&&--_;function g(){if(M)return Vr;if(b)return b=!1,mo;var C,E=v,U;if(f.charCodeAt(E)===Wr){for(;v++<_&&f.charCodeAt(v)!==Wr||f.charCodeAt(++v)===Wr;);return(C=v)>=_?M=!0:(U=f.charCodeAt(v++))===Rn?b=!0:U===Xr&&(b=!0,f.charCodeAt(v)===Rn&&++v),f.slice(E+1,C-1).replace(/""/g,'"')}for(;v<_;){if((U=f.charCodeAt(C=v++))===Rn)b=!0;else if(U===Xr)b=!0,f.charCodeAt(v)===Rn&&++v;else if(U!==n)continue;return f.slice(E,C)}return M=!0,f.slice(E,_)}for(;(y=g())!==Vr;){for(var w=[];y!==mo&&y!==Vr;)w.push(y),y=g();h&&(w=h(w,m++))==null||d.push(w)}return d}function a(f,h){return f.map(function(d){return h.map(function(_){return s(d[_])}).join(e)})}function l(f,h){return h==null&&(h=go(f)),[h.map(s).join(e)].concat(a(f,h)).join(`
`)}function o(f,h){return h==null&&(h=go(f)),a(f,h).join(`
`)}function u(f){return f.map(c).join(`
`)}function c(f){return f.map(s).join(e)}function s(f){return f==null?"":f instanceof Date?g1(f):t.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:i,parseRows:r,format:l,formatBody:o,formatRows:u,formatRow:c,formatValue:s}}var b1=y1(","),w1=b1.parse;function k1(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function M1(e,t){return fetch(e,t).then(k1)}function C1(e){return function(t,n,i){return arguments.length===2&&typeof n=="function"&&(i=n,n=void 0),M1(t,n).then(function(r){return e(r,i)})}}var ge=C1(w1);function A1(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function or(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)]}function jn(e){return e=or(Math.abs(e)),e?e[1]:NaN}function S1(e,t){return function(n,i){for(var r=n.length,a=[],l=0,o=e[0],u=0;r>0&&o>0&&(u+o+1>i&&(o=Math.max(1,i-u)),a.push(n.substring(r-=o,r+o)),!((u+=o+1)>i));)o=e[l=(l+1)%e.length];return a.reverse().join(t)}}function E1(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var T1=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function sr(e){if(!(t=T1.exec(e)))throw new Error("invalid format: "+e);var t;return new sl({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}sr.prototype=sl.prototype;function sl(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}sl.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function z1(e){e:for(var t=e.length,n=1,i=-1,r;n<t;++n)switch(e[n]){case".":i=r=n;break;case"0":i===0&&(i=n),r=n;break;default:if(!+e[n])break e;i>0&&(i=0);break}return i>0?e.slice(0,i)+e.slice(r+1):e}var Ic;function N1(e,t){var n=or(e,t);if(!n)return e+"";var i=n[0],r=n[1],a=r-(Ic=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,l=i.length;return a===l?i:a>l?i+new Array(a-l+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+or(e,Math.max(0,t+a-1))[0]}function yo(e,t){var n=or(e,t);if(!n)return e+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}const bo={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:A1,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>yo(e*100,t),r:yo,s:N1,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function wo(e){return e}var ko=Array.prototype.map,Mo=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function j1(e){var t=e.grouping===void 0||e.thousands===void 0?wo:S1(ko.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",i=e.currency===void 0?"":e.currency[1]+"",r=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?wo:E1(ko.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"\u2212":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function c(f){f=sr(f);var h=f.fill,d=f.align,_=f.sign,v=f.symbol,m=f.zero,y=f.width,M=f.comma,b=f.precision,g=f.trim,w=f.type;w==="n"?(M=!0,w="g"):bo[w]||(b===void 0&&(b=12),g=!0,w="g"),(m||h==="0"&&d==="=")&&(m=!0,h="0",d="=");var C=v==="$"?n:v==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",E=v==="$"?i:/[%p]/.test(w)?l:"",U=bo[w],L=/[defgprs%]/.test(w);b=b===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function R(j){var D=C,I=E,J,P,B;if(w==="c")I=U(j)+I,j="";else{j=+j;var $=j<0||1/j<0;if(j=isNaN(j)?u:U(Math.abs(j),b),g&&(j=z1(j)),$&&+j==0&&_!=="+"&&($=!1),D=($?_==="("?_:o:_==="-"||_==="("?"":_)+D,I=(w==="s"?Mo[8+Ic/3]:"")+I+($&&_==="("?")":""),L){for(J=-1,P=j.length;++J<P;)if(B=j.charCodeAt(J),48>B||B>57){I=(B===46?r+j.slice(J+1):j.slice(J))+I,j=j.slice(0,J);break}}}M&&!m&&(j=t(j,1/0));var se=D.length+j.length+I.length,ne=se<y?new Array(y-se+1).join(h):"";switch(M&&m&&(j=t(ne+j,ne.length?y-I.length:1/0),ne=""),d){case"<":j=D+j+I+ne;break;case"=":j=D+ne+j+I;break;case"^":j=ne.slice(0,se=ne.length>>1)+D+j+I+ne.slice(se);break;default:j=ne+D+j+I;break}return a(j)}return R.toString=function(){return f+""},R}function s(f,h){var d=c((f=sr(f),f.type="f",f)),_=Math.max(-8,Math.min(8,Math.floor(jn(h)/3)))*3,v=Math.pow(10,-_),m=Mo[8+_/3];return function(y){return d(v*y)+m}}return{format:c,formatPrefix:s}}var Ei,ul,Uc;D1({thousands:",",grouping:[3],currency:["$",""]});function D1(e){return Ei=j1(e),ul=Ei.format,Uc=Ei.formatPrefix,Ei}function P1(e){return Math.max(0,-jn(Math.abs(e)))}function L1(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(jn(t)/3)))*3-jn(Math.abs(e)))}function R1(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,jn(t)-jn(e))+1}function wr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const Co=Symbol("implicit");function cl(){var e=new ia,t=[],n=[],i=Co;function r(a){let l=e.get(a);if(l===void 0){if(i!==Co)return i;e.set(a,l=t.push(a)-1)}return n[l%n.length]}return r.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new ia;for(const l of a)e.has(l)||e.set(l,t.push(l)-1);return r},r.range=function(a){return arguments.length?(n=Array.from(a),r):n.slice()},r.unknown=function(a){return arguments.length?(i=a,r):i},r.copy=function(){return cl(t,n).unknown(i)},wr.apply(r,arguments),r}function ni(){var e=cl().unknown(void 0),t=e.domain,n=e.range,i=0,r=1,a,l,o=!1,u=0,c=0,s=.5;delete e.unknown;function f(){var h=t().length,d=r<i,_=d?r:i,v=d?i:r;a=(v-_)/Math.max(1,h-u+c*2),o&&(a=Math.floor(a)),_+=(v-_-a*(h-u))*s,l=a*(1-u),o&&(_=Math.round(_),l=Math.round(l));var m=Jf(h).map(function(y){return _+a*y});return n(d?m.reverse():m)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([i,r]=h,i=+i,r=+r,f()):[i,r]},e.rangeRound=function(h){return[i,r]=h,i=+i,r=+r,o=!0,f()},e.bandwidth=function(){return l},e.step=function(){return a},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(u=Math.min(1,c=+h),f()):u},e.paddingInner=function(h){return arguments.length?(u=Math.min(1,h),f()):u},e.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},e.align=function(h){return arguments.length?(s=Math.max(0,Math.min(1,h)),f()):s},e.copy=function(){return ni(t(),[i,r]).round(o).paddingInner(u).paddingOuter(c).align(s)},wr.apply(f(),arguments)}function F1(e){return function(){return e}}function I1(e){return+e}var Ao=[0,1];function bn(e){return e}function Ya(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:F1(isNaN(t)?NaN:.5)}function U1(e,t){var n;return e>t&&(n=e,e=t,t=n),function(i){return Math.max(e,Math.min(t,i))}}function Y1(e,t,n){var i=e[0],r=e[1],a=t[0],l=t[1];return r<i?(i=Ya(r,i),a=n(l,a)):(i=Ya(i,r),a=n(a,l)),function(o){return a(i(o))}}function q1(e,t,n){var i=Math.min(e.length,t.length)-1,r=new Array(i),a=new Array(i),l=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<i;)r[l]=Ya(e[l],e[l+1]),a[l]=n(t[l],t[l+1]);return function(o){var u=Du(e,o,1,i)-1;return a[u](r[u](o))}}function O1(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function H1(){var e=Ao,t=Ao,n=rl,i,r,a,l=bn,o,u,c;function s(){var h=Math.min(e.length,t.length);return l!==bn&&(l=U1(e[0],e[h-1])),o=h>2?q1:Y1,u=c=null,f}function f(h){return h==null||isNaN(h=+h)?a:(u||(u=o(e.map(i),t,n)))(i(l(h)))}return f.invert=function(h){return l(r((c||(c=o(t,e.map(i),dt)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,I1),s()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),s()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),n=Kp,s()},f.clamp=function(h){return arguments.length?(l=h?!0:bn,s()):l!==bn},f.interpolate=function(h){return arguments.length?(n=h,s()):n},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,d){return i=h,r=d,s()}}function B1(){return H1()(bn,bn)}function V1(e,t,n,i){var r=Vf(e,t,n),a;switch(i=sr(i==null?",f":i),i.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return i.precision==null&&!isNaN(a=L1(r,l))&&(i.precision=a),Uc(i,l)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(a=R1(r,Math.max(Math.abs(e),Math.abs(t))))&&(i.precision=a-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(a=P1(r))&&(i.precision=a-(i.type==="%")*2);break}}return ul(i)}function W1(e){var t=e.domain;return e.ticks=function(n){var i=t();return Bf(i[0],i[i.length-1],n==null?10:n)},e.tickFormat=function(n,i){var r=t();return V1(r[0],r[r.length-1],n==null?10:n,i)},e.nice=function(n){n==null&&(n=10);var i=t(),r=0,a=i.length-1,l=i[r],o=i[a],u,c,s=10;for(o<l&&(c=l,l=o,o=c,c=r,r=a,a=c);s-- >0;){if(c=Pu(l,o,n),c===u)return i[r]=l,i[a]=o,t(i);if(c>0)l=Math.floor(l/c)*c,o=Math.ceil(o/c)*c;else if(c<0)l=Math.ceil(l*c)/c,o=Math.floor(o*c)/c;else break;u=c}return e},e}function Lt(){var e=B1();return e.copy=function(){return O1(e,Lt())},wr.apply(e,arguments),W1(e)}function Yc(){var e=[],t=[],n=[],i;function r(){var l=0,o=Math.max(1,t.length);for(n=new Array(o-1);++l<o;)n[l-1]=Wf(e,l/o);return a}function a(l){return l==null||isNaN(l=+l)?i:t[Du(n,l)]}return a.invertExtent=function(l){var o=t.indexOf(l);return o<0?[NaN,NaN]:[o>0?n[o-1]:e[0],o<n.length?n[o]:e[e.length-1]]},a.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let o of l)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(zt),r()},a.range=function(l){return arguments.length?(t=Array.from(l),r()):t.slice()},a.unknown=function(l){return arguments.length?(i=l,a):i},a.quantiles=function(){return n.slice()},a.copy=function(){return Yc().domain(e).range(t).unknown(i)},wr.apply(a,arguments)}var Jr=new Date,$r=new Date;function Rt(e,t,n,i){function r(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return r.floor=function(a){return e(a=new Date(+a)),a},r.ceil=function(a){return e(a=new Date(a-1)),t(a,1),e(a),a},r.round=function(a){var l=r(a),o=r.ceil(a);return a-l<o-a?l:o},r.offset=function(a,l){return t(a=new Date(+a),l==null?1:Math.floor(l)),a},r.range=function(a,l,o){var u=[],c;if(a=r.ceil(a),o=o==null?1:Math.floor(o),!(a<l)||!(o>0))return u;do u.push(c=new Date(+a)),t(a,o),e(a);while(c<a&&a<l);return u},r.filter=function(a){return Rt(function(l){if(l>=l)for(;e(l),!a(l);)l.setTime(l-1)},function(l,o){if(l>=l)if(o<0)for(;++o<=0;)for(;t(l,-1),!a(l););else for(;--o>=0;)for(;t(l,1),!a(l););})},n&&(r.count=function(a,l){return Jr.setTime(+a),$r.setTime(+l),e(Jr),e($r),Math.floor(n(Jr,$r))},r.every=function(a){return a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?r.filter(i?function(l){return i(l)%a===0}:function(l){return r.count(0,l)%a===0}):r}),r}const X1=1e3,fl=X1*60,J1=fl*60,hl=J1*24,qc=hl*7;var Oc=Rt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*fl)/hl,e=>e.getDate()-1);const Hc=Oc;Oc.range;function ln(e){return Rt(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+n*7)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*fl)/qc})}var Bc=ln(0),ur=ln(1),$1=ln(2),G1=ln(3),Dn=ln(4),Z1=ln(5),Q1=ln(6);Bc.range;ur.range;$1.range;G1.range;Dn.range;Z1.range;Q1.range;var dl=Rt(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});dl.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:Rt(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n*e)})};const ii=dl;dl.range;var Vc=Rt(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/hl},function(e){return e.getUTCDate()-1});const Wc=Vc;Vc.range;function on(e){return Rt(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+n*7)},function(t,n){return(n-t)/qc})}var Xc=on(0),cr=on(1),K1=on(2),x1=on(3),Pn=on(4),e_=on(5),t_=on(6);Xc.range;cr.range;K1.range;x1.range;Pn.range;e_.range;t_.range;var pl=Rt(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});pl.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:Rt(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})};const ri=pl;pl.range;function Gr(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Zr(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Fn(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function n_(e){var t=e.dateTime,n=e.date,i=e.time,r=e.periods,a=e.days,l=e.shortDays,o=e.months,u=e.shortMonths,c=In(r),s=Un(r),f=In(a),h=Un(a),d=In(l),_=Un(l),v=In(o),m=Un(o),y=In(u),M=Un(u),b={a:$,A:se,b:ne,B:Z,c:null,d:jo,e:jo,f:A_,g:R_,G:I_,H:k_,I:M_,j:C_,L:Jc,m:S_,M:E_,p:ze,q:je,Q:Lo,s:Ro,S:T_,u:z_,U:N_,V:j_,w:D_,W:P_,x:null,X:null,y:L_,Y:F_,Z:U_,"%":Po},g={a:Ae,A:Se,b:Oe,B:At,c:null,d:Do,e:Do,f:H_,g:K_,G:ev,H:Y_,I:q_,j:O_,L:Gc,m:B_,M:V_,p:Ft,q:It,Q:Lo,s:Ro,S:W_,u:X_,U:J_,V:$_,w:G_,W:Z_,x:null,X:null,y:Q_,Y:x_,Z:tv,"%":Po},w={a:R,A:j,b:D,B:I,c:J,d:zo,e:zo,f:g_,g:To,G:Eo,H:No,I:No,j:p_,L:m_,m:d_,M:__,p:L,q:h_,Q:b_,s:w_,S:v_,u:o_,U:s_,V:u_,w:l_,W:c_,x:P,X:B,y:To,Y:Eo,Z:f_,"%":y_};b.x=C(n,b),b.X=C(i,b),b.c=C(t,b),g.x=C(n,g),g.X=C(i,g),g.c=C(t,g);function C(O,K){return function(x){var F=[],Ie=-1,ce=0,De=O.length,Ue,gt,Bt;for(x instanceof Date||(x=new Date(+x));++Ie<De;)O.charCodeAt(Ie)===37&&(F.push(O.slice(ce,Ie)),(gt=So[Ue=O.charAt(++Ie)])!=null?Ue=O.charAt(++Ie):gt=Ue==="e"?" ":"0",(Bt=K[Ue])&&(Ue=Bt(x,gt)),F.push(Ue),ce=Ie+1);return F.push(O.slice(ce,Ie)),F.join("")}}function E(O,K){return function(x){var F=Fn(1900,void 0,1),Ie=U(F,O,x+="",0),ce,De;if(Ie!=x.length)return null;if("Q"in F)return new Date(F.Q);if("s"in F)return new Date(F.s*1e3+("L"in F?F.L:0));if(K&&!("Z"in F)&&(F.Z=0),"p"in F&&(F.H=F.H%12+F.p*12),F.m===void 0&&(F.m="q"in F?F.q:0),"V"in F){if(F.V<1||F.V>53)return null;"w"in F||(F.w=1),"Z"in F?(ce=Zr(Fn(F.y,0,1)),De=ce.getUTCDay(),ce=De>4||De===0?cr.ceil(ce):cr(ce),ce=Wc.offset(ce,(F.V-1)*7),F.y=ce.getUTCFullYear(),F.m=ce.getUTCMonth(),F.d=ce.getUTCDate()+(F.w+6)%7):(ce=Gr(Fn(F.y,0,1)),De=ce.getDay(),ce=De>4||De===0?ur.ceil(ce):ur(ce),ce=Hc.offset(ce,(F.V-1)*7),F.y=ce.getFullYear(),F.m=ce.getMonth(),F.d=ce.getDate()+(F.w+6)%7)}else("W"in F||"U"in F)&&("w"in F||(F.w="u"in F?F.u%7:"W"in F?1:0),De="Z"in F?Zr(Fn(F.y,0,1)).getUTCDay():Gr(Fn(F.y,0,1)).getDay(),F.m=0,F.d="W"in F?(F.w+6)%7+F.W*7-(De+5)%7:F.w+F.U*7-(De+6)%7);return"Z"in F?(F.H+=F.Z/100|0,F.M+=F.Z%100,Zr(F)):Gr(F)}}function U(O,K,x,F){for(var Ie=0,ce=K.length,De=x.length,Ue,gt;Ie<ce;){if(F>=De)return-1;if(Ue=K.charCodeAt(Ie++),Ue===37){if(Ue=K.charAt(Ie++),gt=w[Ue in So?K.charAt(Ie++):Ue],!gt||(F=gt(O,x,F))<0)return-1}else if(Ue!=x.charCodeAt(F++))return-1}return F}function L(O,K,x){var F=c.exec(K.slice(x));return F?(O.p=s.get(F[0].toLowerCase()),x+F[0].length):-1}function R(O,K,x){var F=d.exec(K.slice(x));return F?(O.w=_.get(F[0].toLowerCase()),x+F[0].length):-1}function j(O,K,x){var F=f.exec(K.slice(x));return F?(O.w=h.get(F[0].toLowerCase()),x+F[0].length):-1}function D(O,K,x){var F=y.exec(K.slice(x));return F?(O.m=M.get(F[0].toLowerCase()),x+F[0].length):-1}function I(O,K,x){var F=v.exec(K.slice(x));return F?(O.m=m.get(F[0].toLowerCase()),x+F[0].length):-1}function J(O,K,x){return U(O,t,K,x)}function P(O,K,x){return U(O,n,K,x)}function B(O,K,x){return U(O,i,K,x)}function $(O){return l[O.getDay()]}function se(O){return a[O.getDay()]}function ne(O){return u[O.getMonth()]}function Z(O){return o[O.getMonth()]}function ze(O){return r[+(O.getHours()>=12)]}function je(O){return 1+~~(O.getMonth()/3)}function Ae(O){return l[O.getUTCDay()]}function Se(O){return a[O.getUTCDay()]}function Oe(O){return u[O.getUTCMonth()]}function At(O){return o[O.getUTCMonth()]}function Ft(O){return r[+(O.getUTCHours()>=12)]}function It(O){return 1+~~(O.getUTCMonth()/3)}return{format:function(O){var K=C(O+="",b);return K.toString=function(){return O},K},parse:function(O){var K=E(O+="",!1);return K.toString=function(){return O},K},utcFormat:function(O){var K=C(O+="",g);return K.toString=function(){return O},K},utcParse:function(O){var K=E(O+="",!0);return K.toString=function(){return O},K}}}var So={"-":"",_:" ",0:"0"},Fe=/^\s*\d+/,i_=/^%/,r_=/[\\^$*+?|[\]().{}]/g;function ue(e,t,n){var i=e<0?"-":"",r=(i?-e:e)+"",a=r.length;return i+(a<n?new Array(n-a+1).join(t)+r:r)}function a_(e){return e.replace(r_,"\\$&")}function In(e){return new RegExp("^(?:"+e.map(a_).join("|")+")","i")}function Un(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function l_(e,t,n){var i=Fe.exec(t.slice(n,n+1));return i?(e.w=+i[0],n+i[0].length):-1}function o_(e,t,n){var i=Fe.exec(t.slice(n,n+1));return i?(e.u=+i[0],n+i[0].length):-1}function s_(e,t,n){var i=Fe.exec(t.slice(n,n+2));return i?(e.U=+i[0],n+i[0].length):-1}function u_(e,t,n){var i=Fe.exec(t.slice(n,n+2));return i?(e.V=+i[0],n+i[0].length):-1}function c_(e,t,n){var i=Fe.exec(t.slice(n,n+2));return i?(e.W=+i[0],n+i[0].length):-1}function Eo(e,t,n){var i=Fe.exec(t.slice(n,n+4));return i?(e.y=+i[0],n+i[0].length):-1}function To(e,t,n){var i=Fe.exec(t.slice(n,n+2));return i?(e.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function f_(e,t,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return i?(e.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function h_(e,t,n){var i=Fe.exec(t.slice(n,n+1));return i?(e.q=i[0]*3-3,n+i[0].length):-1}function d_(e,t,n){var i=Fe.exec(t.slice(n,n+2));return i?(e.m=i[0]-1,n+i[0].length):-1}function zo(e,t,n){var i=Fe.exec(t.slice(n,n+2));return i?(e.d=+i[0],n+i[0].length):-1}function p_(e,t,n){var i=Fe.exec(t.slice(n,n+3));return i?(e.m=0,e.d=+i[0],n+i[0].length):-1}function No(e,t,n){var i=Fe.exec(t.slice(n,n+2));return i?(e.H=+i[0],n+i[0].length):-1}function __(e,t,n){var i=Fe.exec(t.slice(n,n+2));return i?(e.M=+i[0],n+i[0].length):-1}function v_(e,t,n){var i=Fe.exec(t.slice(n,n+2));return i?(e.S=+i[0],n+i[0].length):-1}function m_(e,t,n){var i=Fe.exec(t.slice(n,n+3));return i?(e.L=+i[0],n+i[0].length):-1}function g_(e,t,n){var i=Fe.exec(t.slice(n,n+6));return i?(e.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function y_(e,t,n){var i=i_.exec(t.slice(n,n+1));return i?n+i[0].length:-1}function b_(e,t,n){var i=Fe.exec(t.slice(n));return i?(e.Q=+i[0],n+i[0].length):-1}function w_(e,t,n){var i=Fe.exec(t.slice(n));return i?(e.s=+i[0],n+i[0].length):-1}function jo(e,t){return ue(e.getDate(),t,2)}function k_(e,t){return ue(e.getHours(),t,2)}function M_(e,t){return ue(e.getHours()%12||12,t,2)}function C_(e,t){return ue(1+Hc.count(ii(e),e),t,3)}function Jc(e,t){return ue(e.getMilliseconds(),t,3)}function A_(e,t){return Jc(e,t)+"000"}function S_(e,t){return ue(e.getMonth()+1,t,2)}function E_(e,t){return ue(e.getMinutes(),t,2)}function T_(e,t){return ue(e.getSeconds(),t,2)}function z_(e){var t=e.getDay();return t===0?7:t}function N_(e,t){return ue(Bc.count(ii(e)-1,e),t,2)}function $c(e){var t=e.getDay();return t>=4||t===0?Dn(e):Dn.ceil(e)}function j_(e,t){return e=$c(e),ue(Dn.count(ii(e),e)+(ii(e).getDay()===4),t,2)}function D_(e){return e.getDay()}function P_(e,t){return ue(ur.count(ii(e)-1,e),t,2)}function L_(e,t){return ue(e.getFullYear()%100,t,2)}function R_(e,t){return e=$c(e),ue(e.getFullYear()%100,t,2)}function F_(e,t){return ue(e.getFullYear()%1e4,t,4)}function I_(e,t){var n=e.getDay();return e=n>=4||n===0?Dn(e):Dn.ceil(e),ue(e.getFullYear()%1e4,t,4)}function U_(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ue(t/60|0,"0",2)+ue(t%60,"0",2)}function Do(e,t){return ue(e.getUTCDate(),t,2)}function Y_(e,t){return ue(e.getUTCHours(),t,2)}function q_(e,t){return ue(e.getUTCHours()%12||12,t,2)}function O_(e,t){return ue(1+Wc.count(ri(e),e),t,3)}function Gc(e,t){return ue(e.getUTCMilliseconds(),t,3)}function H_(e,t){return Gc(e,t)+"000"}function B_(e,t){return ue(e.getUTCMonth()+1,t,2)}function V_(e,t){return ue(e.getUTCMinutes(),t,2)}function W_(e,t){return ue(e.getUTCSeconds(),t,2)}function X_(e){var t=e.getUTCDay();return t===0?7:t}function J_(e,t){return ue(Xc.count(ri(e)-1,e),t,2)}function Zc(e){var t=e.getUTCDay();return t>=4||t===0?Pn(e):Pn.ceil(e)}function $_(e,t){return e=Zc(e),ue(Pn.count(ri(e),e)+(ri(e).getUTCDay()===4),t,2)}function G_(e){return e.getUTCDay()}function Z_(e,t){return ue(cr.count(ri(e)-1,e),t,2)}function Q_(e,t){return ue(e.getUTCFullYear()%100,t,2)}function K_(e,t){return e=Zc(e),ue(e.getUTCFullYear()%100,t,2)}function x_(e,t){return ue(e.getUTCFullYear()%1e4,t,4)}function ev(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Pn(e):Pn.ceil(e),ue(e.getUTCFullYear()%1e4,t,4)}function tv(){return"+0000"}function Po(){return"%"}function Lo(e){return+e}function Ro(e){return Math.floor(+e/1e3)}var gn,Qc,kr;nv({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function nv(e){return gn=n_(e),Qc=gn.format,kr=gn.parse,gn.utcFormat,gn.utcParse,gn}function He(e){return function(){return e}}const Fo=Math.abs,Ye=Math.atan2,Wt=Math.cos,iv=Math.max,Qr=Math.min,yt=Math.sin,wn=Math.sqrt,et=1e-12,ai=Math.PI,fr=ai/2,Yi=2*ai;function rv(e){return e>1?0:e<-1?ai:Math.acos(e)}function Io(e){return e>=1?fr:e<=-1?-fr:Math.asin(e)}function av(e){return e.innerRadius}function lv(e){return e.outerRadius}function ov(e){return e.startAngle}function sv(e){return e.endAngle}function uv(e){return e&&e.padAngle}function cv(e,t,n,i,r,a,l,o){var u=n-e,c=i-t,s=l-r,f=o-a,h=f*u-s*c;if(!(h*h<et))return h=(s*(t-a)-f*(e-r))/h,[e+h*u,t+h*c]}function Ti(e,t,n,i,r,a,l){var o=e-n,u=t-i,c=(l?a:-a)/wn(o*o+u*u),s=c*u,f=-c*o,h=e+s,d=t+f,_=n+s,v=i+f,m=(h+_)/2,y=(d+v)/2,M=_-h,b=v-d,g=M*M+b*b,w=r-a,C=h*v-_*d,E=(b<0?-1:1)*wn(iv(0,w*w*g-C*C)),U=(C*b-M*E)/g,L=(-C*M-b*E)/g,R=(C*b+M*E)/g,j=(-C*M+b*E)/g,D=U-m,I=L-y,J=R-m,P=j-y;return D*D+I*I>J*J+P*P&&(U=R,L=j),{cx:U,cy:L,x01:-s,y01:-f,x11:U*(r/w-1),y11:L*(r/w-1)}}function Kc(){var e=av,t=lv,n=He(0),i=null,r=ov,a=sv,l=uv,o=null;function u(){var c,s,f=+e.apply(this,arguments),h=+t.apply(this,arguments),d=r.apply(this,arguments)-fr,_=a.apply(this,arguments)-fr,v=Fo(_-d),m=_>d;if(o||(o=c=Rc()),h<f&&(s=h,h=f,f=s),!(h>et))o.moveTo(0,0);else if(v>Yi-et)o.moveTo(h*Wt(d),h*yt(d)),o.arc(0,0,h,d,_,!m),f>et&&(o.moveTo(f*Wt(_),f*yt(_)),o.arc(0,0,f,_,d,m));else{var y=d,M=_,b=d,g=_,w=v,C=v,E=l.apply(this,arguments)/2,U=E>et&&(i?+i.apply(this,arguments):wn(f*f+h*h)),L=Qr(Fo(h-f)/2,+n.apply(this,arguments)),R=L,j=L,D,I;if(U>et){var J=Io(U/f*yt(E)),P=Io(U/h*yt(E));(w-=J*2)>et?(J*=m?1:-1,b+=J,g-=J):(w=0,b=g=(d+_)/2),(C-=P*2)>et?(P*=m?1:-1,y+=P,M-=P):(C=0,y=M=(d+_)/2)}var B=h*Wt(y),$=h*yt(y),se=f*Wt(g),ne=f*yt(g);if(L>et){var Z=h*Wt(M),ze=h*yt(M),je=f*Wt(b),Ae=f*yt(b),Se;if(v<ai&&(Se=cv(B,$,je,Ae,Z,ze,se,ne))){var Oe=B-Se[0],At=$-Se[1],Ft=Z-Se[0],It=ze-Se[1],O=1/yt(rv((Oe*Ft+At*It)/(wn(Oe*Oe+At*At)*wn(Ft*Ft+It*It)))/2),K=wn(Se[0]*Se[0]+Se[1]*Se[1]);R=Qr(L,(f-K)/(O-1)),j=Qr(L,(h-K)/(O+1))}}C>et?j>et?(D=Ti(je,Ae,B,$,h,j,m),I=Ti(Z,ze,se,ne,h,j,m),o.moveTo(D.cx+D.x01,D.cy+D.y01),j<L?o.arc(D.cx,D.cy,j,Ye(D.y01,D.x01),Ye(I.y01,I.x01),!m):(o.arc(D.cx,D.cy,j,Ye(D.y01,D.x01),Ye(D.y11,D.x11),!m),o.arc(0,0,h,Ye(D.cy+D.y11,D.cx+D.x11),Ye(I.cy+I.y11,I.cx+I.x11),!m),o.arc(I.cx,I.cy,j,Ye(I.y11,I.x11),Ye(I.y01,I.x01),!m))):(o.moveTo(B,$),o.arc(0,0,h,y,M,!m)):o.moveTo(B,$),!(f>et)||!(w>et)?o.lineTo(se,ne):R>et?(D=Ti(se,ne,Z,ze,f,-R,m),I=Ti(B,$,je,Ae,f,-R,m),o.lineTo(D.cx+D.x01,D.cy+D.y01),R<L?o.arc(D.cx,D.cy,R,Ye(D.y01,D.x01),Ye(I.y01,I.x01),!m):(o.arc(D.cx,D.cy,R,Ye(D.y01,D.x01),Ye(D.y11,D.x11),!m),o.arc(0,0,f,Ye(D.cy+D.y11,D.cx+D.x11),Ye(I.cy+I.y11,I.cx+I.x11),m),o.arc(I.cx,I.cy,R,Ye(I.y11,I.x11),Ye(I.y01,I.x01),!m))):o.arc(0,0,f,g,b,m)}if(o.closePath(),c)return o=null,c+""||null}return u.centroid=function(){var c=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,s=(+r.apply(this,arguments)+ +a.apply(this,arguments))/2-ai/2;return[Wt(s)*c,yt(s)*c]},u.innerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:He(+c),u):e},u.outerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:He(+c),u):t},u.cornerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:He(+c),u):n},u.padRadius=function(c){return arguments.length?(i=c==null?null:typeof c=="function"?c:He(+c),u):i},u.startAngle=function(c){return arguments.length?(r=typeof c=="function"?c:He(+c),u):r},u.endAngle=function(c){return arguments.length?(a=typeof c=="function"?c:He(+c),u):a},u.padAngle=function(c){return arguments.length?(l=typeof c=="function"?c:He(+c),u):l},u.context=function(c){return arguments.length?(o=c==null?null:c,u):o},u}function fv(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function hv(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function dv(e){return e}function xc(){var e=dv,t=hv,n=null,i=He(0),r=He(Yi),a=He(0);function l(o){var u,c=(o=fv(o)).length,s,f,h=0,d=new Array(c),_=new Array(c),v=+i.apply(this,arguments),m=Math.min(Yi,Math.max(-Yi,r.apply(this,arguments)-v)),y,M=Math.min(Math.abs(m)/c,a.apply(this,arguments)),b=M*(m<0?-1:1),g;for(u=0;u<c;++u)(g=_[d[u]=u]=+e(o[u],u,o))>0&&(h+=g);for(t!=null?d.sort(function(w,C){return t(_[w],_[C])}):n!=null&&d.sort(function(w,C){return n(o[w],o[C])}),u=0,f=h?(m-c*b)/h:0;u<c;++u,v=y)s=d[u],g=_[s],y=v+(g>0?g*f:0)+b,_[s]={data:o[s],index:u,value:g,startAngle:v,endAngle:y,padAngle:M};return _}return l.value=function(o){return arguments.length?(e=typeof o=="function"?o:He(+o),l):e},l.sortValues=function(o){return arguments.length?(t=o,n=null,l):t},l.sort=function(o){return arguments.length?(n=o,t=null,l):n},l.startAngle=function(o){return arguments.length?(i=typeof o=="function"?o:He(+o),l):i},l.endAngle=function(o){return arguments.length?(r=typeof o=="function"?o:He(+o),l):r},l.padAngle=function(o){return arguments.length?(a=typeof o=="function"?o:He(+o),l):a},l}function kn(e,t,n){this.k=e,this.x=t,this.y=n}kn.prototype={constructor:kn,scale:function(e){return e===1?this:new kn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new kn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new kn(1,0,0);kn.prototype;function Uo(e,t,n){const i=e.slice();return i[17]=t[n],i}function Yo(e,t,n){const i=e.slice();return i[20]=t[n],i}function qo(e,t,n){const i=e.slice();return i[23]=t[n],i}function Oo(e){let t,n,i,r,a,l,o,u;function c(...s){return e[13](e[23],...s)}return{c(){t=X("a"),n=X("path"),p(n,"d",i=e[6](e[23])),p(n,"class",r=Le("county "+e[23].properties.NAME)+" svelte-qwafey"),p(n,"fill",a=e[23].properties[e[0]]==null?"#ccc":e[11](e[23].properties[e[0]])),p(n,"stroke","#fff"),p(n,"stroke-width",.5),p(t,"href",l="/county/"+e[23].properties.NAME)},m(s,f){S(s,t,f),k(t,n),o||(u=[ve(n,"mouseover",c),ve(n,"mouseout",e[14])],o=!0)},p(s,f){e=s,f&68&&i!==(i=e[6](e[23]))&&p(n,"d",i),f&4&&r!==(r=Le("county "+e[23].properties.NAME)+" svelte-qwafey")&&p(n,"class",r),f&5&&a!==(a=e[23].properties[e[0]]==null?"#ccc":e[11](e[23].properties[e[0]]))&&p(n,"fill",a),f&4&&l!==(l="/county/"+e[23].properties.NAME)&&p(t,"href",l)},d(s){s&&A(t),o=!1,Re(u)}}}function Ho(e){let t,n=e[3].NAME+"",i,r,a,l,o=e[8][e[7].indexOf(e[0])]+"",u,c=Wo(e[3][e[0]])+"",s;return{c(){t=T("div"),i=z(n),r=z(" County"),a=T("br"),l=Y(),u=z(o),s=z(c),p(t,"id","tooltip"),Q(t,"left",e[4]+10+"px"),Q(t,"top",e[5]-10+"px"),p(t,"class","svelte-qwafey")},m(f,h){S(f,t,h),k(t,i),k(t,r),k(t,a),k(t,l),k(t,u),k(t,s)},p(f,h){h&8&&n!==(n=f[3].NAME+"")&&H(i,n),h&1&&o!==(o=f[8][f[7].indexOf(f[0])]+"")&&H(u,o),h&9&&c!==(c=Wo(f[3][f[0]])+"")&&H(s,c),h&16&&Q(t,"left",f[4]+10+"px"),h&32&&Q(t,"top",f[5]-10+"px")},d(f){f&&A(t)}}}function Bo(e){let t,n,i,r;return{c(){t=T("li"),n=T("div"),i=z("\xA0"),r=Y(),p(n,"class","c-legend__color-block svelte-qwafey"),Q(n,"background",e[20]),p(t,"class","c-legend__item svelte-qwafey")},m(a,l){S(a,t,l),k(t,n),k(n,i),k(t,r)},p:V,d(a){a&&A(t)}}}function Vo(e){let t,n,i=e[17]+"",r,a;return{c(){t=T("li"),n=T("div"),r=z(i),a=Y(),p(n,"class","c-legend__equiv-value svelte-qwafey"),p(t,"class","c-legend__item svelte-qwafey")},m(l,o){S(l,t,o),k(t,n),k(n,r),k(t,a)},p(l,o){o&2&&i!==(i=l[17]+"")&&H(r,i)},d(l){l&&A(t)}}}function pv(e){let t,n,i,r,a=e[11].domain(e[1])+"",l,o,u,c,s,f,h,d=e[2],_=[];for(let g=0;g<d.length;g+=1)_[g]=Oo(qo(e,d,g));let v=e[3]!=null&&Ho(e),m=e[11].range(),y=[];for(let g=0;g<m.length;g+=1)y[g]=Bo(Yo(e,m,g));let M=e[1],b=[];for(let g=0;g<M.length;g+=1)b[g]=Vo(Uo(e,M,g));return{c(){t=T("div"),n=T("div"),i=T("div"),r=X("svg"),l=z(a);for(let g=0;g<_.length;g+=1)_[g].c();o=Y(),v&&v.c(),u=Y(),c=T("div"),s=T("ul");for(let g=0;g<y.length;g+=1)y[g].c();f=Y(),h=T("ul");for(let g=0;g<b.length;g+=1)b[g].c();p(r,"width","800"),p(r,"height","800"),p(r,"id","map"),p(r,"class","svelte-qwafey"),p(i,"id","choropleth"),p(n,"id","map"),p(n,"class","svelte-qwafey"),p(s,"class","c-legend svelte-qwafey"),p(h,"class","c-legend svelte-qwafey"),p(c,"id","legend"),p(c,"class","svelte-qwafey"),p(t,"id","map-wrap"),p(t,"class","svelte-qwafey")},m(g,w){S(g,t,w),k(t,n),k(n,i),k(i,r),k(r,l);for(let C=0;C<_.length;C+=1)_[C].m(r,null);k(n,o),v&&v.m(n,null),k(t,u),k(t,c),k(c,s);for(let C=0;C<y.length;C+=1)y[C].m(s,null);k(c,f),k(c,h);for(let C=0;C<b.length;C+=1)b[C].m(h,null)},p(g,[w]){if(w&2&&a!==(a=g[11].domain(g[1])+"")&&H(l,a),w&2637){d=g[2];let C;for(C=0;C<d.length;C+=1){const E=qo(g,d,C);_[C]?_[C].p(E,w):(_[C]=Oo(E),_[C].c(),_[C].m(r,null))}for(;C<_.length;C+=1)_[C].d(1);_.length=d.length}if(g[3]!=null?v?v.p(g,w):(v=Ho(g),v.c(),v.m(n,null)):v&&(v.d(1),v=null),w&2048){m=g[11].range();let C;for(C=0;C<m.length;C+=1){const E=Yo(g,m,C);y[C]?y[C].p(E,w):(y[C]=Bo(E),y[C].c(),y[C].m(s,null))}for(;C<y.length;C+=1)y[C].d(1);y.length=m.length}if(w&2){M=g[1];let C;for(C=0;C<M.length;C+=1){const E=Uo(g,M,C);b[C]?b[C].p(E,w):(b[C]=Vo(E),b[C].c(),b[C].m(h,null))}for(;C<b.length;C+=1)b[C].d(1);b.length=M.length}},i:V,o:V,d(g){g&&A(t),we(_,g),v&&v.d(),we(y,g),we(b,g)}}}function Wo(e){if(e!==null){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")}else return"N/A"}function _v(e,t,n){let i,r,{selectedTab:a="arrest_rate"}=t,{selectedDomain:l}=t,o=[],u=[];const c=["arrest_rate","jail_incarceration_rate_bscc","prison_incarceration_rate_cdcr","budget.public_protection_per_capita"],s=["Arrest Rate: ","Jail Incarceration Rate (BSCC): ","Prison Incarceration Rate (CDCR): ","Public Protection Budget Per Capita: $"];let f,h,d;const _=function(g){n(4,h=g.clientX),n(5,d=g.clientY)},v=vr().scale(4e3).translate([1550,450]),m=mr(v);it(e,m,g=>n(12,r=g)),Ee(async()=>{let C=(await(await fetch("https://vera-ca-data.s3.us-west-1.amazonaws.com/curated_data/visualizations/california_counties.json")).json()).features;n(2,o=hi(C,E=>E.properties.NAME)),u=await ge("https://vera-insights-data-viz.s3.amazonaws.com/california/california_facilities.csv"),u.forEach(function(E){E["adp/population"]=+E["adp/population"],E.capacity=+E.capacity})});let y=Yc().range(["#75bdff","#2f9bff","#006acc","#2E1D97","#0e002c"]);const M=(g,w)=>{n(3,f=g.properties),_(w)},b=()=>{n(3,f=void 0)};return e.$$set=g=>{"selectedTab"in g&&n(0,a=g.selectedTab),"selectedDomain"in g&&n(1,l=g.selectedDomain)},e.$$.update=()=>{e.$$.dirty&4096&&n(6,i=di().projection(r))},[a,l,o,f,h,d,i,c,s,_,m,y,r,M,b]}class Ot extends oe{constructor(t){super(),le(this,t,_v,pv,ie,{selectedTab:0,selectedDomain:1})}}const vv=[[0,2e3,4e3,6e3,8e3],[0,200,300,400,900],[0,300,500,675,1200],[0,1300,2e3,2500,17e3]],Ht=ci("statewide"),mv=ci(vv),$n=ci([{index:0,label:"Arrests",value:1,component:Ot,anno:"It\u2019s impossible to see the full picture of incarceration without seeing how the system ensnares people. We tend to think of crime and incarceration as an urban problem. In fact, it\u2019s a statewide problem: while the highest number of arrests happen in larger, populous counties, the ten counties with the highest arrest rates are all rural or small to mid-sized cities."},{index:1,label:"Jail Incarceration",value:2,component:Ot,anno:"Arrests lead to jail incarceration, and so the same statewide trend persists in jail rates. While larger counties incarcerate more people, smaller, more rural counties tend to have higher rates of incarceration, meaning that a higher percent of the people living in those counties are in jail or prison. Any plans to tackle mass incarceration in the state should focus on driving down incarceration rates in smaller counties and shrinking the scale of incarceration in large counties."},{index:2,label:"Prison Incarceration",value:3,component:Ot,anno:"While much of advocates\u2019 attention has rightfully focused on jails and pretrial practices, where better data is a desperate need, there is real momentum in California behind prison closures. Clarity on the prison system illustrates how it is functioning in the state and what keeps it resistant to change. While most prisons are in rural counties or near small to mid-sized cities, most people incarcerated come from large, populous counties. Still, some less populous counties have astronomical prison rates."},{index:3,label:"Criminal Legal Spending",value:4,component:Ot,anno:"Fully understanding California\u2019s incarceration requires bringing the criminal legal budget into the picture. Mass criminalization comes at a cost. The state of California spends as much on its prison system alone as the entire state budgets of Delaware, South Dakota, Montana, New Hampshire, Vermont, and Idaho combined."}]),ef=ci(1);function Xo(e,t,n){const i=e.slice();return i[4]=t[n],i}function Jo(e){let t,n=e[4].properties.NAME+"",i,r,a;return{c(){t=T("option"),i=z(n),r=Y(),t.__value=a=e[4].properties.NAME,t.value=t.__value},m(l,o){S(l,t,o),k(t,i),k(t,r)},p(l,o){o&2&&n!==(n=l[4].properties.NAME+"")&&H(i,n),o&2&&a!==(a=l[4].properties.NAME)&&(t.__value=a,t.value=t.__value)},d(l){l&&A(t)}}}function gv(e){let t,n,i,r,a,l=e[1],o=[];for(let u=0;u<l.length;u+=1)o[u]=Jo(Xo(e,l,u));return{c(){t=T("div"),n=T("select"),i=T("option"),i.textContent="County Fact Sheet";for(let u=0;u<o.length;u+=1)o[u].c();i.__value=null,i.value=i.__value,p(n,"id","county-select"),p(n,"class","svelte-uzw113"),e[0]===void 0&&qi(()=>e[2].call(n)),p(t,"id","secondary-instructions")},m(u,c){S(u,t,c),k(t,n),k(n,i);for(let s=0;s<o.length;s+=1)o[s].m(n,null);El(n,e[0]),r||(a=[ve(n,"change",e[2]),ve(n,"change",e[3])],r=!0)},p(u,[c]){if(c&2){l=u[1];let s;for(s=0;s<l.length;s+=1){const f=Xo(u,l,s);o[s]?o[s].p(f,c):(o[s]=Jo(f),o[s].c(),o[s].m(n,null))}for(;s<o.length;s+=1)o[s].d(1);o.length=l.length}c&3&&El(n,u[0])},i:V,o:V,d(u){u&&A(t),we(o,u),r=!1,Re(a)}}}function yv(e){window.location.href="/county/"+e}function bv(e,t,n){let i,r=[];Ee(async()=>{let c=(await(await fetch("https://vera-insights-data-viz.s3.amazonaws.com/california/calchoro.json")).json()).features;n(1,r=hi(c,s=>s.properties.NAME))});function a(){i=ff(this),n(0,i),n(1,r)}return[i,r,a,()=>yv(i)]}class wv extends oe{constructor(t){super(),le(this,t,bv,gv,ie,{})}}function $o(e,t,n){const i=e.slice();return i[9]=t[n],i}function Go(e,t,n){const i=e.slice();return i[9]=t[n],i}function Zo(e){let t,n,i=e[9].label+"",r,a,l,o,u;return{c(){t=T("li"),n=T("span"),r=z(i),a=Y(),p(n,"class","svelte-qkgtrc"),p(t,"class",l=Le(e[0]===e[9].value?"active "+e[1]:" "+e[1])+" svelte-qkgtrc")},m(c,s){S(c,t,s),k(t,n),k(n,r),k(t,a),o||(u=ve(n,"click",function(){Va(e[3](e[9].value))&&e[3](e[9].value).apply(this,arguments)}),o=!0)},p(c,s){e=c,s&4&&i!==(i=e[9].label+"")&&H(r,i),s&7&&l!==(l=Le(e[0]===e[9].value?"active "+e[1]:" "+e[1])+" svelte-qkgtrc")&&p(t,"class",l)},d(c){c&&A(t),o=!1,u()}}}function Qo(e){let t,n,i,r,a,l,o,u,c=e[9].anno+"",s,f,h;var d=e[9].component;function _(v){return{props:{selectedTab:v[4][v[9].index],selectedDomain:v[5][v[9].index]}}}return d&&(i=new d(_(e))),l=new wv({}),{c(){t=T("div"),n=T("div"),i&&_e(i.$$.fragment),r=Y(),a=T("div"),_e(l.$$.fragment),o=Y(),u=T("div"),f=Y(),p(u,"class","annotation svelte-qkgtrc"),p(a,"class","column-vert svelte-qkgtrc"),p(n,"class",s="box i"+e[9].value+" svelte-qkgtrc"),p(t,"id","subnav")},m(v,m){S(v,t,m),k(t,n),i&&fe(i,n,null),k(n,r),k(n,a),fe(l,a,null),k(a,o),k(a,u),u.innerHTML=c,k(t,f),h=!0},p(v,m){const y={};if(m&4&&(y.selectedTab=v[4][v[9].index]),m&4&&(y.selectedDomain=v[5][v[9].index]),d!==(d=v[9].component)){if(i){ft();const M=i;G(M.$$.fragment,1,0,()=>{he(M,1)}),ht()}d?(i=new d(_(v)),_e(i.$$.fragment),W(i.$$.fragment,1),fe(i,n,r)):i=null}else d&&i.$set(y);(!h||m&4)&&c!==(c=v[9].anno+"")&&(u.innerHTML=c),(!h||m&4&&s!==(s="box i"+v[9].value+" svelte-qkgtrc"))&&p(n,"class",s)},i(v){h||(i&&W(i.$$.fragment,v),W(l.$$.fragment,v),h=!0)},o(v){i&&G(i.$$.fragment,v),G(l.$$.fragment,v),h=!1},d(v){v&&A(t),i&&he(i),he(l)}}}function Ko(e){let t,n,i=e[0]==e[9].value&&Qo(e);return{c(){i&&i.c(),t=Ne()},m(r,a){i&&i.m(r,a),S(r,t,a),n=!0},p(r,a){r[0]==r[9].value?i?(i.p(r,a),a&5&&W(i,1)):(i=Qo(r),i.c(),W(i,1),i.m(t.parentNode,t)):i&&(ft(),G(i,1,1,()=>{i=null}),ht())},i(r){n||(W(i),n=!0)},o(r){G(i),n=!1},d(r){i&&i.d(r),r&&A(t)}}}function kv(e){let t,n,i,r,a=e[2],l=[];for(let s=0;s<a.length;s+=1)l[s]=Zo(Go(e,a,s));let o=e[2],u=[];for(let s=0;s<o.length;s+=1)u[s]=Ko($o(e,o,s));const c=s=>G(u[s],1,1,()=>{u[s]=null});return{c(){t=T("ul");for(let s=0;s<l.length;s+=1)l[s].c();n=Y();for(let s=0;s<u.length;s+=1)u[s].c();i=Ne(),p(t,"class","svelte-qkgtrc")},m(s,f){S(s,t,f);for(let h=0;h<l.length;h+=1)l[h].m(t,null);S(s,n,f);for(let h=0;h<u.length;h+=1)u[h].m(s,f);S(s,i,f),r=!0},p(s,[f]){if(f&15){a=s[2];let h;for(h=0;h<a.length;h+=1){const d=Go(s,a,h);l[h]?l[h].p(d,f):(l[h]=Zo(d),l[h].c(),l[h].m(t,null))}for(;h<l.length;h+=1)l[h].d(1);l.length=a.length}if(f&53){o=s[2];let h;for(h=0;h<o.length;h+=1){const d=$o(s,o,h);u[h]?(u[h].p(d,f),W(u[h],1)):(u[h]=Ko(d),u[h].c(),W(u[h],1),u[h].m(i.parentNode,i))}for(ft(),h=o.length;h<u.length;h+=1)c(h);ht()}},i(s){if(!r){for(let f=0;f<o.length;f+=1)W(u[f]);r=!0}},o(s){u=u.filter(Boolean);for(let f=0;f<u.length;f+=1)G(u[f]);r=!1},d(s){s&&A(t),we(l,s),s&&A(n),we(u,s),s&&A(i)}}}function Mv(e,t,n){let i,r,a;it(e,ef,s=>n(6,i=s)),it(e,Ht,s=>n(1,r=s)),it(e,$n,s=>n(2,a=s));let{activeTabValue:l=1}=t;const o=s=>()=>{n(0,l=s)},u=["arrest_rate","jail_incarceration_rate_bscc","prison_incarceration_rate_cdcr","budget.public_protection_per_capita"],c=[[0,2e3,4e3,6e3,8e3],[0,200,300,400,900],[0,300,500,675,1200],[0,300,600,1e3,3e3]];return e.$$set=s=>{"activeTabValue"in s&&n(0,l=s.activeTabValue)},e.$$.update=()=>{e.$$.dirty&2,e.$$.dirty&64},[l,r,a,o,u,c,i]}class Cv extends oe{constructor(t){super(),le(this,t,Mv,kv,ie,{activeTabValue:0})}}function xo(e,t,n){const i=e.slice();return i[17]=t[n],i}function es(e,t,n){const i=e.slice();return i[20]=t[n],i}function ts(e){let t,n,i,r,a,l,o;function u(...c){return e[11](e[20],...c)}return{c(){t=X("a"),n=X("path"),p(n,"d",i=e[6](e[20])),p(n,"class",r=Le("county "+e[20].properties.NAME)+" svelte-1kjhyv7"),p(n,"fill","#0e002c"),p(n,"stroke","#fff"),p(n,"stroke-width",.5),p(t,"href",a="/county/"+e[20].properties.NAME)},m(c,s){S(c,t,s),k(t,n),l||(o=[ve(n,"mouseover",u),ve(n,"mouseout",e[12])],l=!0)},p(c,s){e=c,s&65&&i!==(i=e[6](e[20]))&&p(n,"d",i),s&1&&r!==(r=Le("county "+e[20].properties.NAME)+" svelte-1kjhyv7")&&p(n,"class",r),s&1&&a!==(a="/county/"+e[20].properties.NAME)&&p(t,"href",a)},d(c){c&&A(t),l=!1,Re(o)}}}function ns(e){let t,n,i,r,a,l,o,u;function c(...s){return e[13](e[17],...s)}return{c(){t=X("circle"),p(t,"class",n=Le("facilities."+e[17].type)+" svelte-1kjhyv7"),p(t,"cx",i=e[8]([+e[17].lon,+e[17].lat])[0]),p(t,"cy",r=e[8]([+e[17].lon,+e[17].lat])[1]),p(t,"opacity","1"),p(t,"fill",a=e[17].type=="Jail"?"#ABFFEB":e[17].type=="Prison"?"#265bf2":e[17].type=="Juvenile"?"#EF4136":e[17].type=="ICE"?"#ff9e44":"#000"),p(t,"r",l=e[17]["adp/population"]/1e3+2)},m(s,f){S(s,t,f),o||(u=[ve(t,"mouseover",c),ve(t,"mouseout",e[14])],o=!0)},p(s,f){e=s,f&2&&n!==(n=Le("facilities."+e[17].type)+" svelte-1kjhyv7")&&p(t,"class",n),f&2&&i!==(i=e[8]([+e[17].lon,+e[17].lat])[0])&&p(t,"cx",i),f&2&&r!==(r=e[8]([+e[17].lon,+e[17].lat])[1])&&p(t,"cy",r),f&2&&a!==(a=e[17].type=="Jail"?"#ABFFEB":e[17].type=="Prison"?"#265bf2":e[17].type=="Juvenile"?"#EF4136":e[17].type=="ICE"?"#ff9e44":"#000")&&p(t,"fill",a),f&2&&l!==(l=e[17]["adp/population"]/1e3+2)&&p(t,"r",l)},d(s){s&&A(t),o=!1,Re(u)}}}function is(e){let t,n=e[2].NAME+"",i,r;return{c(){t=T("div"),i=z(n),r=z(" County"),p(t,"id","tooltip"),Q(t,"left",e[4]+10+"px"),Q(t,"top",e[5]-10+"px"),p(t,"class","svelte-1kjhyv7")},m(a,l){S(a,t,l),k(t,i),k(t,r)},p(a,l){l&4&&n!==(n=a[2].NAME+"")&&H(i,n),l&16&&Q(t,"left",a[4]+10+"px"),l&32&&Q(t,"top",a[5]-10+"px")},d(a){a&&A(t)}}}function rs(e){let t,n;return{c(){t=T("div"),n=z(e[3]),p(t,"id","tooltip"),Q(t,"left",e[4]+10+"px"),Q(t,"top",e[5]-10+"px"),p(t,"class","svelte-1kjhyv7")},m(i,r){S(i,t,r),k(t,n)},p(i,r){r&8&&H(n,i[3]),r&16&&Q(t,"left",i[4]+10+"px"),r&32&&Q(t,"top",i[5]-10+"px")},d(i){i&&A(t)}}}function Av(e){let t,n,i,r,a,l,o=e[0],u=[];for(let d=0;d<o.length;d+=1)u[d]=ts(es(e,o,d));let c=e[1],s=[];for(let d=0;d<c.length;d+=1)s[d]=ns(xo(e,c,d));let f=e[2]!=null&&is(e),h=e[3]!=null&&rs(e);return{c(){t=T("div"),n=X("svg");for(let d=0;d<u.length;d+=1)u[d].c();i=Ne();for(let d=0;d<s.length;d+=1)s[d].c();r=Y(),f&&f.c(),a=Y(),h&&h.c(),l=Ne(),p(n,"width","800"),p(n,"height","800"),p(n,"id","map"),p(n,"class","svelte-1kjhyv7"),p(t,"id","counties")},m(d,_){S(d,t,_),k(t,n);for(let v=0;v<u.length;v+=1)u[v].m(n,null);k(n,i);for(let v=0;v<s.length;v+=1)s[v].m(n,null);S(d,r,_),f&&f.m(d,_),S(d,a,_),h&&h.m(d,_),S(d,l,_)},p(d,[_]){if(_&197){o=d[0];let v;for(v=0;v<o.length;v+=1){const m=es(d,o,v);u[v]?u[v].p(m,_):(u[v]=ts(m),u[v].c(),u[v].m(n,i))}for(;v<u.length;v+=1)u[v].d(1);u.length=o.length}if(_&394){c=d[1];let v;for(v=0;v<c.length;v+=1){const m=xo(d,c,v);s[v]?s[v].p(m,_):(s[v]=ns(m),s[v].c(),s[v].m(n,null))}for(;v<s.length;v+=1)s[v].d(1);s.length=c.length}d[2]!=null?f?f.p(d,_):(f=is(d),f.c(),f.m(a.parentNode,a)):f&&(f.d(1),f=null),d[3]!=null?h?h.p(d,_):(h=rs(d),h.c(),h.m(l.parentNode,l)):h&&(h.d(1),h=null)},i:V,o:V,d(d){d&&A(t),we(u,d),we(s,d),d&&A(r),f&&f.d(d),d&&A(a),h&&h.d(d),d&&A(l)}}}function Sv(e,t,n){let i,r,a;it(e,Ht,b=>n(15,r=b));let l=[],o=[],u,c,s,f;const h=function(b){n(4,s=b.clientX),n(5,f=b.clientY)},d=vr().scale(4e3).translate([1550,450]),_=mr(d);it(e,_,b=>n(10,a=b)),Ee(async()=>{let w=(await(await fetch("https://vera-insights-data-viz.s3.amazonaws.com/california/calchoro.json")).json()).features;n(0,l=hi(w,E=>E.properties.NAME));const C=await ge("https://vera-ca-data.s3.us-west-1.amazonaws.com/curated_data/visualizations/california_facilities.csv");C.forEach(function(E){E["adp/population"]!=="N/A"?E["adp/population"]=+E["adp/population"]:E["adp/population"]=="N/A"&&E["adp/population_ice"]!=="N/A"?E["adp/population"]=+E["adp/population_ice"]:E["adp/population"]=0,E.capacity=+E.capacity}),n(1,o=ae(C,E=>E.lat>0)),fi(o,E=>E.type),r=="jail_incarceration_rate_bscc"&&o.filter(E=>E.type=="Jail")});const v=(b,g)=>{n(2,u=b.properties),h(g)},m=()=>{n(2,u=void 0)},y=(b,g)=>{n(3,c=b.facility_name),h(g)},M=()=>{n(3,c=void 0)};return e.$$.update=()=>{e.$$.dirty&1024&&n(6,i=di().projection(a))},[l,o,u,c,s,f,i,h,d,_,a,v,m,y,M]}class Ev extends oe{constructor(t){super(),le(this,t,Sv,Av,ie,{})}}function as(e,t,n){const i=e.slice();return i[17]=t[n],i}function ls(e,t,n){const i=e.slice();return i[20]=t[n],i}function os(e){let t,n,i,r,a,l,o;function u(...c){return e[11](e[20],...c)}return{c(){t=X("a"),n=X("path"),p(n,"d",i=e[6](e[20])),p(n,"class",r=Le("county "+e[20].properties.NAME)+" svelte-1kjhyv7"),p(n,"fill","#0e002c"),p(n,"stroke","#fff"),p(n,"stroke-width",.5),p(t,"href",a="/county/"+e[20].properties.NAME)},m(c,s){S(c,t,s),k(t,n),l||(o=[ve(n,"mouseover",u),ve(n,"mouseout",e[12])],l=!0)},p(c,s){e=c,s&65&&i!==(i=e[6](e[20]))&&p(n,"d",i),s&1&&r!==(r=Le("county "+e[20].properties.NAME)+" svelte-1kjhyv7")&&p(n,"class",r),s&1&&a!==(a="/county/"+e[20].properties.NAME)&&p(t,"href",a)},d(c){c&&A(t),l=!1,Re(o)}}}function ss(e){let t,n,i,r,a,l,o,u;function c(...s){return e[13](e[17],...s)}return{c(){t=X("circle"),p(t,"class",n=Le("facilities."+e[17].type)+" svelte-1kjhyv7"),p(t,"cx",i=e[8]([+e[17].lon,+e[17].lat])[0]),p(t,"cy",r=e[8]([+e[17].lon,+e[17].lat])[1]),p(t,"opacity",a=e[17].type=="Jail"?1:0),p(t,"fill","#ABFFEB"),p(t,"r",l=e[17]["adp/population"]/1e3+2)},m(s,f){S(s,t,f),o||(u=[ve(t,"mouseover",c),ve(t,"mouseout",e[14])],o=!0)},p(s,f){e=s,f&2&&n!==(n=Le("facilities."+e[17].type)+" svelte-1kjhyv7")&&p(t,"class",n),f&2&&i!==(i=e[8]([+e[17].lon,+e[17].lat])[0])&&p(t,"cx",i),f&2&&r!==(r=e[8]([+e[17].lon,+e[17].lat])[1])&&p(t,"cy",r),f&2&&a!==(a=e[17].type=="Jail"?1:0)&&p(t,"opacity",a),f&2&&l!==(l=e[17]["adp/population"]/1e3+2)&&p(t,"r",l)},d(s){s&&A(t),o=!1,Re(u)}}}function us(e){let t,n=e[2].NAME+"",i,r,a;return{c(){t=T("div"),i=z(n),r=z(" County"),a=T("br"),p(t,"id","tooltip"),Q(t,"left",e[4]+10+"px"),Q(t,"top",e[5]-10+"px"),p(t,"class","svelte-1kjhyv7")},m(l,o){S(l,t,o),k(t,i),k(t,r),k(t,a)},p(l,o){o&4&&n!==(n=l[2].NAME+"")&&H(i,n),o&16&&Q(t,"left",l[4]+10+"px"),o&32&&Q(t,"top",l[5]-10+"px")},d(l){l&&A(t)}}}function cs(e){let t,n=e[3].facility_name+"",i,r,a,l=e[3]["adp/population"]+"",o;return{c(){t=T("div"),i=z(n),r=T("br"),a=z(`
    People Incarcerated: `),o=z(l),p(t,"id","tooltip"),Q(t,"left",e[4]+10+"px"),Q(t,"top",e[5]-10+"px"),p(t,"class","svelte-1kjhyv7")},m(u,c){S(u,t,c),k(t,i),k(t,r),k(t,a),k(t,o)},p(u,c){c&8&&n!==(n=u[3].facility_name+"")&&H(i,n),c&8&&l!==(l=u[3]["adp/population"]+"")&&H(o,l),c&16&&Q(t,"left",u[4]+10+"px"),c&32&&Q(t,"top",u[5]-10+"px")},d(u){u&&A(t)}}}function Tv(e){let t,n,i,r,a,l,o=e[0],u=[];for(let d=0;d<o.length;d+=1)u[d]=os(ls(e,o,d));let c=e[1],s=[];for(let d=0;d<c.length;d+=1)s[d]=ss(as(e,c,d));let f=e[2]!=null&&us(e),h=e[3]!=null&&cs(e);return{c(){t=T("div"),n=X("svg");for(let d=0;d<u.length;d+=1)u[d].c();i=Ne();for(let d=0;d<s.length;d+=1)s[d].c();r=Y(),f&&f.c(),a=Y(),h&&h.c(),l=Ne(),p(n,"width","800"),p(n,"height","800"),p(n,"id","map"),p(n,"class","svelte-1kjhyv7"),p(t,"id","counties")},m(d,_){S(d,t,_),k(t,n);for(let v=0;v<u.length;v+=1)u[v].m(n,null);k(n,i);for(let v=0;v<s.length;v+=1)s[v].m(n,null);S(d,r,_),f&&f.m(d,_),S(d,a,_),h&&h.m(d,_),S(d,l,_)},p(d,[_]){if(_&197){o=d[0];let v;for(v=0;v<o.length;v+=1){const m=ls(d,o,v);u[v]?u[v].p(m,_):(u[v]=os(m),u[v].c(),u[v].m(n,i))}for(;v<u.length;v+=1)u[v].d(1);u.length=o.length}if(_&394){c=d[1];let v;for(v=0;v<c.length;v+=1){const m=as(d,c,v);s[v]?s[v].p(m,_):(s[v]=ss(m),s[v].c(),s[v].m(n,null))}for(;v<s.length;v+=1)s[v].d(1);s.length=c.length}d[2]!=null?f?f.p(d,_):(f=us(d),f.c(),f.m(a.parentNode,a)):f&&(f.d(1),f=null),d[3]!=null?h?h.p(d,_):(h=cs(d),h.c(),h.m(l.parentNode,l)):h&&(h.d(1),h=null)},i:V,o:V,d(d){d&&A(t),we(u,d),we(s,d),d&&A(r),f&&f.d(d),d&&A(a),h&&h.d(d),d&&A(l)}}}function zv(e,t,n){let i,r,a;it(e,Ht,b=>n(15,r=b));let l=[],o=[],u,c,s,f;const h=function(b){n(4,s=b.clientX),n(5,f=b.clientY)},d=vr().scale(4e3).translate([1550,450]),_=mr(d);it(e,_,b=>n(10,a=b)),Ee(async()=>{let w=(await(await fetch("https://vera-insights-data-viz.s3.amazonaws.com/california/calchoro.json")).json()).features;n(0,l=hi(w,E=>E.properties.NAME));const C=await ge("https://vera-ca-data.s3.us-west-1.amazonaws.com/curated_data/visualizations/california_facilities.csv");C.forEach(function(E){E["adp/population"]!=="N/A"?E["adp/population"]=+E["adp/population"]:E["adp/population"]=="N/A"&&E["adp/population_ice"]!=="N/A"?E["adp/population"]=+E["adp/population_ice"]:E["adp/population"]=0,E.capacity=+E.capacity}),n(1,o=ae(C,E=>E.lat>0)),fi(o,E=>E.type),r=="jail_incarceration_rate_bscc"&&o.filter(E=>E.type=="Jail")});const v=(b,g)=>{n(2,u=b.properties),h(g)},m=()=>{n(2,u=void 0)},y=(b,g)=>{n(3,c=b),h(g)},M=()=>{n(3,c=void 0)};return e.$$.update=()=>{e.$$.dirty&1024&&n(6,i=di().projection(a))},[l,o,u,c,s,f,i,h,d,_,a,v,m,y,M]}class Nv extends oe{constructor(t){super(),le(this,t,zv,Tv,ie,{})}}function fs(e,t,n){const i=e.slice();return i[17]=t[n],i}function hs(e,t,n){const i=e.slice();return i[20]=t[n],i}function ds(e){let t,n,i,r,a,l,o;function u(...c){return e[11](e[20],...c)}return{c(){t=X("a"),n=X("path"),p(n,"d",i=e[6](e[20])),p(n,"class",r=Le("county "+e[20].properties.NAME)+" svelte-1kjhyv7"),p(n,"fill","#0e002c"),p(n,"stroke","#fff"),p(n,"stroke-width",.5),p(t,"href",a="/county/"+e[20].properties.NAME)},m(c,s){S(c,t,s),k(t,n),l||(o=[ve(n,"mouseover",u),ve(n,"mouseout",e[12])],l=!0)},p(c,s){e=c,s&65&&i!==(i=e[6](e[20]))&&p(n,"d",i),s&1&&r!==(r=Le("county "+e[20].properties.NAME)+" svelte-1kjhyv7")&&p(n,"class",r),s&1&&a!==(a="/county/"+e[20].properties.NAME)&&p(t,"href",a)},d(c){c&&A(t),l=!1,Re(o)}}}function ps(e){let t,n,i,r,a,l,o,u;function c(...s){return e[13](e[17],...s)}return{c(){t=X("circle"),p(t,"class",n=Le("facilities."+e[17].type)+" svelte-1kjhyv7"),p(t,"cx",i=e[8]([+e[17].lon,+e[17].lat])[0]),p(t,"cy",r=e[8]([+e[17].lon,+e[17].lat])[1]),p(t,"opacity",a=e[17].type=="Prison"?1:0),p(t,"fill","#265bf2"),p(t,"r",l=e[17]["adp/population"]/1e3+2)},m(s,f){S(s,t,f),o||(u=[ve(t,"mouseover",c),ve(t,"mouseout",e[14])],o=!0)},p(s,f){e=s,f&2&&n!==(n=Le("facilities."+e[17].type)+" svelte-1kjhyv7")&&p(t,"class",n),f&2&&i!==(i=e[8]([+e[17].lon,+e[17].lat])[0])&&p(t,"cx",i),f&2&&r!==(r=e[8]([+e[17].lon,+e[17].lat])[1])&&p(t,"cy",r),f&2&&a!==(a=e[17].type=="Prison"?1:0)&&p(t,"opacity",a),f&2&&l!==(l=e[17]["adp/population"]/1e3+2)&&p(t,"r",l)},d(s){s&&A(t),o=!1,Re(u)}}}function _s(e){let t,n=e[2].NAME+"",i,r;return{c(){t=T("div"),i=z(n),r=z(" County"),p(t,"id","tooltip"),Q(t,"left",e[4]+10+"px"),Q(t,"top",e[5]-10+"px"),p(t,"class","svelte-1kjhyv7")},m(a,l){S(a,t,l),k(t,i),k(t,r)},p(a,l){l&4&&n!==(n=a[2].NAME+"")&&H(i,n),l&16&&Q(t,"left",a[4]+10+"px"),l&32&&Q(t,"top",a[5]-10+"px")},d(a){a&&A(t)}}}function vs(e){let t,n=e[3].facility_name+"",i,r,a,l=e[3]["adp/population"]+"",o;return{c(){t=T("div"),i=z(n),r=T("br"),a=z(`
    People Incarcerated: `),o=z(l),p(t,"id","tooltip"),Q(t,"left",e[4]+10+"px"),Q(t,"top",e[5]-10+"px"),p(t,"class","svelte-1kjhyv7")},m(u,c){S(u,t,c),k(t,i),k(t,r),k(t,a),k(t,o)},p(u,c){c&8&&n!==(n=u[3].facility_name+"")&&H(i,n),c&8&&l!==(l=u[3]["adp/population"]+"")&&H(o,l),c&16&&Q(t,"left",u[4]+10+"px"),c&32&&Q(t,"top",u[5]-10+"px")},d(u){u&&A(t)}}}function jv(e){let t,n,i,r,a,l,o=e[0],u=[];for(let d=0;d<o.length;d+=1)u[d]=ds(hs(e,o,d));let c=e[1],s=[];for(let d=0;d<c.length;d+=1)s[d]=ps(fs(e,c,d));let f=e[2]!=null&&_s(e),h=e[3]!=null&&vs(e);return{c(){t=T("div"),n=X("svg");for(let d=0;d<u.length;d+=1)u[d].c();i=Ne();for(let d=0;d<s.length;d+=1)s[d].c();r=Y(),f&&f.c(),a=Y(),h&&h.c(),l=Ne(),p(n,"width","800"),p(n,"height","800"),p(n,"id","map"),p(n,"class","svelte-1kjhyv7"),p(t,"id","counties")},m(d,_){S(d,t,_),k(t,n);for(let v=0;v<u.length;v+=1)u[v].m(n,null);k(n,i);for(let v=0;v<s.length;v+=1)s[v].m(n,null);S(d,r,_),f&&f.m(d,_),S(d,a,_),h&&h.m(d,_),S(d,l,_)},p(d,[_]){if(_&197){o=d[0];let v;for(v=0;v<o.length;v+=1){const m=hs(d,o,v);u[v]?u[v].p(m,_):(u[v]=ds(m),u[v].c(),u[v].m(n,i))}for(;v<u.length;v+=1)u[v].d(1);u.length=o.length}if(_&394){c=d[1];let v;for(v=0;v<c.length;v+=1){const m=fs(d,c,v);s[v]?s[v].p(m,_):(s[v]=ps(m),s[v].c(),s[v].m(n,null))}for(;v<s.length;v+=1)s[v].d(1);s.length=c.length}d[2]!=null?f?f.p(d,_):(f=_s(d),f.c(),f.m(a.parentNode,a)):f&&(f.d(1),f=null),d[3]!=null?h?h.p(d,_):(h=vs(d),h.c(),h.m(l.parentNode,l)):h&&(h.d(1),h=null)},i:V,o:V,d(d){d&&A(t),we(u,d),we(s,d),d&&A(r),f&&f.d(d),d&&A(a),h&&h.d(d),d&&A(l)}}}function Dv(e,t,n){let i,r,a;it(e,Ht,b=>n(15,r=b));let l=[],o=[],u,c,s,f;const h=function(b){n(4,s=b.clientX),n(5,f=b.clientY)},d=vr().scale(4e3).translate([1550,450]),_=mr(d);it(e,_,b=>n(10,a=b)),Ee(async()=>{let w=(await(await fetch("https://vera-insights-data-viz.s3.amazonaws.com/california/calchoro.json")).json()).features;n(0,l=hi(w,E=>E.properties.NAME));const C=await ge("https://vera-ca-data.s3.us-west-1.amazonaws.com/curated_data/visualizations/california_facilities.csv");C.forEach(function(E){E["adp/population"]!=="N/A"?E["adp/population"]=+E["adp/population"]:E["adp/population"]=="N/A"&&E["adp/population_ice"]!=="N/A"?E["adp/population"]=+E["adp/population_ice"]:E["adp/population"]=0,E.capacity=+E.capacity}),n(1,o=ae(C,E=>E.lat>0)),fi(o,E=>E.type),r=="jail_incarceration_rate_bscc"&&o.filter(E=>E.type=="Jail")});const v=(b,g)=>{n(2,u=b.properties),h(g)},m=()=>{n(2,u=void 0)},y=(b,g)=>{n(3,c=b),h(g)},M=()=>{n(3,c=void 0)};return e.$$.update=()=>{e.$$.dirty&1024&&n(6,i=di().projection(a))},[l,o,u,c,s,f,i,h,d,_,a,v,m,y,M]}class Pv extends oe{constructor(t){super(),le(this,t,Dv,jv,ie,{})}}function ms(e,t,n){const i=e.slice();return i[20]=t[n],i[22]=n,i}function gs(e,t,n){const i=e.slice();return i[20]=t[n],i[22]=n,i}function ys(e){let t=console.log("data",e[20])+"",n,i,r,a,l,o,u;function c(){return e[13](e[20])}return{c(){n=z(t),i=X("rect"),p(i,"x","230"),p(i,"y",r=e[3](e[0][e[22]])),p(i,"width",a=e[4](e[1][e[22]])),p(i,"height",l=e[3].bandwidth()),p(i,"fill",Uv),p(i,"font-size","6px"),p(i,"class","svelte-ajsu1o")},m(s,f){S(s,n,f),S(s,i,f),o||(u=[ve(i,"mouseover",c),ve(i,"mouseout",e[7])],o=!0)},p(s,f){e=s,f&9&&r!==(r=e[3](e[0][e[22]]))&&p(i,"y",r),f&18&&a!==(a=e[4](e[1][e[22]]))&&p(i,"width",a),f&8&&l!==(l=e[3].bandwidth())&&p(i,"height",l)},d(s){s&&A(n),s&&A(i),o=!1,Re(u)}}}function bs(e){let t,n,i=e[0][e[22]]+"",r,a,l;return{c(){t=X("foreignObject"),n=T("p"),r=z(i),a=Y(),p(n,"class","label-text svelte-ajsu1o"),p(t,"x","0"),p(t,"y",l=e[3](e[0][e[22]])-6),p(t,"width","190"),p(t,"height","100")},m(o,u){S(o,t,u),k(t,n),k(n,r),k(n,a)},p(o,u){u&1&&i!==(i=o[0][o[22]]+"")&&H(r,i),u&9&&l!==(l=o[3](o[0][o[22]])-6)&&p(t,"y",l)},d(o){o&&A(t)}}}function Lv(e){let t,n,i,r,a,l=e[5],o=[];for(let s=0;s<l.length;s+=1)o[s]=ys(gs(e,l,s));let u=e[5],c=[];for(let s=0;s<u.length;s+=1)c[s]=bs(ms(e,u,s));return{c(){t=X("svg"),n=X("g");for(let s=0;s<o.length;s+=1)o[s].c();i=X("g");for(let s=0;s<c.length;s+=1)c[s].c();r=Y(),a=T("div"),p(n,"class","bars"),p(i,"class","category"),p(t,"width",qa),p(t,"height",Oa),p(t,"viewBox","0 0 "+qa+" "+Oa),p(t,"id","opportunity-costs"),p(t,"class","svelte-ajsu1o"),p(a,"class","tooltip svelte-ajsu1o")},m(s,f){S(s,t,f),k(t,n);for(let h=0;h<o.length;h+=1)o[h].m(n,null);k(t,i);for(let h=0;h<c.length;h+=1)c[h].m(i,null);S(s,r,f),S(s,a,f),e[14](a)},p(s,[f]){if(f&251){l=s[5];let h;for(h=0;h<l.length;h+=1){const d=gs(s,l,h);o[h]?o[h].p(d,f):(o[h]=ys(d),o[h].c(),o[h].m(n,null))}for(;h<o.length;h+=1)o[h].d(1);o.length=l.length}if(f&9){u=s[5];let h;for(h=0;h<u.length;h+=1){const d=ms(s,u,h);c[h]?c[h].p(d,f):(c[h]=bs(d),c[h].c(),c[h].m(i,null))}for(;h<c.length;h+=1)c[h].d(1);c.length=u.length}},i:V,o:V,d(s){s&&A(t),we(o,s),we(c,s),s&&A(r),s&&A(a),e[14](null)}}}let Rv=0,Fv=30,qa=800,Oa=600,Iv=.2,Uv="#97dfd1",ws=4,Yv="amount",qv="category";function Ov(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")}function Hv(e,t,n){let i,r,a,l,o,u,c,s;const h=[{category:"Sanitation",amount:4827651},{category:"General Government",amount:5075891516},{category:"Public Ways and Facilities",amount:66496359},{category:"Education and Recreation and Cultural Services",amount:695823994},{category:"Debt Service and Capital Outlay",amount:828213264},{category:"Health",amount:12370602601},{category:"Public Assistance",amount:17616758216},{category:"Public Protection",amount:18325429738},{category:"Fire Protection, Flood Control, Etc.",amount:1939183684}].slice().sort((C,E)=>zu(E.amount,C.amount));let d=q("body").append("div").attr("class","tooltip");ul(".2s");let _=[230,qa-230],v=[Oa-Fv,Rv*2],m=Lt,y=[];function M(C,E){q(this).attr("stroke-width","1px").attr("stroke","#000");var U="$"+Ov(C.amount);q(d).html(U).style("visibility","visible").style("top",E.layerY-20+"px").style("left",E.layerX+"px")}function b(C){ut("rect").attr("stroke","none").attr("stroke-width",0),q(d).style("visibility","hidden")}const g=C=>M(C,event);function w(C){lt[C?"unshift":"push"](()=>{d=C,n(2,d)})}return e.$$.update=()=>{if(e.$$.dirty&2&&n(11,a=[0,Hi(i)]),e.$$.dirty&1&&n(12,l=r),e.$$.dirty&4096&&n(10,o=[...l]),e.$$.dirty&2048&&n(4,u=m(a,_)),e.$$.dirty&1024&&n(3,c=ni(o,v).padding(Iv)),e.$$.dirty&1&&n(9,s=(Math.max(...r)-Math.min(...r))/ws),e.$$.dirty&768)for(let C=1;C<ws+1;C++)n(8,y=[...y,Math.floor(C*s*100)])},n(1,i=h.map(C=>C[Yv])),n(0,r=h.map(C=>C[qv])),[r,i,d,c,u,h,M,b,y,s,o,a,l,g,w]}class Bv extends oe{constructor(t){super(),le(this,t,Hv,Lv,ie,{})}}function Vv(e){let t,n,i,r;return{c(){t=T("main"),n=T("div"),i=Y(),r=T("div"),p(n,"id","vis"),p(n,"class","svelte-1nx9ceo"),p(r,"class","tooltip svelte-1nx9ceo")},m(a,l){S(a,t,l),k(t,n),e[3](n),k(t,i),k(t,r),e[4](r)},p:V,i:V,o:V,d(a){a&&A(t),e[3](null),e[4](null)}}}function Wv(e,t,n){let i,r,{countyname:a}=t,l=[];a==null&&(a="CA_total"),Ee(async function(){const f=await ge("https://vera-ca-data.s3.us-west-1.amazonaws.com/curated_data/visualizations/bscc_jail_mental_health_pop.csv");l=ae(f,d=>d.demo_County==a).map(d=>({demo_Year:+d.demo_Year,jail_calculated_mh_pop_bscc:+d.jail_calculated_mh_pop_bscc,jail_pop_not_jail_calculated_mh_pop_bscc:+d.jail_pop_not_jail_calculated_mh_pop_bscc,jail_pop_not_mh_pop_of_jail_total_percent_bscc:+d.jail_pop_not_mh_pop_of_jail_total_percent_bscc,jail_calculated_mh_pop_of_jail_total_percent_bscc:+d.jail_calculated_mh_pop_of_jail_total_percent_bscc})),o(),window.addEventListener("resize",o)});function o(){q(i).html(null),q(r).html(null);const s=45;let f={left:70,right:10,top:30,bottom:25},h=600-f.top-f.bottom,d=600-f.left-f.right;var _=q("#vis").append("svg").attr("width",d+f.left+f.right).attr("height",h+f.top+f.bottom),v=_.append("g").attr("transform","translate("+f.left+","+f.top+")"),m=_.append("g").attr("transform","translate("+(f.left+(d-s)/2+s)+","+f.top+")"),y=_.append("g").attr("transform","translate("+(f.left+d/2-s+3+","+f.top+")"));let M=ni().range([h,0]).padding(.03),b=Lt().range([0,(d-s)/2]),g=Lt().range([0,(d-s)/2]),w=Hi(l,C=>Hi([C.jail_pop_not_jail_calculated_mh_pop_bscc,C.jail_calculated_mh_pop_bscc]));b.domain([0,w]),g.domain([w,0]),M.domain(l.map(C=>C.demo_Year)),v.selectAll("rect").data(l).enter().append("rect").attr("x",C=>(d-s)/2-b(C.jail_pop_not_jail_calculated_mh_pop_bscc)).attr("y",C=>M(C.demo_Year)).attr("height",M.bandwidth()).attr("width",C=>b(C.jail_pop_not_jail_calculated_mh_pop_bscc)).style("fill","#DA392F").on("mouseover",function(C,E){q(this).style("fill-opacity",1).attr("stroke","#000").attr("stroke-width",1);var U="Population (Non-MH): "+E.jail_pop_not_jail_calculated_mh_pop_bscc+"<br/>("+E.jail_pop_not_mh_pop_of_jail_total_percent_bscc+"%)";q(r).html(U).style("visibility","visible")}).on("mousemove",function(C,E){q(r).style("top",C.layerY+"px").style("left",C.layerX+"px")}).on("mouseout",function(C){ut("rect").attr("stroke-width",0),q(r).style("visibility","hidden")}),m.selectAll("rect").data(l).enter().append("rect").attr("x",0).attr("y",C=>M(C.demo_Year)).attr("height",M.bandwidth()).attr("width",C=>b(C.jail_calculated_mh_pop_bscc)).style("fill","#0E002C").on("mouseover",function(C,E){q(this).style("fill-opacity",1).attr("stroke","#000").attr("stroke-width",1);var U="Population (MH): "+E.jail_calculated_mh_pop_bscc+"<br/>("+E.jail_calculated_mh_pop_of_jail_total_percent_bscc+"%)";q(r).html(U).style("visibility","visible")}).on("mousemove",function(C,E){q(r).style("top",C.layerY+"px").style("left",C.layerX+"px")}).on("mouseout",function(C){ut("rect").attr("stroke-width",0),q(r).style("visibility","hidden")}),y.selectAll("text").data(l).enter().append("text").attr("x",s/2).attr("y",C=>M(C.demo_Year)+M.bandwidth()/2).text((C,E)=>(E!=l.length-1,C.demo_Year)),m.append("g").attr("transform","translate(0,"+(h+3)+")").call(Ta(b).ticks(d/80,"s")),v.append("g").attr("transform","translate(0,"+(h+3)+")").call(Ta(g).ticks(d/80,"s")),y.append("text").text("Year").attr("x",s/2).attr("y",-14).style("font-weight","bold"),m.append("text").text("Mental Health Population").attr("x",(d-s)/2).attr("y",-14).style("text-anchor","end"),v.append("text").text("Non MH").attr("x",(d-s)/2-40).attr("y",-14).style("text-anchor","end")}function u(s){lt[s?"unshift":"push"](()=>{i=s,n(0,i)})}function c(s){lt[s?"unshift":"push"](()=>{r=s,n(1,r)})}return e.$$set=s=>{"countyname"in s&&n(2,a=s.countyname)},[i,r,a,u,c]}class tf extends oe{constructor(t){super(),le(this,t,Wv,Vv,ie,{countyname:2})}}function Xv(e){let t,n,i,r,a,l;return{c(){t=T("main"),n=T("div"),i=Y(),r=T("div"),a=Y(),l=T("div"),l.innerHTML=`<div class="litem svelte-19yl6hc"><div class="block one svelte-19yl6hc"></div> 
            <div class="name">Felony</div></div> 
        <div class="litem svelte-19yl6hc"><div class="block two svelte-19yl6hc"></div> 
            <div class="name">Misdemeanor</div></div> 
        <div class="litem svelte-19yl6hc"><div class="block three svelte-19yl6hc"></div> 
            <div class="name">Status</div></div>`,p(n,"id","container"),p(n,"class","svelte-19yl6hc"),p(r,"class","tooltip svelte-19yl6hc"),p(l,"id","legend"),p(l,"class","svelte-19yl6hc"),p(t,"class","svelte-19yl6hc")},m(o,u){S(o,t,u),k(t,n),e[2](n),k(t,i),k(t,r),e[3](r),k(t,a),k(t,l)},p:V,i:V,o:V,d(o){o&&A(t),e[2](null),e[3](null)}}}function Jv(e,t,n){let i,r,a=[{type:"felony",number:32.0465899},{type:"misdemeanor",number:67.6666167},{type:"status",number:.28679344}];Ee(async()=>{await ge("https://vera-ca-data.s3.us-west-1.amazonaws.com/curated_data/visualizations/arrest_by_type_with_rate_doughnut.csv"),l(),window.addEventListener("resize",l)});function l(){q(i).html(null),q(r).html(null);var c=300,s=300,f={top:20,right:20,bottom:20,left:20},h=["#2E1D97","#265bf2","#4dc3a7"];n(0,i=q(i).datum(a)),i.each(d=>{var _=Math.min(c,s)/2,v=xc().value(M=>M.number).sort(null),m=Kc().outerRadius(_).innerRadius(_*.5),y=i.append("svg").attr("width",c+f.left+f.right).attr("height",s+f.top+f.bottom).append("g").attr("transform","translate("+(_+f.left)+","+(_+f.bottom)+")");y.append("g").attr("class","slices"),y.select(".slices").datum(d).selectAll("path").data(v).enter().append("path").attr("fill",function(M,b){return h[b]}).attr("d",m).on("mouseover",function(M,b){q(this).style("fill-opacity",1).style("stroke","#fff");var g=b.data.type+": "+b.data.number.toFixed(1)+"%";q(r).html(g).style("visibility","visible")}).on("mousemove",function(M,b){q(r).style("top",M.layerY+"px").style("left",M.layerX+"px")}).on("mouseout",function(M){ut("circle").style("fill-opacity",.7).style("stroke","none"),q(this).attr("class"),q(this).attr("id"),ut("circle").attr("opacity",1),q(r).style("visibility","hidden")})})}function o(c){lt[c?"unshift":"push"](()=>{i=c,n(0,i)})}function u(c){lt[c?"unshift":"push"](()=>{r=c,n(1,r)})}return[i,r,o,u]}class $v extends oe{constructor(t){super(),le(this,t,Jv,Xv,ie,{})}}function ks(e,t,n){const i=e.slice();return i[14]=t[n],i[16]=n,i}function Ms(e){let t;return{c(){t=X("rect"),p(t,"x",Math.floor(e[16]/e[3])*e[4]+Math.floor(e[16]/e[3])*e[5]),p(t,"y",e[3]*e[4]-(e[16]%e[3]*e[4]+e[16]%e[3]*e[5])),p(t,"width",e[4]),p(t,"height",e[4]),p(t,"fill",e[16]<285?"royalblue":"#0e002c")},m(n,i){S(n,t,i)},p:V,d(n){n&&A(t)}}}function Gv(e){let t,n,i,r,a,l=e[0],o=[];for(let u=0;u<l.length;u+=1)o[u]=Ms(ks(e,l,u));return{c(){t=T("div"),n=X("svg"),i=X("g");for(let u=0;u<o.length;u+=1)o[u].c();r=Y(),a=T("div"),p(i,"class","waffle svelte-fenm5t"),p(n,"width",e[1]),p(n,"height",e[2]),p(n,"class","svelte-fenm5t"),p(t,"id","chart"),p(a,"id","legend"),p(a,"class","svelte-fenm5t")},m(u,c){S(u,t,c),k(t,n),k(n,i);for(let s=0;s<o.length;s+=1)o[s].m(i,null);S(u,r,c),S(u,a,c)},p(u,[c]){if(c&57){l=u[0];let s;for(s=0;s<l.length;s+=1){const f=ks(u,l,s);o[s]?o[s].p(f,c):(o[s]=Ms(f),o[s].c(),o[s].m(i,null))}for(;s<o.length;s+=1)o[s].d(1);o.length=l.length}c&2&&p(n,"width",u[1]),c&4&&p(n,"height",u[2])},i:V,o:V,d(u){u&&A(t),we(o,u),u&&A(r),u&&A(a)}}}function Zv(e,t,n){let{waffleData:i}=t,r,a,l=21,o=20,u=2;return a=(o+u)*l,r=500,e.$$set=c=>{"waffleData"in c&&n(0,i=c.waffleData)},[i,r,a,l,o,u]}class Qv extends oe{constructor(t){super(),le(this,t,Zv,Gv,ie,{waffleData:0})}}function Kv(e){let t,n,i;return n=new Qv({props:{waffleData:e[0]}}),{c(){t=T("main"),_e(n.$$.fragment)},m(r,a){S(r,t,a),fe(n,t,null),i=!0},p(r,[a]){const l={};a&1&&(l.waffleData=r[0]),n.$set(l)},i(r){i||(W(n.$$.fragment,r),i=!0)},o(r){G(n.$$.fragment,r),i=!1},d(r){r&&A(t),he(n)}}}function xv(e,t,n){let i,r,a=[],l=[],o=20,u=9.95,c=10,s;return i=61636,r=46694,l=[{type:"jail",value:i},{type:"pretrial",value:r}],l.forEach(function(f,h){c=i/(o*u),s=Math.floor(i/c),n(0,a=a.concat(Array(s+1).join(1).split("").map(function(){return{squareValue:c,units:s,population:i,groupIndex:h}})))}),[a]}class em extends oe{constructor(t){super(),le(this,t,xv,Kv,ie,{})}}function tm(e){let t,n,i,r,a,l,o;return{c(){t=T("div"),n=X("svg"),i=X("g"),r=X("path"),a=X("path"),l=Y(),o=T("div"),o.innerHTML=`<div id="up" class="svelte-18vyruc"><div class="box svelte-18vyruc"></div>
            County Spending on Jails</div> 
        <div id="down" class="svelte-18vyruc"><div class="box svelte-18vyruc"></div>
            Jail Populations</div>`,p(r,"d","M"+Xt/4+","+Xt/2+" h"+Xt/2+" l"+-Xt/4+","+-Xt/2+" Z"),p(r,"fill","#ef1436"),p(a,"d","M"+Xt/1.335+","+Xt/2+" h"+Kr/2+" l"+-Kr/4+","+Kr/2+" Z"),p(a,"fill","#0E002C"),p(n,"width",nm),p(n,"height",im),p(o,"id","legend"),p(o,"class","svelte-18vyruc"),p(t,"class","triangleChart svelte-18vyruc")},m(u,c){S(u,t,c),k(t,n),k(n,i),k(i,r),k(i,a),k(t,l),k(t,o)},p:V,i:V,o:V,d(u){u&&A(t)}}}let nm=430,im=300,Xt=465,Kr=120;function rm(e,t,n){let{data:i}=t;return e.$$set=r=>{"data"in r&&n(0,i=r.data)},[i]}class am extends oe{constructor(t){super(),le(this,t,rm,tm,ie,{data:0})}}function lm(e){let t,n,i,r,a;return{c(){t=T("main"),n=X("svg"),i=X("svg"),r=Y(),a=T("div"),p(i,"id","vis"),p(i,"y","75"),p(i,"width","600"),p(i,"height","1000"),p(i,"class","svelte-qgq0mw"),p(n,"id","canvas"),p(n,"xmlns","http://www.w3.org/2000/svg"),p(n,"width","600"),p(n,"height","1000"),p(a,"class","tooltip svelte-qgq0mw")},m(l,o){S(l,t,o),k(t,n),k(n,i),k(t,r),k(t,a),e[1](a)},p:V,i:V,o:V,d(l){l&&A(t),e[1](null)}}}function om(e){return e.charAt(0).toUpperCase()+e.slice(1)}function Cs(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")}function sm(e,t,n){let i=[];Ee(async()=>{i=(await ge("https://vera-ca-data.s3.us-west-1.amazonaws.com/curated_data/arrest/arrest_rates_race.csv")).filter(s=>s.year==2020&&s.race=="black"||s.year==2020&&s.race=="white"),console.log("arrest rate data",i),o(i),window.addEventListener("resize",o(i))}),q("#canvas");let r,a,l=q("body").append("div").attr("class","tooltip");function o(c){q("#vis svg").remove(),ge("https://vera-ca-data.s3.us-west-1.amazonaws.com/curated_data/arrest/cagrid.csv").then(function(s){r={},s.forEach(function(w){r[w.county]={x:w.x,y:w.y}}),c.forEach(function(w){w.total_arrest_rate=+w.total_arrest_rate,w.title=w.code});let f={top:0,right:0,bottom:0,left:0},h=550-f.left-f.right,d=850-f.top-f.bottom,_=ni().domain(s.map(w=>+w.y).sort(zt)).rangeRound([0,d]).paddingInner(.15),v=ni().domain(s.map(w=>+w.x).sort(zt)).rangeRound([0,h]).paddingInner(.15);const m=Hi(c,w=>w.total_arrest_rate);a=Lt().domain([0,m+3500]).range([_.bandwidth(),0]),cl().domain(c.map(w=>w.type)).range([0,v.bandwidth()]);const y=(w=new Map)=>Array.from(w.entries(),([C,E])=>({key:C,values:E instanceof Map?y(E):E,x:+r[C].x,y:+r[C].y})).filter(Boolean),M=y(If(c,w=>w.county));var b=q("#vis").append("svg").attr("width",h+f.left+f.right).attr("height",d+f.top+f.bottom).append("g").attr("transform",`translate(${[f.left,f.top]})`),g=b.selectAll("g").data(M).enter().append("g").attr("class",w=>"vis "+w.key).attr("transform",w=>`translate(${[v(w.x),_(w.y)]})`);g.append("rect").attr("class","visbg").attr("width",v.bandwidth()).attr("height",_.bandwidth()).style("stroke","#e4d6d3").style("stroke-width",1).attr("fill","#fff"),g.selectAll(".bar").data(w=>w.values).enter().append("rect").attr("class","bar").attr("x",(w,C)=>v.bandwidth()/3*C+v.bandwidth()/6).attr("width",v.bandwidth()/3).attr("y",w=>a(w.total_arrest_rate)).attr("height",w=>_.bandwidth()-a(w.total_arrest_rate)).attr("fill",w=>w.race=="black"?"royalblue":(w.race=="white","#000")).on("mouseover",function(w,C){q(this).style("fill-opacity",1).attr("stroke","#000").attr("stroke-width",.5);var E=C.county+" County<br/>"+om(C.race)+" People<br/>Population: "+Cs(C.population)+"<br/>Arrest Rate: "+Cs(C.total_arrest_rate.toFixed(0))+" per 100k people";q(l).html(E).style("visibility","visible")}).on("mousemove",function(w,C){q(l).style("top",w.layerY+"px").style("left",w.layerX+"px")}).on("mouseout",function(w){ut("rect").attr("stroke-width",0),q(l).style("visibility","hidden")}),g.append("text").attr("class","state").style("font-size",11).attr("x",2).attr("y",2).attr("dx",0).attr("dy","1em").style("fill","#0a0319").text(w=>w.key=="Contra Costa"?"Contra":w.key=="San Luis Obispo"?"San Luis":w.key=="Santa Barbara"?"Santa":w.key=="San Bernardino"||w.key=="San Francisco"?"San":w.key),g.append("text").attr("class","state").style("font-size",11).attr("x",2).attr("y",13).attr("dx",0).attr("dy","1em").style("fill","#0a0319").text(w=>w.key=="Contra Costa"?"Costa":w.key=="San Luis Obispo"?"Obispo":w.key=="Santa Barbara"?"Barbara":w.key=="San Bernardino"?"Bernardino":w.key=="San Francisco"?"Francisco":"")}).catch(function(s){console.log("error: ",s)})}function u(c){lt[c?"unshift":"push"](()=>{l=c,n(0,l)})}return[l,u]}class um extends oe{constructor(t){super(),le(this,t,sm,lm,ie,{})}}const cm=e=>({}),As=e=>({activeTabValue:1});function fm(e){let t,n,i,r,a,l,o,u,c,s,f,h,d,_,v,m;const y=e[7].default,M=_u(y,e,e[6],As);return d=new Cv({props:{activeTabValue:e[2]}}),{c(){t=T("nav"),n=Y(),i=T("div"),r=T("button"),r.textContent="A Statewide Problem",a=Y(),l=T("button"),l.textContent="A Local Problem",o=Y(),u=T("button"),u.textContent="Mapping Jails and Prisons",c=Y(),s=T("nav"),M&&M.c(),f=Y(),h=T("section"),_e(d.$$.fragment),p(t,"id","navigation"),p(t,"class","svelte-5qyv3k"),p(r,"class","button statewide svelte-5qyv3k"),p(l,"class","button local svelte-5qyv3k"),p(u,"class","button prison svelte-5qyv3k"),p(i,"id","aspects"),p(i,"class","svelte-5qyv3k"),p(h,"class","tabs")},m(b,g){S(b,t,g),S(b,n,g),S(b,i,g),k(i,r),k(i,a),k(i,l),k(i,o),k(i,u),S(b,c,g),S(b,s,g),M&&M.m(s,null),k(s,f),k(s,h),fe(d,h,null),_=!0,v||(m=[ve(r,"click",e[8]),ve(l,"click",e[9]),ve(u,"click",e[10])],v=!0)},p(b,[g]){M&&M.p&&(!_||g&64)&&gu(M,y,b,b[6],_?mu(y,b[6],g,cm):yu(b[6]),As)},i(b){_||(W(M,b),W(d.$$.fragment,b),_=!0)},o(b){G(M,b),G(d.$$.fragment,b),_=!1},d(b){b&&A(t),b&&A(n),b&&A(i),b&&A(c),b&&A(s),M&&M.d(b),he(d),v=!1,Re(m)}}}function hm(e,t,n){let i,r,a,l;it(e,ef,_=>n(4,i=_)),it(e,$n,_=>n(0,r=_)),it(e,mv,_=>n(5,a=_)),it(e,Ht,_=>n(1,l=_));let{$$slots:o={},$$scope:u}=t,c;const s=_=>{q(".button."+_).style("background-color","#2e1d97"),ut(".button:not(."+_+")").style("background-color","#0e002c")};Ee(async()=>{s("statewide")});const f=()=>{s("statewide"),vn(Ht,l="statewide",l),vn($n,r=[{index:0,label:"Arrests",value:1,component:Ot,anno:"It\u2019s impossible to see the full picture of incarceration without seeing how the system ensnares people. In 2020, there were 853,576 arrests across all 58 California counties. Only 12 percent were for violent felonies; most arrests were for misdemeanors. Even though people charged with misdemeanors tend to spend fewer days in jail, robust research has found that even 23 hours in jail negatively impacts a person\u2019s housing, employment, and overall security such that they are statistically more likely to be arrested again."},{index:1,label:"Jail Incarceration",value:2,component:Ot,anno:"Arrests lead to jail incarceration, and so the same statewide trend persists in jail rates. While larger counties incarcerate more people, smaller, more rural counties tend to have higher rates of incarceration, meaning that a higher percent of the people living in those counties are in jail or prison. Any plans to tackle mass incarceration in the state should focus on driving down incarceration rates in smaller counties and shrinking the scale of incarceration in large counties."},{index:2,label:"Prison Incarceration",value:3,component:Ot,anno:"While much of advocates\u2019 attention has rightfully focused on jails and pretrial practices, where better data is a desperate need, there is real momentum in California behind prison closures. Clarity on the prison system illustrates how it is functioning in the state and what keeps it resistant to change. While most prisons are in rural counties or near small to mid-sized cities, most people incarcerated come from large, populous counties. Still, some less populous counties have astronomical prison rates."},{index:3,label:"Criminal Legal Spending",value:4,component:Ot,anno:"Fully understanding California\u2019s incarceration requires bringing the criminal legal budget into the picture. Mass criminalization comes at a cost. The state of California spends as much on its prison system alone as the entire state budgets of Delaware, South Dakota, Montana, New Hampshire, Vermont, and Idaho combined."}],r)},h=()=>{s("local"),vn(Ht,l="local",l),vn($n,r=[{index:0,label:"Arrests",value:1,component:$v,anno:"It all starts with arrests. In 2020, there were 853,576 arrests across all 58 California counties. But only 12 percent were for violent felonies; most arrests were for misdemeanors. Even though people charged with misdemeanors tend to spend fewer days in jail, robust research has found that even 23 hours in jail negatively impacts a person\u2019s housing, employment, and overall security such that they are statistically more likely to be arrested again."},{index:1,label:"Race Matters",value:2,component:um,anno:"While there are variations in racial disparities across different counties in California, almost every county arrests its Black residents at a higher rate than white residents. This, of course, results in a higher jail incarceration rate for Black Californians.<br/><div id='legend'><div class='legend-li'><div class='box black'></div>Black People</div><div class='legend-li'><div class='box white'></div>White People</div></div>"},{index:2,label:"Pretrial Detention",value:3,component:em,anno:"One of the main drivers of county jail incarceration is pretrial detention. On any given day, 75 percent of people in jail (44,643) in California have pending charges for which they have not been convicted. In Los Angeles County alone, there are nearly 7,000 people in jail pretrial daily, and the median bail amount is $235,000, four times higher than the median bail amount in New York City."},{index:3,label:"Jail and Mental Health",value:4,component:tf,anno:"Twenty-seven percent of all people in California jails are designated as having a mental health condition. That\u2019s 16,911 people in jail on any given day who should be receiving treatment in the community, not deteriorating behind bars.<p>The mental health population is increasing, even as the total jail population has remained steady over the past two decades and decreased in the past few years. The result is that the proportion of the total jail population that has mental health needs is increasing."},{index:4,label:"Mounting Costs",value:5,component:am,anno:"While jail populations decreased by 19 percent between 2010 and 2020, county spending on jails increased by 62 percent\u2014from $15.6 billion to $25.2 billion. Unfortunately, that increased spending is going towards staffing, not programs like education and vocational training to improve the lives of incarcerated people. Decarceration should mean decreasing jail spending and reallocating money to things like reentry programs."},{index:5,label:"Opportunity Costs",value:6,component:Bv,anno:"County expenses include things like policing, prosecution, and jails. California counties spend more on the criminal legal system than any other major budget item. Every dollar spent on incarceration could be spent on the things proven to make communities safer: jobs, good schools, housing, and health care."}],r)},d=()=>{s("prison"),vn(Ht,l="facilities",l),vn($n,r=[{index:0,label:"Jail Locations",value:1,component:Nv,anno:"Jails are omnipresent in California. Every county except Alpine and Sierra has at least one jail. Some, like Los Angeles and Orange Counties, have more than five."},{index:1,label:"Prison Locations",value:2,component:Pv,anno:"While there has been significant attention to the economic impacts of closing rural prisons, most California prisons are in small or mid-sized counties. With prison populations slowly decreasing, closing prisons and then adjusting the CDCR budget is a way to reallocate funding to programs and policies that actually keep our communities safe, like supportive housing for people with mental illnesses. However, closing prisons would involve decreasing prison jobs, so advocates have suggested investing in infrastructure and workforce development for towns impacted by prison closure."},{index:2,label:"All Facilities",value:3,component:Ev,anno:"Mapping out the state's facilities begins to create a picture of what incarceration really looks like in California. On an average day in the state, there are 61,636 people incarcerated in jails, 96,416 in prisons, and X,XXX in immigration detention. There are at least 334 detention facilities in California: 121 are adult jails, 132 are juvenile detention centers, 34 are prisons, and 49 are ICE detention facilities (12 of these are also jails). Because of the morphing quality of incarceration in California (for example, a jail might close and reopen as an ICE facility), better data transparency is required to fully track the scale of the state\u2019s carceral facilities."}],r)};return e.$$set=_=>{"$$scope"in _&&n(6,u=_.$$scope)},e.$$.update=()=>{e.$$.dirty&2,e.$$.dirty&32,e.$$.dirty&1,e.$$.dirty&16},[r,l,c,s,i,a,u,o,f,h,d]}class dm extends oe{constructor(t){super(),le(this,t,hm,fm,ie,{})}}function pm(e){let t;return{c(){t=T("div"),t.innerHTML=`<h2>About the Data</h2> 
  <p>Sources that are being brought together by this tool include data on jails
    from the California Board of State and Community Corrections and the Federal
    Bureau of Justice Statistics, prisons from the CDCR, arrests from the
    California Department of Justice, and budgets from the California
    Controller&#39;s Office.</p> 

  <div class="tabs svelte-ehhz59"><div class="tab svelte-ehhz59"><input type="checkbox" id="chck1" class="svelte-ehhz59"/> 
      <label class="tab-label svelte-ehhz59" for="chck1"><span class="label-text svelte-ehhz59">More</span></label> 
      <div class="tab-content svelte-ehhz59"><ul class="svelte-ehhz59"><li class="svelte-ehhz59"><sup>1</sup> ICE detention data reflects fiscal year 2019. Although ICE
            releases information about people it detains on a regular basis here,
            a 2020 FOIA request of documents relating to ICE detention revealed that
            many, many more people are detained by the agency than is reported in
            those documents. Therefore, here we use the data provided by ICE in response
            to the FOIA request rather than the incomplete data reported on their
            website.</li> 
          <li class="svelte-ehhz59"><sup>2</sup> 
            <a href="https://ebudget.ca.gov/2022-23/pdf/Enacted/BudgetSummary/SummaryCharts.pdf">https://ebudget.ca.gov/2022-23/pdf/Enacted/BudgetSummary/SummaryCharts.pdf</a></li> 
          <li class="svelte-ehhz59"><sup>3</sup> 
            <a href="https://cities.bythenumbers.sco.ca.gov/#!/year/2020/operating/0/category/General+Government+and+Public+Safety/0/subcategory_1/Public+Safety/0/subcategory_2">https://cities.bythenumbers.sco.ca.gov/#!/year/2020/operating/0/category/General+Government+and+Public+Safety/0/subcategory_1/Public+Safety/0/subcategory_2</a></li> 
          <li class="svelte-ehhz59"><sup>4</sup> 
            <a href="https://counties.bythenumbers.sco.ca.gov/#!/year/2020/operating/0/category/Public+Protection/0/subcategory">https://counties.bythenumbers.sco.ca.gov/#!/year/2020/operating/0/category/Public+Protection/0/subcategory</a></li></ul> 

        <p>Racial demographic data utilized in this resource is reported here in
          the same manner it shows up in the original data sources. The
          California Department of Justice only includes four racial categories
          in its arrest data: White, Black, Hispanic and Other. We understand
          that these terms are limited in their scope and come with their own
          sets of problems. However, we also recognize that people who identify
          as nonwhite have a significantly different experience engaging with
          the criminal legal system, and thus, in the interest of advancing
          advocacy to highlight their stories, we have elected to provide data
          using these demographic identifiers in our resource. We were unable to
          extract further detail about how the state identified individuals\u2019
          racial identity ( whether self-descriptive or ascribed), nor were we
          able to receive clarity on the classification of people of \u2018Other
          Races\u2019. We interpret demographic data as generally being ascribed to
          people engaging with the criminal legal system (meaning, law
          enforcement personnel decide what category, if any, to place
          individuals). We also interpret \u2018Hispanic\u2019 to non-white people of
          Latinx background, and people of \u2018Other Races\u2019 to include AAPI, Native
          or Indigenous and Arab/Middle Eastern populations, where applicable.
          To contextualize people of \u2018Other races\u2019, we have elected to include
          demographic data from the most recent census to try to help
          researchers understand who might be included in each county\u2019s
          designation of people of \u2018Other Races\u2019. We understand that this is a
          significant limitation to our data, and are actively working with
          state and local governments to address the issue. If you have
          questions about how we addressed racial demographics in our resource,
          please contact california@vera.org for more information.</p></div></div></div>`,p(t,"id","about-data"),p(t,"class","svelte-ehhz59")},m(n,i){S(n,t,i)},p:V,i:V,o:V,d(n){n&&A(t)}}}class nf extends oe{constructor(t){super(),le(this,t,null,pm,ie,{})}}function _m(e){let t,n,i,r,a,l,o,u,c;return a=new dm({}),u=new nf({}),{c(){t=T("div"),t.innerHTML=`<section><h1 class="svelte-fmgthb">California State of Incarceration</h1> 
    <div id="intro"><p class="svelte-fmgthb">Despite California\u2019s reputation as a progressive state, it is one of the
        epicenters of mass incarceration in the United States. Yet, to the
        benefit of those who seek to maintain this status quo, a full picture of
        incarceration across the state remains obscured. it is often difficult
        to understand the reach of the criminal legal system because data is
        strewn across various governmental websites, hidden in obscure
        spreadsheets and antiquated databases, and generally inaccessible to all
        but the most determined and technologically savvy users.</p> 
      <p class="svelte-fmgthb">Led by the work of organizers, advocates, and directly impacted people,
        Californians are demanding an end to mass incarceration and the status
        quo, urging investments that are proven to produce safety, like housing
        and mental health services. But getting there requires better data. This
        tool helps people invested in ending mass incarceration by bringing
        together data from across the system to give a holistic view of how
        counties in California utilize and invest in the criminal-legal system.</p> 
      <p class="svelte-fmgthb">Bringing together and mapping all this data\u2014from prison population and
        budget data to arrest and racial demographic statistics\u2014brings new
        clarity to the state of incarceration in California. In 2021, California
        law enforcement agencies arrested 792,797 people, made 623,188 bookings
        into jail, and sent 29,501 people to prison. The result is that on an
        average day, 713,534 people are held in California jails, 96,416 people
        are incarcerated in California prisons, and xxx people are held in ICE
        detention facilities in the state.1 The state\u2014which spends more than any
        other on incarceration\u2014is set to spend over $18 billion on prisons and
        \u201Crehabilitation\u201D alone in Fiscal Year 2023.2 In 2020, California cities
        spent $14 billion on policing3, and counties spent $20 billion on
        policing, jails, probation, and the judicial system.4 Despite the
        state\u2019s purported commitment to racial equity, Black and Latinx
        Californians, who comprise 65 percent of the jail and 73 percent of the
        prison population respectively, disproportionately bear the brunt of
        decades of failed criminal legal system policy and systemic
        disinvestment in housing, employment, treatment, and services.</p> 
      <p class="svelte-fmgthb">With access to more comprehensive, clearer data, we can change the way
        California views mass incarceration and make way for a better future.</p></div></section>`,n=Y(),i=T("div"),r=T("section"),_e(a.$$.fragment),l=Y(),o=T("section"),_e(u.$$.fragment),p(t,"class","app-wrapper"),p(i,"class","app-wrapper")},m(s,f){S(s,t,f),S(s,n,f),S(s,i,f),k(i,r),fe(a,r,null),k(i,l),k(i,o),fe(u,o,null),c=!0},p:V,i(s){c||(W(a.$$.fragment,s),W(u.$$.fragment,s),c=!0)},o(s){G(a.$$.fragment,s),G(u.$$.fragment,s),c=!1},d(s){s&&A(t),s&&A(n),s&&A(i),he(a),he(u)}}}class vm extends oe{constructor(t){super(),le(this,t,null,_m,ie,{})}}function Ss(e,t,n){const i=e.slice();return i[20]=t[n],i}function Es(e,t,n){const i=e.slice();return i[23]=t[n],i}function Ts(e){let t,n;return{c(){t=X("path"),p(t,"d",n=e[5](e[23])),p(t,"class","county"),p(t,"fill","#ccc"),p(t,"stroke","#313")},m(i,r){S(i,t,r)},p(i,r){r&33&&n!==(n=i[5](i[23]))&&p(t,"d",n)},d(i){i&&A(t)}}}function zs(e){let t,n,i,r,a,l;function o(...u){return e[14](e[20],...u)}return{c(){t=X("circle"),p(t,"class","facilities"),p(t,"cx",n=e[9]([+e[20].lon,+e[20].lat])[0]),p(t,"cy",i=e[9]([+e[20].lon,+e[20].lat])[1]),p(t,"r",4),p(t,"fill",r=e[20].type=="Jail"?"#ABFFEB":e[20].type=="Prison"?"#3a25bf":"#EF4136")},m(u,c){S(u,t,c),a||(l=[ve(t,"mouseover",o),ve(t,"mouseout",e[15])],a=!0)},p(u,c){e=u,c&2&&n!==(n=e[9]([+e[20].lon,+e[20].lat])[0])&&p(t,"cx",n),c&2&&i!==(i=e[9]([+e[20].lon,+e[20].lat])[1])&&p(t,"cy",i),c&2&&r!==(r=e[20].type=="Jail"?"#ABFFEB":e[20].type=="Prison"?"#3a25bf":"#EF4136")&&p(t,"fill",r)},d(u){u&&A(t),a=!1,Re(l)}}}function Ns(e){let t,n=e[2].facility_name+"",i;return{c(){t=T("div"),i=z(n),p(t,"id","tooltip"),Q(t,"left",e[3]+10+"px"),Q(t,"top",e[4]-10+"px"),p(t,"class","svelte-vih1q9")},m(r,a){S(r,t,a),k(t,i)},p(r,a){a&4&&n!==(n=r[2].facility_name+"")&&H(i,n),a&8&&Q(t,"left",r[3]+10+"px"),a&16&&Q(t,"top",r[4]-10+"px")},d(r){r&&A(t)}}}function mm(e){let t,n,i,r,a,l=e[0],o=[];for(let f=0;f<l.length;f+=1)o[f]=Ts(Es(e,l,f));let u=e[1],c=[];for(let f=0;f<u.length;f+=1)c[f]=zs(Ss(e,u,f));let s=e[2]!=null&&Ns(e);return{c(){t=T("div"),n=X("svg");for(let f=0;f<o.length;f+=1)o[f].c();i=Ne();for(let f=0;f<c.length;f+=1)c[f].c();r=Y(),s&&s.c(),a=Ne(),p(n,"width",e[7]),p(n,"height",e[8]),p(n,"class","svelte-vih1q9"),p(t,"id","county"),p(t,"class","svelte-vih1q9")},m(f,h){S(f,t,h),k(t,n);for(let d=0;d<o.length;d+=1)o[d].m(n,null);k(n,i);for(let d=0;d<c.length;d+=1)c[d].m(n,null);S(f,r,h),s&&s.m(f,h),S(f,a,h)},p(f,[h]){if(h&33){l=f[0];let d;for(d=0;d<l.length;d+=1){const _=Es(f,l,d);o[d]?o[d].p(_,h):(o[d]=Ts(_),o[d].c(),o[d].m(n,i))}for(;d<o.length;d+=1)o[d].d(1);o.length=l.length}if(h&582){u=f[1];let d;for(d=0;d<u.length;d+=1){const _=Ss(f,u,d);c[d]?c[d].p(_,h):(c[d]=zs(_),c[d].c(),c[d].m(n,null))}for(;d<c.length;d+=1)c[d].d(1);c.length=u.length}f[2]!=null?s?s.p(f,h):(s=Ns(f),s.c(),s.m(a.parentNode,a)):s&&(s.d(1),s=null)},i:V,o:V,d(f){f&&A(t),we(o,f),we(c,f),f&&A(r),s&&s.d(f),f&&A(a)}}}function gm(e,t,n){let i,{countyTitle:r}=t,{centroidLat:a}=t,{centroidLon:l}=t,{sqkm:o}=t,u=[],c=[],s=[],f,h,d;const _=function(g){n(3,h=g.clientX),n(4,d=g.clientY)},v=window.innerWidth/3,m=window.innerWidth/3;let y=Oh().scale(7e3);Ee(async function(){u=(await(await fetch("https://vera-insights-data-viz.s3.amazonaws.com/california/california.json")).json()).features;const E=await ge("https://vera-insights-data-viz.s3.amazonaws.com/california/california_facilities.csv");n(0,c=ae(u,D=>D.properties.NAME==r));let U=lh(c[0].geometry),L=U[1][0]-U[0][0],R=U[1][1]-U[0][1],j=.9/Math.max(L/v,R/m);y.scale(j*45).center([l,a]).translate([v/2.6,m/2]),n(1,s=ae(E,D=>D.county==r))});const M=(g,w)=>{n(2,f=g),_(w)},b=()=>{n(2,f=void 0)};return e.$$set=g=>{"countyTitle"in g&&n(10,r=g.countyTitle),"centroidLat"in g&&n(11,a=g.centroidLat),"centroidLon"in g&&n(12,l=g.centroidLon),"sqkm"in g&&n(13,o=g.sqkm)},n(5,i=di().projection(y)),[c,s,f,h,d,i,_,v,m,y,r,a,l,o,M,b]}class ym extends oe{constructor(t){super(),le(this,t,gm,mm,ie,{countyTitle:10,centroidLat:11,centroidLon:12,sqkm:13})}}function js(e){let t,n,i;return{c(){t=z("Of all counties in California, "),n=z(e[0]),i=z(" County has the")},m(r,a){S(r,t,a),S(r,n,a),S(r,i,a)},p(r,a){a&1&&H(n,r[0])},d(r){r&&A(t),r&&A(n),r&&A(i)}}}function bm(e){let t=e[8].arrest_rate_rank+"",n,i;return{c(){n=z(t),i=z(".")},m(r,a){S(r,n,a),S(r,i,a)},p(r,a){a&256&&t!==(t=r[8].arrest_rate_rank+"")&&H(n,t)},d(r){r&&A(n),r&&A(i)}}}function wm(e){let t=e[8].arrest_rate_rank+"",n,i;return{c(){n=z(t),i=z(",")},m(r,a){S(r,n,a),S(r,i,a)},p(r,a){a&256&&t!==(t=r[8].arrest_rate_rank+"")&&H(n,t)},d(r){r&&A(n),r&&A(i)}}}function km(e){let t=e[8].jail_rate_rank+"",n,i;return{c(){n=z(t),i=z(".")},m(r,a){S(r,n,a),S(r,i,a)},p(r,a){a&256&&t!==(t=r[8].jail_rate_rank+"")&&H(n,t)},d(r){r&&A(n),r&&A(i)}}}function Mm(e){let t,n=e[8].jail_rate_rank+"",i,r;return{c(){t=z("and "),i=z(n),r=z(".")},m(a,l){S(a,t,l),S(a,i,l),S(a,r,l)},p(a,l){l&256&&n!==(n=a[8].jail_rate_rank+"")&&H(i,n)},d(a){a&&A(t),a&&A(i),a&&A(r)}}}function Cm(e){let t=e[8].jail_rate_rank+"",n,i;return{c(){n=z(t),i=z(",")},m(r,a){S(r,n,a),S(r,i,a)},p(r,a){a&256&&t!==(t=r[8].jail_rate_rank+"")&&H(n,t)},d(r){r&&A(n),r&&A(i)}}}function Am(e){let t=e[8].jail_pop_rank+"",n,i;return{c(){n=z(t),i=z(".")},m(r,a){S(r,n,a),S(r,i,a)},p(r,a){a&256&&t!==(t=r[8].jail_pop_rank+"")&&H(n,t)},d(r){r&&A(n),r&&A(i)}}}function Sm(e){let t,n=e[8].jail_pop_rank+"",i,r;return{c(){t=z("and "),i=z(n),r=z(".")},m(a,l){S(a,t,l),S(a,i,l),S(a,r,l)},p(a,l){l&256&&n!==(n=a[8].jail_pop_rank+"")&&H(i,n)},d(a){a&&A(t),a&&A(i),a&&A(r)}}}function Em(e){let t=e[8].jail_pop_rank+"",n,i;return{c(){n=z(t),i=z(",")},m(r,a){S(r,n,a),S(r,i,a)},p(r,a){a&256&&t!==(t=r[8].jail_pop_rank+"")&&H(n,t)},d(r){r&&A(n),r&&A(i)}}}function Tm(e){let t=e[8].prison_adp_rate_rank+"",n,i;return{c(){n=z(t),i=z(".")},m(r,a){S(r,n,a),S(r,i,a)},p(r,a){a&256&&t!==(t=r[8].prison_adp_rate_rank+"")&&H(n,t)},d(r){r&&A(n),r&&A(i)}}}function zm(e){let t,n=e[8].prison_adp_rate_rank+"",i,r;return{c(){t=z("and "),i=z(n),r=z(".")},m(a,l){S(a,t,l),S(a,i,l),S(a,r,l)},p(a,l){l&256&&n!==(n=a[8].prison_adp_rate_rank+"")&&H(i,n)},d(a){a&&A(t),a&&A(i),a&&A(r)}}}function Nm(e){let t=e[8].prison_adp_rate_rank+"",n,i;return{c(){n=z(t),i=z(",")},m(r,a){S(r,n,a),S(r,i,a)},p(r,a){a&256&&t!==(t=r[8].prison_adp_rate_rank+"")&&H(n,t)},d(r){r&&A(n),r&&A(i)}}}function jm(e){let t=e[8].prison_admissions_rank+"",n,i;return{c(){n=z(t),i=z(".")},m(r,a){S(r,n,a),S(r,i,a)},p(r,a){a&256&&t!==(t=r[8].prison_admissions_rank+"")&&H(n,t)},d(r){r&&A(n),r&&A(i)}}}function Dm(e){let t,n=e[8].prison_admissions_rank+"",i,r;return{c(){t=z("and "),i=z(n),r=z(".")},m(a,l){S(a,t,l),S(a,i,l),S(a,r,l)},p(a,l){l&256&&n!==(n=a[8].prison_admissions_rank+"")&&H(i,n)},d(a){a&&A(t),a&&A(i),a&&A(r)}}}function Pm(e){let t=e[8].prison_admissions_rank+"",n,i;return{c(){n=z(t),i=z(",")},m(r,a){S(r,n,a),S(r,i,a)},p(r,a){a&256&&t!==(t=r[8].prison_admissions_rank+"")&&H(n,t)},d(r){r&&A(n),r&&A(i)}}}function Lm(e){let t=e[8].percap_detention_spending_rank+"",n,i;return{c(){n=z(t),i=z(".")},m(r,a){S(r,n,a),S(r,i,a)},p(r,a){a&256&&t!==(t=r[8].percap_detention_spending_rank+"")&&H(n,t)},d(r){r&&A(n),r&&A(i)}}}function Rm(e){let t,n=e[8].percap_detention_spending_rank+"",i,r;return{c(){t=z("and "),i=z(n),r=z(".")},m(a,l){S(a,t,l),S(a,i,l),S(a,r,l)},p(a,l){l&256&&n!==(n=a[8].percap_detention_spending_rank+"")&&H(i,n)},d(a){a&&A(t),a&&A(i),a&&A(r)}}}function Fm(e){let t=e[8].percap_detention_spending_rank+"",n,i;return{c(){n=z(t),i=z(",")},m(r,a){S(r,n,a),S(r,i,a)},p(r,a){a&256&&t!==(t=r[8].percap_detention_spending_rank+"")&&H(n,t)},d(r){r&&A(n),r&&A(i)}}}function Im(e){let t=e[8].black_arrest_disparity_rank+"",n,i;return{c(){n=z(t),i=z(".")},m(r,a){S(r,n,a),S(r,i,a)},p(r,a){a&256&&t!==(t=r[8].black_arrest_disparity_rank+"")&&H(n,t)},d(r){r&&A(n),r&&A(i)}}}function Um(e){let t,n=e[8].black_arrest_disparity_rank+"",i,r;return{c(){t=z("and "),i=z(n),r=z(".")},m(a,l){S(a,t,l),S(a,i,l),S(a,r,l)},p(a,l){l&256&&n!==(n=a[8].black_arrest_disparity_rank+"")&&H(i,n)},d(a){a&&A(t),a&&A(i),a&&A(r)}}}function Ym(e){let t=e[8].black_arrest_disparity_rank+"",n,i;return{c(){n=z(t),i=z(",")},m(r,a){S(r,n,a),S(r,i,a)},p(r,a){a&256&&t!==(t=r[8].black_arrest_disparity_rank+"")&&H(n,t)},d(r){r&&A(n),r&&A(i)}}}function qm(e){let t=e[8].latinx_arrest_disparity_rank+"",n,i;return{c(){n=z(t),i=z(".")},m(r,a){S(r,n,a),S(r,i,a)},p(r,a){a&256&&t!==(t=r[8].latinx_arrest_disparity_rank+"")&&H(n,t)},d(r){r&&A(n),r&&A(i)}}}function Om(e){let t,n=e[8].latinx_arrest_disparity_rank+"",i,r;return{c(){t=z("and "),i=z(n),r=z(".")},m(a,l){S(a,t,l),S(a,i,l),S(a,r,l)},p(a,l){l&256&&n!==(n=a[8].latinx_arrest_disparity_rank+"")&&H(i,n)},d(a){a&&A(t),a&&A(i),a&&A(r)}}}function Hm(e){let t=e[8].latinx_arrest_disparity_rank+"",n;return{c(){n=z(t)},m(i,r){S(i,n,r)},p(i,r){r&256&&t!==(t=i[8].latinx_arrest_disparity_rank+"")&&H(n,t)},d(i){i&&A(n)}}}function Bm(e){let t,n=e[15].facility_name+"",i;return{c(){t=T("div"),i=z(n),p(t,"id","tooltip"),Q(t,"left",e[6]+10+"px"),Q(t,"top",e[7]-10+"px"),p(t,"class","svelte-4u0da4")},m(r,a){S(r,t,a),k(t,i)},p(r,a){a&64&&Q(t,"left",r[6]+10+"px"),a&128&&Q(t,"top",r[7]-10+"px")},d(r){r&&A(t)}}}function Vm(e){let t,n,i,r,a,l,o,u,c=(e[11]!==void 0?e[11]:0)+"",s,f,h,d,_,v=(e[12]!==void 0?e[12]:0)+"",m,y,M,b,g,w=(e[13]!==void 0?e[13]:0)+"",C,E,U,L,R,j=(e[14]!==void 0?e[14]:0)+"",D,I,J,P,B,$,se,ne=bt(+e[1])+"",Z,ze,je,Ae=bt(+e[2])+"",Se,Oe,At,Ft,It,O,K,x,F,Ie,ce,De=bt(+e[5].arrests_total_arrests_all)+"",Ue,gt,Bt,vi=bt(+e[3].jail_bookings_bscc)+"",Mr,_l,mi,gi=bt(+e[4].prison_admissions_cdcr)+"",Cr,vl,ml,de,Ar,Sr,Er,Tr,zr,Nr,jr,Dr,Pr,Lr,We=e[9]!==-1&&js(e);function gl(N,re){if(N[8].arrest_rate_rank!=="NA"&&N[9]!==0)return wm;if(N[8].arrest_rate_rank!=="NA"&&N[9]==0)return bm}let sn=gl(e),Xe=sn&&sn(e);function yl(N,re){if(N[8].jail_rate_rank!=="NA"&&N[9]!==1)return Cm;if(N[8].jail_rate_rank!=="NA"&&N[9]==1&&N[10]>1)return Mm;if(N[8].jail_rate_rank!=="NA"&&N[9]==1&&N[10]==1)return km}let un=yl(e),Je=un&&un(e);function bl(N,re){if(N[8].jail_pop_rank!=="NA"&&N[9]!==2)return Em;if(N[8].jail_pop_rank!=="NA"&&N[9]==2&&N[10]>1)return Sm;if(N[8].jail_pop_rank!=="NA"&&N[9]==2&&N[10]==1)return Am}let cn=bl(e),$e=cn&&cn(e);function wl(N,re){if(N[8].prison_adp_rate_rank!=="NA"&&N[9]!==3)return Nm;if(N[8].prison_adp_rate_rank!=="NA"&&N[9]==3&&N[10]>1)return zm;if(N[8].prison_adp_rate_rank!=="NA"&&N[9]==3&&N[10]==1)return Tm}let fn=wl(e),Ge=fn&&fn(e);function kl(N,re){if(N[8].prison_admissions_rank!=="NA"&&N[9]!==4)return Pm;if(N[8].prison_admissions_rank!=="NA"&&N[9]==4&&N[10]>1)return Dm;if(N[8].prison_admissions_rank!=="NA"&&N[9]==4&&N[10]==1)return jm}let hn=kl(e),Ze=hn&&hn(e);function Ml(N,re){if(N[8].percap_detention_spending_rank!=="NA"&&N[9]!==5)return Fm;if(N[8].percap_detention_spending_rank!=="NA"&&N[9]==5&&N[10]>1)return Rm;if(N[8].percap_detention_spending_rank!=="NA"&&N[9]==5&&N[10]==1)return Lm}let dn=Ml(e),Qe=dn&&dn(e);function Cl(N,re){if(N[8].black_arrest_disparity_rank!=="NA"&&N[9]!==6)return Ym;if(N[8].black_arrest_disparity_rank!=="NA"&&N[9]==6&&N[10]>1)return Um;if(N[8].black_arrest_disparity_rank!=="NA"&&N[9]==6&&N[10]>1)return Im}let pn=Cl(e),Ke=pn&&pn(e);function Al(N,re){if(N[8].latinx_arrest_disparity_rank!=="NA"&&N[9]!==7)return Hm;if(N[8].latinx_arrest_disparity_rank!=="NA"&&N[9]==7&&N[10]>1)return Om;if(N[8].latinx_arrest_disparity_rank!=="NA"&&N[9]==7&&N[10]>1)return qm}let _n=Al(e),xe=_n&&_n(e),Vt=e[15]!=null&&Bm(e);return{c(){t=T("div"),n=T("p"),i=z(e[0]),r=z(" County has:"),a=Y(),l=T("div"),o=T("div"),u=T("span"),s=z(c),f=z(" Jails"),h=Y(),d=T("div"),_=T("span"),m=z(v),y=z(" Prisons"),M=Y(),b=T("div"),g=T("span"),C=z(w),E=z(" Juvenile Facilities"),U=Y(),L=T("div"),R=T("span"),D=z(j),I=z(" ICE Detention"),J=Y(),P=T("div"),B=T("p"),$=z("There were an average of "),se=T("span"),Z=z(ne),ze=z(`
      people in the County jail (2021) and
      `),je=T("span"),Se=z(Ae),Oe=z(`
      people from `),At=z(e[0]),Ft=z(`
      County in the state prison system (2019).`),It=Y(),O=T("div"),O.innerHTML=`<div id="jail-count" class="svelte-4u0da4"></div> 
      <div id="prison-count" class="svelte-4u0da4"></div>`,K=Y(),x=T("div"),F=T("p"),Ie=z("There are "),ce=T("span"),Ue=z(De),gt=z(`
      annual arrests (2020),
      `),Bt=T("span"),Mr=z(vi),_l=z(`
      jail admissions (2021), and
      `),mi=T("span"),Cr=z(gi),vl=z(`
      people sentenced to state prison (2019).`),ml=Y(),de=T("p"),We&&We.c(),Ar=Y(),Xe&&Xe.c(),Sr=Y(),Je&&Je.c(),Er=Y(),$e&&$e.c(),Tr=Y(),Ge&&Ge.c(),zr=Y(),Ze&&Ze.c(),Nr=Y(),Qe&&Qe.c(),jr=Y(),Ke&&Ke.c(),Dr=Y(),xe&&xe.c(),Pr=Y(),Vt&&Vt.c(),Lr=Ne(),p(n,"class","title svelte-4u0da4"),p(u,"class","num svelte-4u0da4"),p(o,"id","jail"),p(o,"class","svelte-4u0da4"),p(_,"class","num svelte-4u0da4"),p(d,"id","prison"),p(d,"class","svelte-4u0da4"),p(g,"class","num svelte-4u0da4"),p(b,"id","juvenile"),p(R,"class","num svelte-4u0da4"),p(L,"id","ice"),p(L,"class","svelte-4u0da4"),p(l,"id","facility-numbers"),p(l,"class","svelte-4u0da4"),p(se,"class","num svelte-4u0da4"),p(je,"class","num svelte-4u0da4"),p(B,"class","hold svelte-4u0da4"),p(O,"id","holdings"),p(O,"class","svelte-4u0da4"),p(P,"id","held"),p(P,"class","svelte-4u0da4"),p(ce,"class","num svelte-4u0da4"),p(Bt,"class","num svelte-4u0da4"),p(mi,"class","num svelte-4u0da4"),p(F,"class","svelte-4u0da4"),p(de,"class","ranks svelte-4u0da4"),p(x,"id","arrested"),p(x,"class","svelte-4u0da4"),p(t,"id","stats"),p(t,"class","svelte-4u0da4")},m(N,re){S(N,t,re),k(t,n),k(n,i),k(n,r),k(t,a),k(t,l),k(l,o),k(o,u),k(u,s),k(o,f),k(l,h),k(l,d),k(d,_),k(_,m),k(d,y),k(l,M),k(l,b),k(b,g),k(g,C),k(b,E),k(l,U),k(l,L),k(L,R),k(R,D),k(L,I),k(t,J),k(t,P),k(P,B),k(B,$),k(B,se),k(se,Z),k(B,ze),k(B,je),k(je,Se),k(B,Oe),k(B,At),k(B,Ft),k(P,It),k(P,O),k(t,K),k(t,x),k(x,F),k(F,Ie),k(F,ce),k(ce,Ue),k(F,gt),k(F,Bt),k(Bt,Mr),k(F,_l),k(F,mi),k(mi,Cr),k(F,vl),k(x,ml),k(x,de),We&&We.m(de,null),k(de,Ar),Xe&&Xe.m(de,null),k(de,Sr),Je&&Je.m(de,null),k(de,Er),$e&&$e.m(de,null),k(de,Tr),Ge&&Ge.m(de,null),k(de,zr),Ze&&Ze.m(de,null),k(de,Nr),Qe&&Qe.m(de,null),k(de,jr),Ke&&Ke.m(de,null),k(de,Dr),xe&&xe.m(de,null),S(N,Pr,re),Vt&&Vt.m(N,re),S(N,Lr,re)},p(N,[re]){re&1&&H(i,N[0]),re&2048&&c!==(c=(N[11]!==void 0?N[11]:0)+"")&&H(s,c),re&4096&&v!==(v=(N[12]!==void 0?N[12]:0)+"")&&H(m,v),re&8192&&w!==(w=(N[13]!==void 0?N[13]:0)+"")&&H(C,w),re&16384&&j!==(j=(N[14]!==void 0?N[14]:0)+"")&&H(D,j),re&2&&ne!==(ne=bt(+N[1])+"")&&H(Z,ne),re&4&&Ae!==(Ae=bt(+N[2])+"")&&H(Se,Ae),re&1&&H(At,N[0]),re&32&&De!==(De=bt(+N[5].arrests_total_arrests_all)+"")&&H(Ue,De),re&8&&vi!==(vi=bt(+N[3].jail_bookings_bscc)+"")&&H(Mr,vi),re&16&&gi!==(gi=bt(+N[4].prison_admissions_cdcr)+"")&&H(Cr,gi),N[9]!==-1?We?We.p(N,re):(We=js(N),We.c(),We.m(de,Ar)):We&&(We.d(1),We=null),sn===(sn=gl(N))&&Xe?Xe.p(N,re):(Xe&&Xe.d(1),Xe=sn&&sn(N),Xe&&(Xe.c(),Xe.m(de,Sr))),un===(un=yl(N))&&Je?Je.p(N,re):(Je&&Je.d(1),Je=un&&un(N),Je&&(Je.c(),Je.m(de,Er))),cn===(cn=bl(N))&&$e?$e.p(N,re):($e&&$e.d(1),$e=cn&&cn(N),$e&&($e.c(),$e.m(de,Tr))),fn===(fn=wl(N))&&Ge?Ge.p(N,re):(Ge&&Ge.d(1),Ge=fn&&fn(N),Ge&&(Ge.c(),Ge.m(de,zr))),hn===(hn=kl(N))&&Ze?Ze.p(N,re):(Ze&&Ze.d(1),Ze=hn&&hn(N),Ze&&(Ze.c(),Ze.m(de,Nr))),dn===(dn=Ml(N))&&Qe?Qe.p(N,re):(Qe&&Qe.d(1),Qe=dn&&dn(N),Qe&&(Qe.c(),Qe.m(de,jr))),pn===(pn=Cl(N))&&Ke?Ke.p(N,re):(Ke&&Ke.d(1),Ke=pn&&pn(N),Ke&&(Ke.c(),Ke.m(de,Dr))),_n===(_n=Al(N))&&xe?xe.p(N,re):(xe&&xe.d(1),xe=_n&&_n(N),xe&&(xe.c(),xe.m(de,null))),N[15]!=null&&Vt.p(N,re)},i:V,o:V,d(N){N&&A(t),We&&We.d(),Xe&&Xe.d(),Je&&Je.d(),$e&&$e.d(),Ge&&Ge.d(),Ze&&Ze.d(),Qe&&Qe.d(),Ke&&Ke.d(),xe&&xe.d(),N&&A(Pr),Vt&&Vt.d(N),N&&A(Lr)}}}function bt(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")}function Wm(e,t,n){let{countyTitle:i}=t,r=[],a=[],l,o,u=[],c=[],s=[],f,h,d,_=[],v=[],m,y,M,b,g,w;return Ee(async function(){r=(await(await fetch("https://vera-insights-data-viz.s3.amazonaws.com/california/california.json")).json()).features;const L=await ge("https://vera-ca-data.s3.us-west-1.amazonaws.com/curated_data/visualizations/california_facilities.csv");ae(r,Z=>Z.properties.NAME==i),a=ae(L,Z=>Z.county==i);let R=fi(a,Z=>Z.type),j=R.findIndex(Z=>Z[0]=="Jail");j>=0&&n(11,M=R[j][1].length);let D=R.findIndex(Z=>Z[0]=="Prison");D>=0&&n(12,b=R[D][1].length);let I=R.findIndex(Z=>Z[0]=="Juvenile");I>=0&&n(13,g=R[I][1].length);let J=R.findIndex(Z=>Z[0]=="ICE");J>=0&&n(14,w=R[J][1].length);const P=await ge("https://vera-insights-data-viz.s3.amazonaws.com/california/ca_jail_prison_budget_arrests_capacity_year.csv");n(3,u=ae(P,Z=>Z.demo_County==i&&Z.demo_Year=="2021")[0]),n(5,s=ae(P,Z=>Z.demo_County==i&&Z.demo_Year=="2020")[0]),n(4,c=ae(P,Z=>Z.demo_County==i&&Z.demo_Year=="2019")[0]),n(1,l=(+u.jail_total_bscc).toFixed(0)),n(2,o=(+c.prison_in_custody_cdcr).toFixed(0)),ae(P,Z=>Z.County==i&&Z.Year=="2020")[0];const B=await ge("https://vera-ca-data.s3.us-west-1.amazonaws.com/curated_data/visualizations/county_ranks.csv");n(8,_=B.filter(Z=>Z.demo_County==i)[0]);const $=structuredClone(_),se=[$.arrest_rate_rank,$.jail_rate_rank,$.jail_pop_rank,$.prison_adp_rate_rank,$.prison_admissions_rank,$.percap_detention_spending_rank,$.black_arrest_disparity_rank,$.latinx_arrest_disparity_rank];console.log("countyRanksCopy",$),console.log("binaryString",se),v.push($.arrest_rate_rank=="NA"?0:1),v.push($.jail_rate_rank=="NA"?0:1),v.push($.jail_pop_rank=="NA"?0:1),v.push($.prison_adp_rate_rank=="NA"?0:1),v.push($.prison_admissions_rank=="NA"?0:1),v.push($.percap_detention_spending_rank=="NA"?0:1),v.push($.black_arrest_disparity_rank=="NA"?0:1),v.push($.latinx_arrest_disparity_rank=="NA"?0:1),console.log("county ranks",_),console.log("county rank bin",v);const ne=Z=>Z==1;n(9,m=v.findLastIndex(ne)),console.log("lastOne",m),n(10,y=v.filter(Z=>Z==1).length),console.log("varRanked",y)}),e.$$set=C=>{"countyTitle"in C&&n(0,i=C.countyTitle)},[i,l,o,u,c,s,h,d,_,m,y,M,b,g,w,f]}class Xm extends oe{constructor(t){super(),le(this,t,Wm,Vm,ie,{countyTitle:0})}}function Ds(e){let t,n,i,r,a,l=+e[1].jail_pretrial_bscc+"",o,u,c=+e[1].jail_total_bscc+"",s,f,h,d,_,v,m;return{c(){t=T("p"),t.textContent=`Money bail criminalizes poverty by requiring people accused of a crime to
    pay hundreds or even thousands of dollars to be released before trial. Money
    bail does not keep us safe. Rather, it undermines justice and fairness,
    disproportionately harms Black people and poor people of all races, and
    fuels cycles of poverty.`,n=Y(),i=T("p"),r=T("span"),r.textContent="People held pretrial comprise most of the jail population.",a=z(`
    In 2021, `),o=z(l),u=z(" of the "),s=z(c),f=z(`
    people in jail were pretrial, meaning they were detained while legally innocent.`),h=Y(),d=T("div"),_=T("div"),v=z(e[3]),m=z("% pretrial"),p(r,"class","highlight svelte-z7iq5t"),p(_,"class","pretrial_percent svelte-z7iq5t"),Q(_,"width",e[3]+"%"),p(d,"id","pretrial_bar"),p(d,"class","svelte-z7iq5t")},m(y,M){S(y,t,M),S(y,n,M),S(y,i,M),k(i,r),k(i,a),k(i,o),k(i,u),k(i,s),k(i,f),S(y,h,M),S(y,d,M),k(d,_),k(_,v),k(_,m)},p(y,M){M&2&&l!==(l=+y[1].jail_pretrial_bscc+"")&&H(o,l),M&2&&c!==(c=+y[1].jail_total_bscc+"")&&H(s,c),M&8&&H(v,y[3]),M&8&&Q(_,"width",y[3]+"%")},d(y){y&&A(t),y&&A(n),y&&A(i),y&&A(h),y&&A(d)}}}function Ps(e){let t,n,i,r=e[2].jail_calculated_mh_pop_of_jail_total_percent_bscc+"",a,l,o,u,c;return u=new tf({props:{countyname:e[0]}}),{c(){t=T("p"),n=T("span"),n.textContent="People with mental health needs require care, not confinement.",i=z(`
    In 2021, `),a=z(r),l=z(`% of the jail population
    had mental health needs. Statewide, the number of people in jail with mental
    health needs has increased while the jail population has declined.`),o=Y(),_e(u.$$.fragment),p(n,"class","highlight svelte-z7iq5t")},m(s,f){S(s,t,f),k(t,n),k(t,i),k(t,a),k(t,l),S(s,o,f),fe(u,s,f),c=!0},p(s,f){(!c||f&4)&&r!==(r=s[2].jail_calculated_mh_pop_of_jail_total_percent_bscc+"")&&H(a,r);const h={};f&1&&(h.countyname=s[0]),u.$set(h)},i(s){c||(W(u.$$.fragment,s),c=!0)},o(s){G(u.$$.fragment,s),c=!1},d(s){s&&A(t),s&&A(o),he(u,s)}}}function Jm(e){let t,n,i,r=+e[1].jail_pretrial_bscc>0&&Ds(e),a=+e[2].jail_calculated_mh_pop_of_jail_total_percent_bscc>0&&Ps(e);return{c(){r&&r.c(),t=Y(),a&&a.c(),n=Ne()},m(l,o){r&&r.m(l,o),S(l,t,o),a&&a.m(l,o),S(l,n,o),i=!0},p(l,[o]){+l[1].jail_pretrial_bscc>0?r?r.p(l,o):(r=Ds(l),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null),+l[2].jail_calculated_mh_pop_of_jail_total_percent_bscc>0?a?(a.p(l,o),o&4&&W(a,1)):(a=Ps(l),a.c(),W(a,1),a.m(n.parentNode,n)):a&&(ft(),G(a,1,1,()=>{a=null}),ht())},i(l){i||(W(a),i=!0)},o(l){G(a),i=!1},d(l){r&&r.d(l),l&&A(t),a&&a.d(l),l&&A(n)}}}function $m(e,t,n){let{countyname:i}=t,r=[],a=[],l=[],o=[],u;return Ee(async function(){r=(await(await fetch("https://vera-insights-data-viz.s3.amazonaws.com/california/california.json")).json()).features;const h=await ge("https://vera-insights-data-viz.s3.amazonaws.com/california/california_facilities.csv"),d=await ge("https://vera-ca-data.s3.us-west-1.amazonaws.com/curated_data/visualizations/bscc_jail_mental_health_pop.csv");ae(r,m=>m.properties.NAME==i),a=ae(h,m=>m.county==i),n(2,o=ae(d,m=>m.demo_County==i&&m.demo_Year=="2021")[0]),qf(a,m=>$f(m,y=>+y["adp/population"]),m=>m.type),fi(a,m=>m.type)[0][1].length;const v=await ge("https://vera-ca-data.s3.us-west-1.amazonaws.com/curated_data/visualizations/jails_tab.csv");n(1,l=ae(v,m=>m.demo_County==i&&m.demo_Year=="2021")[0]),ae(v,m=>m.demo_County==i&&m.demo_Year=="2019")[0],+l.jail_pretrial_bscc>0?n(3,u=(+l.jail_pretrial_bscc/+l.jail_total_bscc*100).toFixed(1)):n(3,u=0)}),e.$$set=c=>{"countyname"in c&&n(0,i=c.countyname)},[i,l,o,u]}class Ls extends oe{constructor(t){super(),le(this,t,$m,Jm,ie,{countyname:0})}}function Gm(e){let t;return{c(){t=X("g"),p(t,"class","axis"),p(t,"transform",e[1]),p(t,"style",e[2])},m(n,i){S(n,t,i),e[9](t)},p(n,[i]){i&2&&p(t,"transform",n[1]),i&4&&p(t,"style",n[2])},i:V,o:V,d(n){n&&A(t),e[9](null)}}}function Zm(e,t,n){let{height:i}=t,{margin:r}=t,{position:a}=t,{scale:l}=t,{type:o}=t,u,c,s,f;function h(d){lt[d?"unshift":"push"](()=>{s=d,n(0,s)})}return e.$$set=d=>{"height"in d&&n(4,i=d.height),"margin"in d&&n(5,r=d.margin),"position"in d&&n(6,a=d.position),"scale"in d&&n(7,l=d.scale),"type"in d&&n(3,o=d.type)},e.$$.update=()=>{if(e.$$.dirty&505){let d;switch(a){case"bottom":d=Ta(l).tickSize(0),n(1,u=`translate(0, ${i-r.bottom})`),n(2,c="font-size: 8px"),n(8,f=4),o==="year"&&d.tickFormat(_=>Qc("%Y")(kr("%Y")(_))).tickPadding([8]);break;case"left":d=Gh(l).tickSize(0),n(1,u=`translate(${r.left*.88}, 0)`),n(2,c="font-size: 12px"),n(8,f=5),n(3,o="number")&&(d.tickFormat(_=>(_/1e3>=1&&(_=_/1e3+"K"),_)),n(2,c="font-size: 8px"))}q(s).call(d.ticks(f)).call(_=>_.select(".domain").remove())}},[s,u,c,o,i,r,a,l,f,h]}class hr extends oe{constructor(t){super(),le(this,t,Zm,Gm,ie,{height:4,margin:5,position:6,scale:7,type:3})}}function Rs(e,t,n){const i=e.slice();return i[14]=t[n],i[16]=n,i}function Fs(e){let t,n;return{c(){t=X("text"),n=z(e[7]),p(t,"x",dr+3),p(t,"y",li),p(t,"alignment-baseline","middle"),p(t,"font-size","14"),p(t,"fill",e[6])},m(i,r){S(i,t,r),k(t,n)},p(i,r){r&128&&H(n,i[7]),r&64&&p(t,"fill",i[6])},d(i){i&&A(t)}}}function Is(e){let t,n,i=e[14]+"",r,a=e[1]!==void 0?": "+e[1][e[14]].toLocaleString():"",l,o,u,c=e[14]+"",s;return{c(){t=X("g"),n=X("text"),r=z(i),l=z(a),u=X("title"),s=z(c),p(n,"x",dr+Ha+Ba),p(n,"y",o=(e[16]+1+(e[7]!==void 0?1:0))*li),p(n,"alignment-baseline","middle"),p(n,"font-size","14"),p(n,"fill",e[6]),p(n,"class","legend-labels")},m(f,h){S(f,t,h),k(t,n),k(n,r),k(n,l),k(t,u),k(u,s)},p(f,h){h&1&&i!==(i=f[14]+"")&&H(r,i),h&3&&a!==(a=f[1]!==void 0?": "+f[1][f[14]].toLocaleString():"")&&H(l,a),h&128&&o!==(o=(f[16]+1+(f[7]!==void 0?1:0))*li)&&p(n,"y",o),h&64&&p(n,"fill",f[6]),h&1&&c!==(c=f[14]+"")&&H(s,c)},d(f){f&&A(t)}}}function Qm(e){let t,n,i,r,a,l,o=e[7]!==void 0&&Fs(e),u=e[0],c=[];for(let s=0;s<u.length;s+=1)c[s]=Is(Rs(e,u,s));return{c(){t=X("svg"),n=X("rect"),o&&o.c(),r=Ne();for(let s=0;s<c.length;s+=1)c[s].c();p(n,"x","1"),p(n,"y","1"),p(n,"width",e[8]),p(n,"height",i=(e[0].length+1+(e[7]!==void 0?1:0))*li),p(n,"stroke","none"),p(n,"stroke-width","1"),p(n,"fill",e[4]),p(n,"opacity",e[5]),p(t,"x",a=e[2]-10),p(t,"y",e[3]),p(t,"width",l=e[8]+2),p(t,"height","200"),p(t,"id",e[9])},m(s,f){S(s,t,f),k(t,n),o&&o.m(t,null),k(t,r);for(let h=0;h<c.length;h+=1)c[h].m(t,null)},p(s,[f]){if(f&256&&p(n,"width",s[8]),f&129&&i!==(i=(s[0].length+1+(s[7]!==void 0?1:0))*li)&&p(n,"height",i),f&16&&p(n,"fill",s[4]),f&32&&p(n,"opacity",s[5]),s[7]!==void 0?o?o.p(s,f):(o=Fs(s),o.c(),o.m(t,r)):o&&(o.d(1),o=null),f&195){u=s[0];let h;for(h=0;h<u.length;h+=1){const d=Rs(s,u,h);c[h]?c[h].p(d,f):(c[h]=Is(d),c[h].c(),c[h].m(t,null))}for(;h<c.length;h+=1)c[h].d(1);c.length=u.length}f&4&&a!==(a=s[2]-10)&&p(t,"x",a),f&8&&p(t,"y",s[3]),f&256&&l!==(l=s[8]+2)&&p(t,"width",l)},i:V,o:V,d(s){s&&A(t),o&&o.d(),we(c,s)}}}const li=25,dr=15,Us=15,Ha=10,Ba=3;function Km(e,t,n){let{labels:i}=t,{values:r}=t,{colorScale:a}=t,{x:l}=t,{y:o}=t,{width:u=150}=t,{backgroundColor:c="white"}=t,{opacity:s=1}=t,{textColor:f="black"}=t,{title:h}=t,{adaptTexts:d=!0}=t;const _="svg-tooltip-"+Math.random()*1e4,v=u-dr-Ha-Ba-Us;let m=u;return Ee(async()=>{const y=document.getElementById(_).getElementsByClassName("legend-labels"),b=[...Array(y.length).keys()].map(g=>({id:g,width:y[g].getBoundingClientRect().width})).filter(g=>g.width>v);if(b.length!==0)if(d)b.map(g=>{const w=y[g.id].textContent,C=Math.floor(v*w.length/g.width)-3;y[g.id].textContent=w.slice(0,C).trim()+"..."});else{const g=Math.max(...b.map(w=>w.width));n(8,m=dr+Ha+Ba+g+Us)}}),e.$$set=y=>{"labels"in y&&n(0,i=y.labels),"values"in y&&n(1,r=y.values),"colorScale"in y&&n(10,a=y.colorScale),"x"in y&&n(2,l=y.x),"y"in y&&n(3,o=y.y),"width"in y&&n(11,u=y.width),"backgroundColor"in y&&n(4,c=y.backgroundColor),"opacity"in y&&n(5,s=y.opacity),"textColor"in y&&n(6,f=y.textColor),"title"in y&&n(7,h=y.title),"adaptTexts"in y&&n(12,d=y.adaptTexts)},[i,r,l,o,c,s,f,h,m,_,a,u,d]}class rf extends oe{constructor(t){super(),le(this,t,Km,Qm,ie,{labels:0,values:1,colorScale:10,x:2,y:3,width:11,backgroundColor:4,opacity:5,textColor:6,title:7,adaptTexts:12})}}function Ys(e,t,n){const i=e.slice();return i[20]=t[n],i}function qs(e,t,n){const i=e.slice();return i[23]=t[n],i[25]=n,i}function Os(e,t,n){const i=e.slice();return i[20]=t[n],i}function Hs(e){let t,n,i,r,a;return{c(){t=X("line"),p(t,"x1",n=e[7](e[0][e[25]][e[1]])),p(t,"x2",i=e[7](e[0][e[25]+1][e[1]])),p(t,"y1",r=e[8](e[0][e[25]][e[20]])),p(t,"y2",a=e[8](e[0][e[25]+1][e[20]])),p(t,"stroke","#ef1436"),p(t,"stroke-width","2"),p(t,"opacity",".9")},m(l,o){S(l,t,o)},p(l,o){o&131&&n!==(n=l[7](l[0][l[25]][l[1]]))&&p(t,"x1",n),o&131&&i!==(i=l[7](l[0][l[25]+1][l[1]]))&&p(t,"x2",i),o&261&&r!==(r=l[8](l[0][l[25]][l[20]]))&&p(t,"y1",r),o&261&&a!==(a=l[8](l[0][l[25]+1][l[20]]))&&p(t,"y2",a)},d(l){l&&A(t)}}}function Bs(e){let t,n,i,r=e[25]!=e[0].length-1&&Hs(e);return{c(){r&&r.c(),t=X("circle"),p(t,"data-index",e[25]),p(t,"cx",n=e[7](e[0][e[25]][e[1]])),p(t,"cy",i=e[8](e[0][e[25]][e[20]])),p(t,"r","3"),p(t,"fill","#ef1436"),p(t,"opacity",".9")},m(a,l){r&&r.m(a,l),S(a,t,l)},p(a,l){a[25]!=a[0].length-1?r?r.p(a,l):(r=Hs(a),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null),l&131&&n!==(n=a[7](a[0][a[25]][a[1]]))&&p(t,"cx",n),l&261&&i!==(i=a[8](a[0][a[25]][a[20]]))&&p(t,"cy",i)},d(a){r&&r.d(a),a&&A(t)}}}function Vs(e){let t,n=e[2],i=[];for(let r=0;r<n.length;r+=1)i[r]=Bs(Os(e,n,r));return{c(){for(let r=0;r<i.length;r+=1)i[r].c();t=Ne()},m(r,a){for(let l=0;l<i.length;l+=1)i[l].m(r,a);S(r,t,a)},p(r,a){if(a&391){n=r[2];let l;for(l=0;l<n.length;l+=1){const o=Os(r,n,l);i[l]?i[l].p(o,a):(i[l]=Bs(o),i[l].c(),i[l].m(t.parentNode,t))}for(;l<i.length;l+=1)i[l].d(1);i.length=n.length}},d(r){we(i,r),r&&A(t)}}}function Ws(e){let t,n,i,r,a=e[2],l=[];for(let o=0;o<a.length;o+=1)l[o]=Xs(Ys(e,a,o));return{c(){t=X("g"),n=X("line");for(let o=0;o<l.length;o+=1)l[o].c();p(n,"x1","0"),p(n,"x2","0"),p(n,"y1",e[9].top),p(n,"y2",i=e[5]-e[9].bottom-2),p(n,"stroke","black"),p(n,"stroke-width","1"),p(t,"transform",r="translate("+e[7](e[13](e[6].x))+" 0)")},m(o,u){S(o,t,u),k(t,n);for(let c=0;c<l.length;c+=1)l[c].m(t,null)},p(o,u){if(u&32&&i!==(i=o[5]-o[9].bottom-2)&&p(n,"y2",i),u&8519){a=o[2];let c;for(c=0;c<a.length;c+=1){const s=Ys(o,a,c);l[c]?l[c].p(s,u):(l[c]=Xs(s),l[c].c(),l[c].m(t,null))}for(;c<l.length;c+=1)l[c].d(1);l.length=a.length}u&192&&r!==(r="translate("+o[7](o[13](o[6].x))+" 0)")&&p(t,"transform",r)},d(o){o&&A(t),we(l,o)}}}function Xs(e){let t,n;return{c(){t=X("circle"),p(t,"cx",0),p(t,"cy",n=e[8](e[0].find(e[15])[e[20]])),p(t,"r","3"),p(t,"fill","red")},m(i,r){S(i,t,r)},p(i,r){r&327&&n!==(n=i[8](i[0].find(i[15])[i[20]]))&&p(t,"cy",n)},d(i){i&&A(t)}}}function Js(e){let t,n;return t=new rf({props:{labels:e[2],values:e[0].find(e[16]),x:e[6].x+180>e[4]?e[6].x-195:e[6].x+15,y:Math.max(0,e[6].y-(e[2].length+2)*25),backgroundColor:"#eaeaea",textColor:"#232323",title:"Year: "+e[13](e[6].x),adaptTexts:!1}}),{c(){_e(t.$$.fragment)},m(i,r){fe(t,i,r),n=!0},p(i,r){const a={};r&4&&(a.labels=i[2]),r&67&&(a.values=i[0].find(i[16])),r&80&&(a.x=i[6].x+180>i[4]?i[6].x-195:i[6].x+15),r&68&&(a.y=Math.max(0,i[6].y-(i[2].length+2)*25)),r&64&&(a.title="Year: "+i[13](i[6].x)),t.$set(a)},i(i){n||(W(t.$$.fragment,i),n=!0)},o(i){G(t.$$.fragment,i),n=!1},d(i){he(t,i)}}}function xm(e){let t,n,i,r,a,l,o,u,c,s,f,h;r=new hr({props:{height:e[5],margin:e[9],scale:e[7],position:"bottom",type:"year"}}),a=new hr({props:{height:e[5],margin:e[9],scale:e[8],position:"left",type:!0}});let d=e[0],_=[];for(let y=0;y<d.length;y+=1)_[y]=Vs(qs(e,d,y));let v=e[6].x!==null&&Ws(e),m=e[6].x!==null&&Js(e);return{c(){t=T("div"),n=X("svg"),i=X("g"),_e(r.$$.fragment),_e(a.$$.fragment),l=X("text"),o=z(e[3]);for(let y=0;y<_.length;y+=1)_[y].c();v&&v.c(),c=Ne(),m&&m.c(),p(l,"transform",u=`translate(${11},${e[5]/2}) rotate(-90)`),p(n,"width",e[4]),p(n,"height",e[5]),p(n,"id",e[10]),p(n,"class","svelte-tqlvar"),p(t,"class","lineChart")},m(y,M){S(y,t,M),k(t,n),k(n,i),fe(r,i,null),fe(a,i,null),k(i,l),k(l,o);for(let b=0;b<_.length;b+=1)_[b].m(i,null);v&&v.m(n,null),k(n,c),m&&m.m(n,null),s=!0,f||(h=[ve(n,"mousemove",e[11]),ve(n,"mouseleave",e[12])],f=!0)},p(y,[M]){const b={};M&32&&(b.height=y[5]),M&128&&(b.scale=y[7]),r.$set(b);const g={};if(M&32&&(g.height=y[5]),M&256&&(g.scale=y[8]),a.$set(g),(!s||M&8)&&H(o,y[3]),(!s||M&32&&u!==(u=`translate(${11},${y[5]/2}) rotate(-90)`))&&p(l,"transform",u),M&391){d=y[0];let w;for(w=0;w<d.length;w+=1){const C=qs(y,d,w);_[w]?_[w].p(C,M):(_[w]=Vs(C),_[w].c(),_[w].m(i,null))}for(;w<_.length;w+=1)_[w].d(1);_.length=d.length}y[6].x!==null?v?v.p(y,M):(v=Ws(y),v.c(),v.m(n,c)):v&&(v.d(1),v=null),y[6].x!==null?m?(m.p(y,M),M&64&&W(m,1)):(m=Js(y),m.c(),W(m,1),m.m(n,null)):m&&(ft(),G(m,1,1,()=>{m=null}),ht()),(!s||M&16)&&p(n,"width",y[4]),(!s||M&32)&&p(n,"height",y[5])},i(y){s||(W(r.$$.fragment,y),W(a.$$.fragment,y),W(m),s=!0)},o(y){G(r.$$.fragment,y),G(a.$$.fragment,y),G(m),s=!1},d(y){y&&A(t),he(r),he(a),we(_,y),v&&v.d(),m&&m.d(),f=!1,Re(h)}}}function eg(e,t,n){let i,r,{data:a}=t,{xVar:l}=t,{yVars:o}=t,{xLabel:u}=t,{yLabel:c}=t,{width:s}=t,{height:f}=t;const h={top:20,bottom:20,left:50,right:10};f-h.top-h.bottom,s-h.left-h.right,kr("%Y"),a.forEach(g=>{g[l]=+g[l]});const d="svg-container-"+Math.random()*1e6;let _={x:null,y:null};function v(g){const w=document.getElementById(d);if(w===null)return;const C=w.getBoundingClientRect(),E={x:g.clientX-C.left,y:g.clientY-C.top};n(6,_=E.x>h.left&&E.x<s-h.right&&E.y>h.top&&E.y<s-h.bottom?{x:E.x,y:E.y}:{x:null,y:null})}function m(){n(6,_={x:null,y:null})}function y(g){return a.filter(w=>i(w[l])>=g)[0][l]}const M=g=>g[l]===y(_.x),b=g=>g[l]===y(_.x);return e.$$set=g=>{"data"in g&&n(0,a=g.data),"xVar"in g&&n(1,l=g.xVar),"yVars"in g&&n(2,o=g.yVars),"xLabel"in g&&n(14,u=g.xLabel),"yLabel"in g&&n(3,c=g.yLabel),"width"in g&&n(4,s=g.width),"height"in g&&n(5,f=g.height)},e.$$.update=()=>{e.$$.dirty&16&&n(7,i=Lt().domain([2015,2019]).range([h.left,s-h.right])),e.$$.dirty&37&&n(8,r=Lt().domain([0,Math.max(...a.map(g=>Math.max(...o.map(w=>g[w]))))]).range([f-h.bottom,h.top]))},[a,l,o,c,s,f,_,i,r,h,d,v,m,y,u,M,b]}class tg extends oe{constructor(t){super(),le(this,t,eg,xm,ie,{data:0,xVar:1,yVars:2,xLabel:14,yLabel:3,width:4,height:5})}}function $s(e,t,n){const i=e.slice();return i[20]=t[n],i}function Gs(e,t,n){const i=e.slice();return i[23]=t[n],i[25]=n,i}function Zs(e){let t,n,i,r,a;return{c(){t=X("line"),p(t,"x1",n=e[7](e[0][e[25]][e[1]])),p(t,"x2",i=e[7](e[0][e[25]+1][e[1]])),p(t,"y1",r=e[8](e[0][e[25]][e[2][0]])),p(t,"y2",a=e[8](e[0][e[25]+1][e[2][0]])),p(t,"stroke",e[10][0]),p(t,"stroke-width","2"),p(t,"opacity",".9")},m(l,o){S(l,t,o)},p(l,o){o&131&&n!==(n=l[7](l[0][l[25]][l[1]]))&&p(t,"x1",n),o&131&&i!==(i=l[7](l[0][l[25]+1][l[1]]))&&p(t,"x2",i),o&261&&r!==(r=l[8](l[0][l[25]][l[2][0]]))&&p(t,"y1",r),o&261&&a!==(a=l[8](l[0][l[25]+1][l[2][0]]))&&p(t,"y2",a)},d(l){l&&A(t)}}}function Qs(e){let t,n,i,r,a;return{c(){t=X("line"),p(t,"x1",n=e[7](e[0][e[25]][e[1]])),p(t,"x2",i=e[7](e[0][e[25]+1][e[1]])),p(t,"y1",r=e[8](e[0][e[25]][e[2][1]])),p(t,"y2",a=e[8](e[0][e[25]+1][e[2][1]])),p(t,"stroke",e[10][1]),p(t,"stroke-width","2"),p(t,"opacity",".9")},m(l,o){S(l,t,o)},p(l,o){o&131&&n!==(n=l[7](l[0][l[25]][l[1]]))&&p(t,"x1",n),o&131&&i!==(i=l[7](l[0][l[25]+1][l[1]]))&&p(t,"x2",i),o&261&&r!==(r=l[8](l[0][l[25]][l[2][1]]))&&p(t,"y1",r),o&261&&a!==(a=l[8](l[0][l[25]+1][l[2][1]]))&&p(t,"y2",a)},d(l){l&&A(t)}}}function Ks(e){let t,n,i,r,a;return{c(){t=X("line"),p(t,"x1",n=e[7](e[0][e[25]][e[1]])),p(t,"x2",i=e[7](e[0][e[25]+1][e[1]])),p(t,"y1",r=e[8](e[0][e[25]][e[2][2]])),p(t,"y2",a=e[8](e[0][e[25]+1][e[2][2]])),p(t,"stroke",e[10][2]),p(t,"stroke-width","2"),p(t,"opacity",".9")},m(l,o){S(l,t,o)},p(l,o){o&131&&n!==(n=l[7](l[0][l[25]][l[1]]))&&p(t,"x1",n),o&131&&i!==(i=l[7](l[0][l[25]+1][l[1]]))&&p(t,"x2",i),o&261&&r!==(r=l[8](l[0][l[25]][l[2][2]]))&&p(t,"y1",r),o&261&&a!==(a=l[8](l[0][l[25]+1][l[2][2]]))&&p(t,"y2",a)},d(l){l&&A(t)}}}function xs(e){let t,n,i,r,a,l,o,u,c,s=e[25]!=e[0].length-1&&Zs(e),f=e[25]!=e[0].length-1&&Qs(e),h=e[25]!=e[0].length-1&&Ks(e);return{c(){s&&s.c(),t=X("circle"),f&&f.c(),r=X("circle"),h&&h.c(),o=X("circle"),p(t,"data-index",e[25]),p(t,"cx",n=e[7](e[0][e[25]][e[1]])),p(t,"cy",i=e[8](e[0][e[25]][e[2][0]])),p(t,"r","3"),p(t,"fill",e[10][0]),p(t,"opacity",".9"),p(r,"data-index",e[25]),p(r,"cx",a=e[7](e[0][e[25]][e[1]])),p(r,"cy",l=e[8](e[0][e[25]][e[2][1]])),p(r,"r","3"),p(r,"fill",e[10][1]),p(r,"opacity",".9"),p(o,"data-index",e[25]),p(o,"cx",u=e[7](e[0][e[25]][e[1]])),p(o,"cy",c=e[8](e[0][e[25]][e[2][2]])),p(o,"r","3"),p(o,"fill",e[10][2]),p(o,"opacity",".9")},m(d,_){s&&s.m(d,_),S(d,t,_),f&&f.m(d,_),S(d,r,_),h&&h.m(d,_),S(d,o,_)},p(d,_){d[25]!=d[0].length-1?s?s.p(d,_):(s=Zs(d),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null),_&131&&n!==(n=d[7](d[0][d[25]][d[1]]))&&p(t,"cx",n),_&261&&i!==(i=d[8](d[0][d[25]][d[2][0]]))&&p(t,"cy",i),d[25]!=d[0].length-1?f?f.p(d,_):(f=Qs(d),f.c(),f.m(r.parentNode,r)):f&&(f.d(1),f=null),_&131&&a!==(a=d[7](d[0][d[25]][d[1]]))&&p(r,"cx",a),_&261&&l!==(l=d[8](d[0][d[25]][d[2][1]]))&&p(r,"cy",l),d[25]!=d[0].length-1?h?h.p(d,_):(h=Ks(d),h.c(),h.m(o.parentNode,o)):h&&(h.d(1),h=null),_&131&&u!==(u=d[7](d[0][d[25]][d[1]]))&&p(o,"cx",u),_&261&&c!==(c=d[8](d[0][d[25]][d[2][2]]))&&p(o,"cy",c)},d(d){s&&s.d(d),d&&A(t),f&&f.d(d),d&&A(r),h&&h.d(d),d&&A(o)}}}function eu(e){let t,n,i,r,a=e[2],l=[];for(let o=0;o<a.length;o+=1)l[o]=tu($s(e,a,o));return{c(){t=X("g"),n=X("line");for(let o=0;o<l.length;o+=1)l[o].c();p(n,"x1","0"),p(n,"x2","0"),p(n,"y1",e[9].top),p(n,"y2",i=e[5]-e[9].bottom-2),p(n,"stroke","black"),p(n,"stroke-width","1"),p(t,"transform",r="translate("+e[7](e[14](e[6].x))+" 0)")},m(o,u){S(o,t,u),k(t,n);for(let c=0;c<l.length;c+=1)l[c].m(t,null)},p(o,u){if(u&32&&i!==(i=o[5]-o[9].bottom-2)&&p(n,"y2",i),u&16711){a=o[2];let c;for(c=0;c<a.length;c+=1){const s=$s(o,a,c);l[c]?l[c].p(s,u):(l[c]=tu(s),l[c].c(),l[c].m(t,null))}for(;c<l.length;c+=1)l[c].d(1);l.length=a.length}u&192&&r!==(r="translate("+o[7](o[14](o[6].x))+" 0)")&&p(t,"transform",r)},d(o){o&&A(t),we(l,o)}}}function tu(e){let t,n;return{c(){t=X("circle"),p(t,"cx",0),p(t,"cy",n=e[8](e[0].find(e[15])[e[20]])),p(t,"r","3"),p(t,"fill","red")},m(i,r){S(i,t,r)},p(i,r){r&327&&n!==(n=i[8](i[0].find(i[15])[i[20]]))&&p(t,"cy",n)},d(i){i&&A(t)}}}function nu(e){let t,n;return t=new rf({props:{labels:e[2],values:e[0].find(e[16]),x:e[6].x+180>e[4]?e[6].x-195:e[6].x+15,y:Math.max(0,e[6].y-(e[2].length+2)*25),backgroundColor:"#eaeaea",textColor:"#232323",title:"Year: "+e[14](e[6].x),adaptTexts:!1}}),{c(){_e(t.$$.fragment)},m(i,r){fe(t,i,r),n=!0},p(i,r){const a={};r&4&&(a.labels=i[2]),r&67&&(a.values=i[0].find(i[16])),r&80&&(a.x=i[6].x+180>i[4]?i[6].x-195:i[6].x+15),r&68&&(a.y=Math.max(0,i[6].y-(i[2].length+2)*25)),r&64&&(a.title="Year: "+i[14](i[6].x)),t.$set(a)},i(i){n||(W(t.$$.fragment,i),n=!0)},o(i){G(t.$$.fragment,i),n=!1},d(i){he(t,i)}}}function ng(e){let t,n,i,r,a,l,o,u,c,s,f,h;r=new hr({props:{height:e[5],margin:e[9],scale:e[7],position:"bottom",type:"year"}}),a=new hr({props:{height:e[5],margin:e[9],scale:e[8],position:"left",type:!0}});let d=e[0],_=[];for(let y=0;y<d.length;y+=1)_[y]=xs(Gs(e,d,y));let v=e[6].x!==null&&eu(e),m=e[6].x!==null&&nu(e);return{c(){t=T("div"),n=X("svg"),i=X("g"),_e(r.$$.fragment),_e(a.$$.fragment),l=X("text"),o=z(e[3]);for(let y=0;y<_.length;y+=1)_[y].c();v&&v.c(),c=Ne(),m&&m.c(),p(l,"transform",u=`translate(${11},${e[5]/1.25}) rotate(-90)`),p(n,"width",e[4]),p(n,"height",e[5]),p(n,"id",e[11]),p(t,"class","MultiLineChart")},m(y,M){S(y,t,M),k(t,n),k(n,i),fe(r,i,null),fe(a,i,null),k(i,l),k(l,o);for(let b=0;b<_.length;b+=1)_[b].m(i,null);v&&v.m(n,null),k(n,c),m&&m.m(n,null),s=!0,f||(h=[ve(n,"mousemove",e[12]),ve(n,"mouseleave",e[13])],f=!0)},p(y,[M]){const b={};M&32&&(b.height=y[5]),M&128&&(b.scale=y[7]),r.$set(b);const g={};if(M&32&&(g.height=y[5]),M&256&&(g.scale=y[8]),a.$set(g),(!s||M&8)&&H(o,y[3]),(!s||M&32&&u!==(u=`translate(${11},${y[5]/1.25}) rotate(-90)`))&&p(l,"transform",u),M&1415){d=y[0];let w;for(w=0;w<d.length;w+=1){const C=Gs(y,d,w);_[w]?_[w].p(C,M):(_[w]=xs(C),_[w].c(),_[w].m(i,null))}for(;w<_.length;w+=1)_[w].d(1);_.length=d.length}y[6].x!==null?v?v.p(y,M):(v=eu(y),v.c(),v.m(n,c)):v&&(v.d(1),v=null),y[6].x!==null?m?(m.p(y,M),M&64&&W(m,1)):(m=nu(y),m.c(),W(m,1),m.m(n,null)):m&&(ft(),G(m,1,1,()=>{m=null}),ht()),(!s||M&16)&&p(n,"width",y[4]),(!s||M&32)&&p(n,"height",y[5])},i(y){s||(W(r.$$.fragment,y),W(a.$$.fragment,y),W(m),s=!0)},o(y){G(r.$$.fragment,y),G(a.$$.fragment,y),G(m),s=!1},d(y){y&&A(t),he(r),he(a),we(_,y),v&&v.d(),m&&m.d(),f=!1,Re(h)}}}function ig(e,t,n){let i,r,{data:a}=t,{xVar:l}=t,{yVars:o}=t,{yLabel:u}=t,{width:c}=t,{height:s}=t;const f={top:20,bottom:20,left:50,right:10};s-f.top-f.bottom,c-f.left-f.right,kr("%Y");const h=["#ef1436","#FF928B","#FFAC81"];a.forEach(g=>{g[l]=+g[l],o.forEach(w=>g[o[w]]=+g[o[w]])});const d="svg-container-"+Math.random()*1e6;let _={x:null,y:null};function v(g){const w=document.getElementById(d);if(w===null)return;const C=w.getBoundingClientRect(),E={x:g.clientX-C.left,y:g.clientY-C.top};n(6,_=E.x>f.left&&E.x<c-f.right&&E.y>f.top&&E.y<c-f.bottom?{x:E.x,y:E.y}:{x:null,y:null})}function m(){n(6,_={x:null,y:null})}function y(g){return a.filter(w=>i(w[l])>=g)[0][l]}const M=g=>g[l]===y(_.x),b=g=>g[l]===y(_.x);return e.$$set=g=>{"data"in g&&n(0,a=g.data),"xVar"in g&&n(1,l=g.xVar),"yVars"in g&&n(2,o=g.yVars),"yLabel"in g&&n(3,u=g.yLabel),"width"in g&&n(4,c=g.width),"height"in g&&n(5,s=g.height)},e.$$.update=()=>{e.$$.dirty&19&&n(7,i=Lt().domain([Math.min(...a.map(g=>g[l])),Math.max(...a.map(g=>g[l]))]).range([f.left,c-f.right])),e.$$.dirty&37&&n(8,r=Lt().domain([0,Math.max(...a.map(g=>Math.max(...o.map(w=>g[w]))))]).range([s-f.top,f.bottom]))},[a,l,o,u,c,s,_,i,r,f,h,d,v,m,y,M,b]}class rg extends oe{constructor(t){super(),le(this,t,ig,ng,ie,{data:0,xVar:1,yVars:2,yLabel:3,width:4,height:5})}}function ag(e){let t,n,i,r,a,l,o,u,c,s,f,h,d,_,v,m,y;return f=new tg({props:{data:e[1],xVar:"demo_Year",yVars:["prison_in_custody_cdcr"],yLabel:"Prison Population",xLabel:"Year",width:695,height:350}}),m=new rg({props:{data:e[2],xVar:"demo_Year",yVars:["prison_admissions_cdcr","prison_release_parole_cdcr","prison_release_prcs_cdcr"],yLabel:"Prison Admissions and Releases",width:695,height:350}}),{c(){t=T("p"),t.textContent=`Decisions by local police departments, prosecutors, and judges drive how
    many people are sentenced to prison. County prosecutors, for example, can
    choose to prosecute crimes more harshly and push for prison time instead of
    community-based treatment options that keep people with their families and
    ensure they maintain or develop a stable community where they live.`,n=Y(),i=T("p"),r=T("span"),a=z("The number of people in prison from "),l=z(e[0]),o=z(` County has recently declined,
        but this progress will stagnate without continued reform.
    `),u=z(`\u201CFront end\u201D reforms to reduce the number of people sent to prison and
    \u201Cback end\u201D reforms, such as changing parole practices, will reduce the
    prison population further.`),c=Y(),s=T("section"),_e(f.$$.fragment),h=Y(),d=T("p"),d.innerHTML=`<span class="highlight svelte-1pbtt3h">The number of people in prison is driven by admissions and releases.
    </span>The prison population declines when the number of people released
    from prison exceeds the number of people sent to prison.`,_=Y(),v=T("section"),_e(m.$$.fragment),p(r,"class","highlight svelte-1pbtt3h")},m(M,b){S(M,t,b),S(M,n,b),S(M,i,b),k(i,r),k(r,a),k(r,l),k(r,o),k(i,u),S(M,c,b),S(M,s,b),fe(f,s,null),S(M,h,b),S(M,d,b),S(M,_,b),S(M,v,b),fe(m,v,null),y=!0},p(M,[b]){(!y||b&1)&&H(l,M[0]);const g={};b&2&&(g.data=M[1]),f.$set(g);const w={};b&4&&(w.data=M[2]),m.$set(w)},i(M){y||(W(f.$$.fragment,M),W(m.$$.fragment,M),y=!0)},o(M){G(f.$$.fragment,M),G(m.$$.fragment,M),y=!1},d(M){M&&A(t),M&&A(n),M&&A(i),M&&A(c),M&&A(s),he(f),M&&A(h),M&&A(d),M&&A(_),M&&A(v),he(m)}}}function lg(e,t,n){let{countyname:i}=t,r=[],a=[];return Ee(async()=>{const l=await ge("https://vera-ca-data.s3.us-west-1.amazonaws.com/curated_data/visualizations/prisons_tab.csv"),o=ae(l,s=>s.demo_County==i);n(1,r=ae(o,s=>s.demo_Year=="2015"||s.demo_Year=="2016"||s.demo_Year=="2017"||s.demo_Year=="2018"||s.demo_Year=="2019"));const u=await ge("https://vera-ca-data.s3.us-west-1.amazonaws.com/curated_data/visualizations/cdcr_population_admission_release_parole_prcs_parolee_pop.csv"),c=ae(u,s=>s.demo_County==i);n(2,a=ae(c,s=>s.demo_Year=="2015"||s.demo_Year=="2016"||s.demo_Year=="2017"||s.demo_Year=="2018"||s.demo_Year=="2019"))}),e.$$set=l=>{"countyname"in l&&n(0,i=l.countyname)},[i,r,a]}class zi extends oe{constructor(t){super(),le(this,t,lg,ag,ie,{countyname:0})}}function og(e){let t,n,i;return{c(){t=T("div"),t.innerHTML=`<div class="col svelte-1tbzw5r"><div class="tabs svelte-1tbzw5r"><div class="tab svelte-1tbzw5r"><input type="checkbox" id="chck1" class="svelte-1tbzw5r"/> 
                <label class="tab-label protection svelte-1tbzw5r" for="chck1"><div class="barwrap svelte-1tbzw5r"><div class="name svelte-1tbzw5r">Public Protection</div> 
                        <div class="barcontainer svelte-1tbzw5r"><div class="bar publicprotection svelte-1tbzw5r"></div></div></div></label> 
                <div class="tab-content nested svelte-1tbzw5r"><div class="tab svelte-1tbzw5r"><input type="checkbox" id="chck3" class="svelte-1tbzw5r"/> 
                        <label class="tab-label svelte-1tbzw5r" for="chck3"><div class="barwrap svelte-1tbzw5r"><div class="name nest1 svelte-1tbzw5r">Detention</div> 
                                <div class="barcontainer svelte-1tbzw5r"><div class="bar detention svelte-1tbzw5r"></div></div></div></label> 

                        <div class="tab-content svelte-1tbzw5r"><div class="barwrap svelte-1tbzw5r"><div class="name nest2 svelte-1tbzw5r">Adult Detention</div> 
                                <div class="barcontainer svelte-1tbzw5r"><div class="bar adultdetention svelte-1tbzw5r"></div></div></div></div> 
                        <div class="tab-content svelte-1tbzw5r"><div class="barwrap svelte-1tbzw5r"><div class="name nest2 svelte-1tbzw5r">Juvenile Detention</div> 
                                <div class="barcontainer svelte-1tbzw5r"><div class="bar juveniledetention svelte-1tbzw5r"></div></div></div></div> 
                        <div class="tab-content svelte-1tbzw5r"><div class="barwrap svelte-1tbzw5r"><div class="name nest2 svelte-1tbzw5r">Probation</div> 
                                <div class="barcontainer svelte-1tbzw5r"><div class="bar probation svelte-1tbzw5r"></div></div></div></div> 
                        <div class="tab-content svelte-1tbzw5r"><div class="barwrap svelte-1tbzw5r"><div class="name nest2 svelte-1tbzw5r">Other</div> 
                                <div class="barcontainer svelte-1tbzw5r"><div class="bar detentionother svelte-1tbzw5r"></div></div></div></div></div> 
                    <div class="tab svelte-1tbzw5r"><input type="checkbox" id="chck4" class="svelte-1tbzw5r"/> 
                        <label class="tab-label svelte-1tbzw5r" for="chck4"><div class="barwrap svelte-1tbzw5r"><div class="name nest1 svelte-1tbzw5r">Judicial</div> 
                                <div class="barcontainer svelte-1tbzw5r"><div class="bar judicial svelte-1tbzw5r"></div></div></div></label> 
                        <div class="tab-content svelte-1tbzw5r"><div class="barwrap svelte-1tbzw5r"><div class="name nest2 svelte-1tbzw5r">Public Defender</div> 
                                <div class="barcontainer svelte-1tbzw5r"><div class="bar publicdefender svelte-1tbzw5r"></div></div></div></div> 
                        <div class="tab-content svelte-1tbzw5r"><div class="barwrap svelte-1tbzw5r"><div class="name nest2 svelte-1tbzw5r">District Attorney</div> 
                                <div class="barcontainer svelte-1tbzw5r"><div class="bar districtattorney svelte-1tbzw5r"></div></div></div></div> 
                        <div class="tab-content svelte-1tbzw5r"><div class="barwrap svelte-1tbzw5r"><div class="name nest2 svelte-1tbzw5r">other</div> 
                                <div class="barcontainer svelte-1tbzw5r"><div class="bar judicialother svelte-1tbzw5r"></div></div></div></div></div></div> 
                <div class="tab-content svelte-1tbzw5r"><div class="barwrap svelte-1tbzw5r"><div class="name nest1 svelte-1tbzw5r">Other</div> 
                        <div class="barcontainer svelte-1tbzw5r"><div class="bar publicprotectionother svelte-1tbzw5r"></div></div></div></div> 
                <div class="tab-content svelte-1tbzw5r"><div class="barwrap svelte-1tbzw5r"><div class="name nest1 svelte-1tbzw5r">Police Protection</div> 
                        <div class="barcontainer svelte-1tbzw5r"><div class="bar policeprotection svelte-1tbzw5r"></div></div></div></div></div> 
            <div class="tab svelte-1tbzw5r"><input type="checkbox" id="chck2" class="svelte-1tbzw5r"/> 
                <label class="tab-label svelte-1tbzw5r" for="chck2"><div class="barwrap svelte-1tbzw5r"><div class="name svelte-1tbzw5r">Health</div> 
                        <div class="barcontainer svelte-1tbzw5r"><div class="bar health svelte-1tbzw5r"></div></div></div></label> 
                <div class="tab-content svelte-1tbzw5r"><div class="barwrap svelte-1tbzw5r"><div class="name nest1 svelte-1tbzw5r">Mental Health</div> 
                        <div class="barcontainer svelte-1tbzw5r"><div class="bar mentalhealth svelte-1tbzw5r"></div></div></div></div> 
                <div class="tab-content svelte-1tbzw5r"><div class="barwrap svelte-1tbzw5r"><div class="name nest1 svelte-1tbzw5r">Medical Care</div> 
                        <div class="barcontainer svelte-1tbzw5r"><div class="bar medicalcare svelte-1tbzw5r"></div></div></div></div> 
                <div class="tab-content svelte-1tbzw5r"><div class="barwrap svelte-1tbzw5r"><div class="name nest1 svelte-1tbzw5r">Drug and Alcohol Abuse Services</div> 
                        <div class="barcontainer svelte-1tbzw5r"><div class="bar drugalcohol svelte-1tbzw5r"></div></div></div></div> 
                <div class="tab-content svelte-1tbzw5r"><div class="barwrap svelte-1tbzw5r"><div class="name nest1 svelte-1tbzw5r">Public Health</div> 
                        <div class="barcontainer svelte-1tbzw5r"><div class="bar publichealth svelte-1tbzw5r"></div></div></div></div> 
                <div class="tab-content svelte-1tbzw5r"><div class="barwrap svelte-1tbzw5r"><div class="name nest1 svelte-1tbzw5r">Other</div> 
                        <div class="barcontainer svelte-1tbzw5r"><div class="bar healthother svelte-1tbzw5r"></div></div></div></div></div> 
            <div class="tab static svelte-1tbzw5r"><div class="barwrap svelte-1tbzw5r"><div class="name svelte-1tbzw5r">Public Assistance</div> 
                    <div class="barcontainer svelte-1tbzw5r"><div class="bar publicassistance svelte-1tbzw5r"></div></div></div></div> 
            <div class="tab static svelte-1tbzw5r"><div class="barwrap svelte-1tbzw5r"><div class="name svelte-1tbzw5r">General Government</div> 
                    <div class="barcontainer svelte-1tbzw5r"><div class="bar generalgovernment svelte-1tbzw5r"></div></div></div></div> 
            <div class="tab static svelte-1tbzw5r"><div class="barwrap svelte-1tbzw5r"><div class="name svelte-1tbzw5r">Debt Service and Capital Outlay</div> 
                    <div class="barcontainer svelte-1tbzw5r"><div class="bar debtservice svelte-1tbzw5r"></div></div></div></div> 
            <div class="tab static svelte-1tbzw5r"><div class="barwrap svelte-1tbzw5r"><div class="name svelte-1tbzw5r">Public Ways and Facilities</div> 
                    <div class="barcontainer svelte-1tbzw5r"><div class="bar publicways svelte-1tbzw5r"></div></div></div></div> 
            <div class="tab static svelte-1tbzw5r"><div class="barwrap svelte-1tbzw5r"><div class="name svelte-1tbzw5r">Education and Recreation and Cultural Services</div> 
                    <div class="barcontainer svelte-1tbzw5r"><div class="bar edurecculture svelte-1tbzw5r"></div></div></div></div></div></div>`,n=Y(),i=T("div"),p(t,"class","row svelte-1tbzw5r"),p(i,"class","tooltip svelte-1tbzw5r")},m(r,a){S(r,t,a),S(r,n,a),S(r,i,a),e[2](i)},p:V,i:V,o:V,d(r){r&&A(t),r&&A(n),r&&A(i),e[2](null)}}}const ke=100;function sg(e,t,n){let{countyname:i}=t,r=[],a=q("body").append("div").attr("class","tooltip");Ee(async()=>{const o=await ge("https://vera-ca-data.s3.us-west-1.amazonaws.com/curated_data/visualizations/budget_data_for_vis.csv");r=ae(o,B=>B.county===i&&B.year==="2020");let u=+r[0]["budget.public_protection"]/+r[0].budget*ke,c=+r[0]["budget.public_protection.dention_and_correction"]/+r[0].budget*ke,s=+r[0]["budget.public_protection.dention_and_correction.adult_detention"]/+r[0].budget*ke,f=+r[0]["budget.public_protection.dention_and_correction.juvenile_detention"]/+r[0].budget*ke,h=+r[0]["budget.public_protection.dention_and_correction.probation"]/+r[0].budget*ke,d=+r[0]["budget.public_protection.dention_and_correction.other"]/+r[0].budget*ke,_=+r[0]["budget.public_protection.judicial"]/+r[0].budget*ke,v=+r[0]["budget.public_protection.judicial.district_attorney"]/+r[0].budget*ke,m=+r[0]["budget.public_protection.judicial.public_defender"]/+r[0].budget*ke,y=+r[0]["budget.public_protection.judicial.other"]/+r[0].budget*ke,M=+r[0]["budget.public_protection.other"]/+r[0].budget*ke,b=+r[0]["budget.public_protection.police_protection"]/+r[0].budget*ke,g=+r[0]["budget.health"]/+r[0].budget*ke,w=+r[0]["budget.health.mental_health"]/+r[0].budget*ke,C=+r[0]["budget.health.public_health"]/+r[0].budget*ke,E=+r[0]["budget.health.medical_care"]/+r[0].budget*ke,U=+r[0]["budget.health.other"]/+r[0].budget*ke,L=+r[0]["budget.health.drug_and_alcohol_abuse_services"]/+r[0].budget*ke,R=+r[0]["budget.public_assistance"]/+r[0].budget*ke,j=+r[0]["budget.general_government"]/+r[0].budget*ke,D=+r[0]["budget.debt_service_and_capital_outlay"]/+r[0].budget*ke,I=+r[0]["budget.public_ways_and_facilities"]/+r[0].budget*ke,J=+r[0]["budget.sanitation"]/+r[0].budget*ke,P=+r[0]["budget.education_and_recreation_and_cultural_services"]/+r[0].budget*ke;q(".publicprotection").style("width",u+"%"),q(".detention").style("width",c+"%"),q(".adultdetention").style("width",s+"%"),q(".juveniledetention").style("width",f+"%"),q(".probation").style("width",h+"%"),q(".detentionother").style("width",d+"%"),q(".judicial").style("width",_+"%"),q(".districtattorney").style("width",v+"%"),q(".publicdefender").style("width",m+"%"),q(".judicialother").style("width",y+"%"),q(".publicprotectionother").style("width",M+"%"),q(".policeprotection").style("width",b+"%"),q(".health").style("width",g+"%"),q(".mentalhealth").style("width",w+"%"),q(".publichealth").style("width",C+"%"),q(".medicalcare").style("width",E+"%"),q(".healthother").style("width",U+"%"),q(".drugalcohol").style("width",L+"%"),q(".publicassistance").style("width",R+"%"),q(".generalgovernment").style("width",j+"%"),q(".debtservice").style("width",D+"%"),q(".publicways").style("width",I+"%"),q(".sanitation").style("width",J+"%"),q(".edurecculture").style("width",P+"%")});function l(o){lt[o?"unshift":"push"](()=>{a=o,n(0,a)})}return e.$$set=o=>{"countyname"in o&&n(1,i=o.countyname)},[a,i,l]}class ug extends oe{constructor(t){super(),le(this,t,sg,og,ie,{countyname:1})}}function iu(e,t,n){const i=e.slice();return i[16]=t[n],i[18]=n,i}function ru(e){let t,n,i,r,a,l,o;return{c(){t=T("div"),n=T("div"),i=Y(),r=T("div"),a=Y(),l=T("div"),o=Y(),p(n,"class","detetion svelte-xy38i2"),Q(n,"width",e[16].detetion.toFixed(1)+"px"),p(r,"class","judical svelte-xy38i2"),Q(r,"width",e[16].judical.toFixed(1)+"px"),p(l,"class","protection svelte-xy38i2"),Q(l,"width",e[16].protection.toFixed(1)+"px"),p(t,"class","bar svelte-xy38i2")},m(u,c){S(u,t,c),k(t,n),k(t,i),k(t,r),k(t,a),k(t,l),k(t,o)},p(u,c){c&1&&Q(n,"width",u[16].detetion.toFixed(1)+"px"),c&1&&Q(r,"width",u[16].judical.toFixed(1)+"px"),c&1&&Q(l,"width",u[16].protection.toFixed(1)+"px")},d(u){u&&A(t)}}}function cg(e){let t,n,i,r,a,l,o,u,c=e[0],s=[];for(let f=0;f<c.length;f+=1)s[f]=ru(iu(e,c,f));return{c(){t=T("div"),n=Y(),i=T("div"),r=T("div"),r.innerHTML=`<div class="svelte-xy38i2">2017</div> 
        <div class="svelte-xy38i2">2018</div> 
        <div class="svelte-xy38i2">2019</div> 
        <div class="svelte-xy38i2">2020</div>`,a=Y(),l=T("div");for(let f=0;f<s.length;f+=1)s[f].c();o=Y(),u=T("div"),u.innerHTML=`<div class="litem svelte-xy38i2"><div class="block one svelte-xy38i2"></div> 
        <div class="name">Detention and Correction</div></div> 
    <div class="litem svelte-xy38i2"><div class="block two svelte-xy38i2"></div> 
        <div class="name">Judicial</div></div> 
    <div class="litem svelte-xy38i2"><div class="block three svelte-xy38i2"></div> 
        <div class="name">Police Protection</div></div>`,p(t,"class","tooltip"),p(r,"class","year svelte-xy38i2"),p(l,"class","bar-container"),p(i,"class","bars svelte-xy38i2"),p(u,"id","legend"),p(u,"class","svelte-xy38i2")},m(f,h){S(f,t,h),e[3](t),S(f,n,h),S(f,i,h),k(i,r),k(i,a),k(i,l);for(let d=0;d<s.length;d+=1)s[d].m(l,null);S(f,o,h),S(f,u,h)},p(f,[h]){if(h&1){c=f[0];let d;for(d=0;d<c.length;d+=1){const _=iu(f,c,d);s[d]?s[d].p(_,h):(s[d]=ru(_),s[d].c(),s[d].m(l,null))}for(;d<s.length;d+=1)s[d].d(1);s.length=c.length}},i:V,o:V,d(f){f&&A(t),e[3](null),f&&A(n),f&&A(i),we(s,f),f&&A(o),f&&A(u)}}}function fg(e,t,n){let{countyname:i}=t,r=[],a=[],l=[],o=[],u,c,s,f,h,d,_,v,m=[],y;Ee(async()=>{const b=await ge("https://vera-ca-data.s3.us-west-1.amazonaws.com/curated_data/visualizations/budget_data_for_vis.csv");r=ae(b,w=>w.county===i&&w.year==="2020")[0],a=ae(b,w=>w.county===i&&w.year==="2019")[0],l=ae(b,w=>w.county===i&&w.year==="2018")[0],o=ae(b,w=>w.county===i&&w.year==="2017")[0],v=g(o),_=g(l),d=g(a),h=g(r),n(0,m=[h,d,_,v]);function g(w){return u=+w["budget.public_protection.dention_and_correction"],c=+w["budget.public_protection.judicial"],s=+w["budget.public_protection.police_protection"],f=u+c+s,{detetion:u/f*400,judical:c/f*400,protection:s/f*400}}});function M(b){lt[b?"unshift":"push"](()=>{y=b,n(1,y)})}return e.$$set=b=>{"countyname"in b&&n(2,i=b.countyname)},[m,y,i,M]}class hg extends oe{constructor(t){super(),le(this,t,fg,cg,ie,{countyname:2})}}function au(e){let t,n,i,r,a;return r=new ug({props:{countyname:e[0]}}),{c(){t=T("p"),t.innerHTML=`<span class="highlight svelte-g9pxn6">The criminal legal system consumes a large portion of the county
        budget.</span>
    Sheriff and jail budgets are among the largest spending areas and deplete resources
    that could fund other programs and services that promote safety and stability.
    Note to add caveat on city police spending.`,n=Y(),i=T("section"),_e(r.$$.fragment)},m(l,o){S(l,t,o),S(l,n,o),S(l,i,o),fe(r,i,null),a=!0},p(l,o){const u={};o&1&&(u.countyname=l[0]),r.$set(u)},i(l){a||(W(r.$$.fragment,l),a=!0)},o(l){G(r.$$.fragment,l),a=!1},d(l){l&&A(t),l&&A(n),l&&A(i),he(r)}}}function lu(e){let t,n,i,r,a,l=+e[1].criminal_legal_budget_2020+"",o,u,c=+e[1].percent_criminal_legal_of_total_budget+"",s,f,h,d,_,v;return _=new hg({props:{countyname:e[0]}}),{c(){t=T("p"),n=T("span"),n.textContent=`The criminal legal system annually comprises a large portion of the
        county budget.`,i=z(`
    In 2020, `),r=z(e[0]),a=z(" County spent $"),o=z(l),u=z(`
    million\u2014`),s=z(c),f=z(`% of the
    general fund budget\u2014on the criminal-legal system.`),h=Y(),d=T("section"),_e(_.$$.fragment),p(n,"class","highlight svelte-g9pxn6")},m(m,y){S(m,t,y),k(t,n),k(t,i),k(t,r),k(t,a),k(t,o),k(t,u),k(t,s),k(t,f),S(m,h,y),S(m,d,y),fe(_,d,null),v=!0},p(m,y){(!v||y&1)&&H(r,m[0]),(!v||y&2)&&l!==(l=+m[1].criminal_legal_budget_2020+"")&&H(o,l),(!v||y&2)&&c!==(c=+m[1].percent_criminal_legal_of_total_budget+"")&&H(s,c);const M={};y&1&&(M.countyname=m[0]),_.$set(M)},i(m){v||(W(_.$$.fragment,m),v=!0)},o(m){G(_.$$.fragment,m),v=!1},d(m){m&&A(t),m&&A(h),m&&A(d),he(_)}}}function dg(e){let t,n,i,r,a,l=e[2]!==void 0&&au(e),o=+e[1].criminal_legal_budget_2020>0&&lu(e);return{c(){t=T("p"),t.textContent=`Every new budget is an opportunity to rethink the public\u2019s spending
    priorities. For too long, addressing our toughest problems\u2014whether mental
    health crises, substance use, homelessness, or others\u2014has centered around
    police and jails. Now is the time to stop trying to solve every problem with
    handcuffs and a jail cell.`,n=Y(),l&&l.c(),i=Y(),o&&o.c(),r=Ne()},m(u,c){S(u,t,c),S(u,n,c),l&&l.m(u,c),S(u,i,c),o&&o.m(u,c),S(u,r,c),a=!0},p(u,[c]){u[2]!==void 0?l?(l.p(u,c),c&4&&W(l,1)):(l=au(u),l.c(),W(l,1),l.m(i.parentNode,i)):l&&(ft(),G(l,1,1,()=>{l=null}),ht()),+u[1].criminal_legal_budget_2020>0?o?(o.p(u,c),c&2&&W(o,1)):(o=lu(u),o.c(),W(o,1),o.m(r.parentNode,r)):o&&(ft(),G(o,1,1,()=>{o=null}),ht())},i(u){a||(W(l),W(o),a=!0)},o(u){G(l),G(o),a=!1},d(u){u&&A(t),u&&A(n),l&&l.d(u),u&&A(i),o&&o.d(u),u&&A(r)}}}function pg(e,t,n){let{countyname:i}=t,r=[],a=[],l=[];return Ee(async()=>{const o=await ge("https://vera-ca-data.s3.us-west-1.amazonaws.com/curated_data/visualizations/budget_county_page_data.csv");n(1,r=ae(o,c=>c.county==i)[0]);const u=await ge("https://vera-ca-data.s3.us-west-1.amazonaws.com/curated_data/visualizations/budget_data_for_vis.csv");a=ae(u,c=>c.county===i),n(2,l=a.filter(c=>c.year=="2020")[0])}),e.$$set=o=>{"countyname"in o&&n(0,i=o.countyname)},[i,r,l]}class ou extends oe{constructor(t){super(),le(this,t,pg,dg,ie,{countyname:0})}}function _g(e){let t,n,i,r,a,l;return{c(){t=T("main"),n=T("div"),i=Y(),r=T("div"),a=Y(),l=T("div"),l.innerHTML=`<div class="litem svelte-m6z6a8"><div class="block one svelte-m6z6a8"></div> 
            <div class="name">Felony Violent</div></div> 
        <div class="litem svelte-m6z6a8"><div class="block two svelte-m6z6a8"></div> 
            <div class="name">Felony Property</div></div> 
        <div class="litem svelte-m6z6a8"><div class="block three svelte-m6z6a8"></div> 
            <div class="name">Felony Drugoff</div></div> 
        <div class="litem svelte-m6z6a8"><div class="block four svelte-m6z6a8"></div> 
            <div class="name">Felony Sexoff</div></div> 
        <div class="litem svelte-m6z6a8"><div class="block five svelte-m6z6a8"></div> 
            <div class="name">Felony All Other</div></div> 
        <div class="litem svelte-m6z6a8"><div class="block six svelte-m6z6a8"></div> 
            <div class="name">Misdemeanor</div></div> 
        <div class="litem svelte-m6z6a8"><div class="block seven svelte-m6z6a8"></div> 
            <div class="name">Status Offense</div></div>`,p(n,"id","container"),p(n,"class","svelte-m6z6a8"),p(r,"class","tooltip svelte-m6z6a8"),p(l,"id","legend"),p(l,"class","svelte-m6z6a8"),p(t,"class","svelte-m6z6a8")},m(o,u){S(o,t,u),k(t,n),e[3](n),k(t,i),k(t,r),e[4](r),k(t,a),k(t,l)},p:V,i:V,o:V,d(o){o&&A(t),e[3](null),e[4](null)}}}function vg(e,t,n){let{countyname:i}=t,r,a,l=[],o=[];Ee(async()=>{const f=await ge("https://vera-ca-data.s3.us-west-1.amazonaws.com/curated_data/visualizations/arrest_percentages_county_ca_total.csv");l=ae(f,h=>h.demo_County===i&&h.demo_Year=="2020")[0],o=[{type:"percent_felony_violent",number:+l.percent_felony_violent},{type:"percent_felony_property",number:+l.percent_felony_property},{type:"percent_felony_drugoff",number:+l.percent_felony_drugoff},{type:"percent_felony_sexoff",number:+l.percent_felony_sexoff},{type:"percent_felony_allother",number:+l.percent_felony_allother},{type:"percent_misdemeanor",number:+l.percent_misdemeanor},{type:"percent_status",number:+l.percent_status}],u(),window.addEventListener("resize",u)});function u(){q(r).html(null),q(a).html(null);var f=350,h=350,d={top:20,right:20,bottom:20,left:20},_=["#9AC4B9","#6b7d7d","#b9cdda","#9AC4B9","#A6D8D4","orange","purple"];n(0,r=q(r).datum(o)),r.each(v=>{var m=Math.min(f,h)/2,y=xc().value(g=>g.number).sort(null),M=Kc().outerRadius(m).innerRadius(m*.5),b=r.append("svg").attr("width",f+d.left+d.right).attr("height",h+d.top+d.bottom).append("g").attr("transform","translate("+(m+d.left)+","+(m+d.bottom)+")");b.append("g").attr("class","slices"),b.select(".slices").datum(v).selectAll("path").data(y).enter().append("path").attr("fill",function(g,w){return _[w]}).attr("d",M).on("mouseover",function(g,w){q(this).style("fill-opacity",1).style("stroke","#fff");var C=w.data.type+": "+w.data.number.toFixed(1)+"%";q(a).html(C).style("visibility","visible")}).on("mousemove",function(g,w){q(a).style("top",g.layerY+"px").style("left",g.layerX+"px")}).on("mouseout",function(g){ut("circle").style("fill-opacity",.7).style("stroke","none"),q(this).attr("class"),q(this).attr("id"),ut("circle").attr("opacity",1),q(a).style("visibility","hidden")})})}function c(f){lt[f?"unshift":"push"](()=>{r=f,n(0,r)})}function s(f){lt[f?"unshift":"push"](()=>{a=f,n(1,a)})}return e.$$set=f=>{"countyname"in f&&n(2,i=f.countyname)},[r,a,i,c,s]}class mg extends oe{constructor(t){super(),le(this,t,vg,_g,ie,{countyname:2})}}function gg(e){let t,n,i,r,a,l=2020+"",o,u,c=e[1].black_arrest_rate_times_white+"",s,f,h=e[1].latinx_arrest_rate_times_white+"",d,_,v,m,y,M,b,g,w,C,E,U,L,R,j;return R=new mg({props:{countyname:e[0]}}),{c(){t=T("p"),t.textContent=`Arrests are often the first point of contact people have with the
    criminal-legal system. Racial disparities at the point of arrest are likely
    to be mirrored in the jail population, and this cycle of contact with the
    criminal-legal system is self-perpetuating. Reducing the number of arrests
    will likely reduce the number of people booked into jail, and in turn the
    number sentenced to prisons.`,n=Y(),i=T("p"),r=T("span"),r.textContent=`Black people and people of color are arrested at disproportionately
        high rates.`,a=z(`
    On any given day in `),o=z(l),u=z(`, the Black arrest rate and Latinx arrest rate
    were, `),s=z(c),f=z(" and "),d=z(h),_=z(`,
    times the white arrest rate, respectively.`),v=Y(),m=T("section"),y=T("div"),y.innerHTML=`<div id="firstLabel" class="svelte-ug14y7"></div> 
        <div id="secondLabel" class="svelte-ug14y7"></div> 
        <div id="thirdLabel" class="svelte-ug14y7"></div> 
        <div id="fourthLabel" class="svelte-ug14y7"></div>`,M=Y(),b=T("div"),b.innerHTML=`<div class="bar svelte-ug14y7" id="first"></div> 
        <div class="bar svelte-ug14y7" id="second"></div> 
        <div class="bar svelte-ug14y7" id="third"></div> 
        <div class="bar svelte-ug14y7" id="fourth"></div>`,g=Y(),w=T("div"),C=Y(),E=T("p"),E.innerHTML=`<span class="highlight svelte-ug14y7">The majority of arrests are for minor offenses.</span> Given the serious consequences of any interaction with the criminal legal system,
    it is essential that alternatives to arrests are used to the greatest extent
    possible.`,U=Y(),L=T("section"),_e(R.$$.fragment),p(r,"class","highlight svelte-ug14y7"),p(y,"class","label svelte-ug14y7"),p(b,"class","bars"),p(w,"class","tooltip svelte-ug14y7"),p(m,"id","barContainer"),p(m,"class","svelte-ug14y7")},m(D,I){S(D,t,I),S(D,n,I),S(D,i,I),k(i,r),k(i,a),k(i,o),k(i,u),k(i,s),k(i,f),k(i,d),k(i,_),S(D,v,I),S(D,m,I),k(m,y),k(m,M),k(m,b),k(m,g),k(m,w),e[3](w),S(D,C,I),S(D,E,I),S(D,U,I),S(D,L,I),fe(R,L,null),j=!0},p(D,[I]){(!j||I&2)&&c!==(c=D[1].black_arrest_rate_times_white+"")&&H(s,c),(!j||I&2)&&h!==(h=D[1].latinx_arrest_rate_times_white+"")&&H(d,h);const J={};I&1&&(J.countyname=D[0]),R.$set(J)},i(D){j||(W(R.$$.fragment,D),j=!0)},o(D){G(R.$$.fragment,D),j=!1},d(D){D&&A(t),D&&A(n),D&&A(i),D&&A(v),D&&A(m),e[3](null),D&&A(C),D&&A(E),D&&A(U),D&&A(L),he(R)}}}function Ut(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")}function yg(e,t,n){let{countyname:i}=t,r=[],a="",l,o,u,c,s=[],f=q("body").append("div").attr("class","tooltip");Ee(async()=>{const d=await ge("https://vera-ca-data.s3.us-west-1.amazonaws.com/curated_data/visualizations/arrest_rate_by_race_and_detailed_type.csv");await ge("https://vera-ca-data.s3.us-west-1.amazonaws.com/curated_data/visualizations/arrest_percentages_county_ca_total.csv"),n(1,r=ae(d,m=>m.demo_County===i&&m.demo_Year=="2020")[0]),l={label:"black",rate:+r.arrests_total_black_rate,count:+r.arrests_total_black},o={label:"latinx",rate:+r.arrests_total_latinx_rate,count:+r.arrests_total_latinx},u={label:"other",rate:+r.arrests_total_other_rate,count:+r.arrests_total_other},c={label:"white",rate:+r.arrests_total_white_rate,count:+r.arrests_total_white};let _=l.rate+o.rate+u.rate+c.rate;s=[l,o,u,c].sort((m,y)=>y.rate-m.rate),q("#first").style("width",`${s[0].rate/_*800}px`).style("height","25px").on("mouseover",()=>{a="Arrest Rate: "+Ut(s[0].rate.toFixed(0))+" per 100k people<br/> Number of Arrests: "+Ut(s[0].count)+" people",q(f).html(a).style("visibility","visible")}).on("mousemove",function(m,y){q(f).style("top",m.layerY+"px").style("left",m.layerX+"px")}).on("mouseout",function(m){ut("rect").attr("stroke-width",0),q(f).style("visibility","hidden")}),q("#second").style("width",`${s[1].rate/_*800}px`).style("height","25px").on("mouseover",()=>{a="Arrest Rate: "+Ut(s[1].rate.toFixed(0))+" per 100k people<br/> Number of Arrests: "+Ut(s[1].count)+" people",q(f).html(a).style("visibility","visible")}).on("mousemove",function(m,y){q(f).style("top",m.layerY+"px").style("left",m.layerX+"px")}).on("mouseout",function(m){ut("rect").attr("stroke-width",0),q(f).style("visibility","hidden")}),q("#third").style("width",`${s[2].rate/_*800}px`).style("height","25px").on("mouseover",()=>{a="Arrest Rate: "+Ut(s[2].rate.toFixed(0))+" per 100k people<br/> Number of Arrests: "+Ut(s[2].count)+" people",q(f).html(a).style("visibility","visible")}).on("mousemove",function(m,y){q(f).style("top",m.layerY+"px").style("left",m.layerX+"px")}).on("mouseout",function(m){ut("rect").attr("stroke-width",0),q(f).style("visibility","hidden")}),q("#fourth").style("width",`${s[3].rate/_*800}px`).style("height","25px").on("mouseover",()=>{a="Arrest Rate: "+Ut(s[3].rate.toFixed(0))+" per 100k people<br/> Number of Arrests: "+Ut(s[3].count)+" people",q(f).html(a).style("visibility","visible")}).on("mousemove",function(m,y){q(f).style("top",m.layerY+"px").style("left",m.layerX+"px")}).on("mouseout",function(m){ut("rect").attr("stroke-width",0),q(f).style("visibility","hidden")}),q("#firstLabel").append("text").text(s[0].label),q("#secondLabel").append("text").text(s[1].label),q("#thirdLabel").append("text").text(s[2].label),q("#fourthLabel").append("text").text(s[3].label)});function h(d){lt[d?"unshift":"push"](()=>{f=d,n(2,f)})}return e.$$set=d=>{"countyname"in d&&n(0,i=d.countyname)},[i,r,f,h]}class Ni extends oe{constructor(t){super(),le(this,t,yg,gg,ie,{countyname:0})}}function su(e,t,n){const i=e.slice();return i[4]=t[n],i}function uu(e,t,n){const i=e.slice();return i[4]=t[n],i}function cu(e){let t,n,i=e[4].label+"",r,a,l,o,u;return{c(){t=T("li"),n=T("span"),r=z(i),a=Y(),p(n,"class","svelte-8lsqta"),p(t,"class",l=Le(e[0]===e[4].value?"active":"")+" svelte-8lsqta")},m(c,s){S(c,t,s),k(t,n),k(n,r),k(t,a),o||(u=ve(n,"click",function(){Va(e[3](e[4].value))&&e[3](e[4].value).apply(this,arguments)}),o=!0)},p(c,s){e=c,s&2&&i!==(i=e[4].label+"")&&H(r,i),s&3&&l!==(l=Le(e[0]===e[4].value?"active":"")+" svelte-8lsqta")&&p(t,"class",l)},d(c){c&&A(t),o=!1,u()}}}function fu(e){let t,n,i,r;var a=e[4].component;function l(o){return{props:{countyname:o[2]}}}return a&&(n=new a(l(e))),{c(){t=T("div"),n&&_e(n.$$.fragment),i=Y(),p(t,"class","box svelte-8lsqta")},m(o,u){S(o,t,u),n&&fe(n,t,null),k(t,i),r=!0},p(o,u){const c={};if(u&4&&(c.countyname=o[2]),a!==(a=o[4].component)){if(n){ft();const s=n;G(s.$$.fragment,1,0,()=>{he(s,1)}),ht()}a?(n=new a(l(o)),_e(n.$$.fragment),W(n.$$.fragment,1),fe(n,t,i)):n=null}else a&&n.$set(c)},i(o){r||(n&&W(n.$$.fragment,o),r=!0)},o(o){n&&G(n.$$.fragment,o),r=!1},d(o){o&&A(t),n&&he(n)}}}function hu(e){let t,n,i=e[0]==e[4].value&&fu(e);return{c(){i&&i.c(),t=Ne()},m(r,a){i&&i.m(r,a),S(r,t,a),n=!0},p(r,a){r[0]==r[4].value?i?(i.p(r,a),a&3&&W(i,1)):(i=fu(r),i.c(),W(i,1),i.m(t.parentNode,t)):i&&(ft(),G(i,1,1,()=>{i=null}),ht())},i(r){n||(W(i),n=!0)},o(r){G(i),n=!1},d(r){i&&i.d(r),r&&A(t)}}}function bg(e){let t,n,i,r,a=e[1],l=[];for(let s=0;s<a.length;s+=1)l[s]=cu(uu(e,a,s));let o=e[1],u=[];for(let s=0;s<o.length;s+=1)u[s]=hu(su(e,o,s));const c=s=>G(u[s],1,1,()=>{u[s]=null});return{c(){t=T("ul");for(let s=0;s<l.length;s+=1)l[s].c();n=Y();for(let s=0;s<u.length;s+=1)u[s].c();i=Ne(),p(t,"class","svelte-8lsqta")},m(s,f){S(s,t,f);for(let h=0;h<l.length;h+=1)l[h].m(t,null);S(s,n,f);for(let h=0;h<u.length;h+=1)u[h].m(s,f);S(s,i,f),r=!0},p(s,[f]){if(f&11){a=s[1];let h;for(h=0;h<a.length;h+=1){const d=uu(s,a,h);l[h]?l[h].p(d,f):(l[h]=cu(d),l[h].c(),l[h].m(t,null))}for(;h<l.length;h+=1)l[h].d(1);l.length=a.length}if(f&7){o=s[1];let h;for(h=0;h<o.length;h+=1){const d=su(s,o,h);u[h]?(u[h].p(d,f),W(u[h],1)):(u[h]=hu(d),u[h].c(),W(u[h],1),u[h].m(i.parentNode,i))}for(ft(),h=o.length;h<u.length;h+=1)c(h);ht()}},i(s){if(!r){for(let f=0;f<o.length;f+=1)W(u[f]);r=!0}},o(s){u=u.filter(Boolean);for(let f=0;f<u.length;f+=1)G(u[f]);r=!1},d(s){s&&A(t),we(l,s),s&&A(n),we(u,s),s&&A(i)}}}function wg(e,t,n){let{items:i=[]}=t,{activeTabValue:r=1}=t,{countyname:a}=t;const l=o=>()=>n(0,r=o);return e.$$set=o=>{"items"in o&&n(1,i=o.items),"activeTabValue"in o&&n(0,r=o.activeTabValue),"countyname"in o&&n(2,a=o.countyname)},[r,i,a,l]}class kg extends oe{constructor(t){super(),le(this,t,wg,bg,ie,{items:1,activeTabValue:0,countyname:2})}}const Mg=e=>({countyname:e&1}),du=e=>({countyname:e[0]});function Cg(e){let t,n,i,r,a,l,o,u,c,s,f,h,d,_,v,m,y,M,b,g,w,C;const E=e[8].default,U=_u(E,e,e[7],du);return d=new ym({props:{countyTitle:e[1],centroidLat:e[2],centroidLon:e[3],sqkm:e[4]}}),v=new Xm({props:{countyTitle:e[1]}}),M=new kg({props:{items:e[5],countyname:e[6]}}),w=new nf({}),{c(){U&&U.c(),t=Y(),n=T("div"),i=T("div"),r=T("a"),r.textContent="California",a=z(" / "),l=z(e[6]),o=z(" County"),u=Y(),c=T("h1"),c.textContent=`${e[6]} County`,s=Y(),f=T("section"),h=T("div"),_e(d.$$.fragment),_=Y(),_e(v.$$.fragment),m=Y(),y=T("section"),_e(M.$$.fragment),b=Y(),g=T("section"),_e(w.$$.fragment),p(r,"href","/"),p(i,"id","breadcrumb"),p(c,"class","county__title"),p(h,"id","map"),p(h,"class","svelte-d86s8a"),p(f,"class","top svelte-d86s8a"),p(y,"class","tabs"),p(g,"class","about"),p(n,"class","county__container svelte-d86s8a")},m(L,R){U&&U.m(L,R),S(L,t,R),S(L,n,R),k(n,i),k(i,r),k(i,a),k(i,l),k(i,o),k(n,u),k(n,c),k(n,s),k(n,f),k(f,h),fe(d,h,null),k(f,_),fe(v,f,null),k(n,m),k(n,y),fe(M,y,null),k(n,b),k(n,g),fe(w,g,null),C=!0},p(L,[R]){U&&U.p&&(!C||R&129)&&gu(U,E,L,L[7],C?mu(E,L[7],R,Mg):yu(L[7]),du);const j={};R&2&&(j.countyTitle=L[1]),R&4&&(j.centroidLat=L[2]),R&8&&(j.centroidLon=L[3]),R&16&&(j.sqkm=L[4]),d.$set(j);const D={};R&2&&(D.countyTitle=L[1]),v.$set(D);const I={};R&32&&(I.items=L[5]),M.$set(I)},i(L){C||(W(U,L),W(d.$$.fragment,L),W(v.$$.fragment,L),W(M.$$.fragment,L),W(w.$$.fragment,L),C=!0)},o(L){G(U,L),G(d.$$.fragment,L),G(v.$$.fragment,L),G(M.$$.fragment,L),G(w.$$.fragment,L),C=!1},d(L){U&&U.d(L),L&&A(t),L&&A(n),he(d),he(v),he(M),he(w)}}}function Ag(e,t,n){let{$$slots:i={},$$scope:r}=t,{params:a}=t;const l=async()=>{};let o=a.id,u=[],c=[],s=[],f=[],h=[],d=[],_=[],v=[],m=[],y=[],M=[],b=[];return Ee(async()=>{window.scrollTo(0,0),l(),u=(await(await fetch("https://vera-insights-data-viz.s3.amazonaws.com/california/california.json")).json()).features,u.forEach(R=>{R.properties.NAME_condensed=R.properties.NAME}),c=u.filter(R=>R.properties.NAME_condensed===o),n(1,s=o),n(2,f=c[0].properties.latitude),n(3,h=c[0].properties.longitude),n(4,d=c[0].properties.vals_AREA_SQKM);const C=await ge("https://vera-ca-data.s3.us-west-1.amazonaws.com/curated_data/visualizations/jails_tab.csv");_=ae(C,R=>R.demo_County==o&&R.demo_Year=="2021")[0];const E=await ge("https://vera-ca-data.s3.us-west-1.amazonaws.com/curated_data/visualizations/bscc_jail_mental_health_pop.csv");v=ae(E,R=>R.demo_County==o&&R.demo_Year=="2021")[0];const U=await ge("https://vera-ca-data.s3.us-west-1.amazonaws.com/curated_data/visualizations/budget_county_page_data.csv");m=ae(U,R=>R.county==o)[0];const L=await ge("https://vera-ca-data.s3.us-west-1.amazonaws.com/curated_data/visualizations/budget_data_for_vis.csv");y=ae(L,R=>R.county===o),M=y.filter(R=>R.year=="2020")[0],console.log("countyBudgetTrends2020",M),console.log("+budgetBlankData.criminal_legal_budget_2020",+m.criminal_legal_budget_2020),console.log("+countyDemo.jail_pretrial_bscc",+_.jail_pretrial_bscc),console.log("+countyMentalHealth.jail_calculated_mh_pop_bscc",+v.jail_calculated_mh_pop_bscc),+_.jail_pretrial_bscc>0&&M!==void 0&&+m.criminal_legal_budget_2020!=0||+v.jail_calculated_mh_pop_bscc>0&&M!==void 0&&+m.criminal_legal_budget_2020!=0?n(5,b=[{label:"Arrest",value:1,component:Ni},{label:"Jail",value:2,component:Ls},{label:"Prison",value:3,component:zi},{label:"Budget",value:4,component:ou}]):+_.jail_pretrial_bscc>0&&M==null&&+m.criminal_legal_budget_2020==0||+v.jail_calculated_mh_pop_bscc>0&&M==null&&+m.criminal_legal_budget_2020==0?n(5,b=[{label:"Arrest",value:1,component:Ni},{label:"Jail",value:2,component:Ls},{label:"Prison",value:3,component:zi}]):+_.jail_pretrial_bscc==0&&M!==void 0&&+m.criminal_legal_budget_2020!=0||+v.jail_calculated_mh_pop_bscc==0&&M!==void 0&&+m.criminal_legal_budget_2020!=0?n(5,b=[{label:"Arrest",value:1,component:Ni},{label:"Prison",value:3,component:zi},{label:"Budget",value:4,component:ou}]):n(5,b=[{label:"Arrest",value:1,component:Ni},{label:"Prison",value:3,component:zi}])}),e.$$set=g=>{"params"in g&&n(0,a=g.params),"$$scope"in g&&n(7,r=g.$$scope)},[a,s,f,h,d,b,o,r,i]}class Sg extends oe{constructor(t){super(),le(this,t,Ag,Cg,ie,{params:0})}}function Eg(e){let t;return{c(){t=T("div"),p(t,"id","header"),p(t,"class","svelte-1j26ptz")},m(n,i){S(n,t,i)},p:V,i:V,o:V,d(n){n&&A(t)}}}class Tg extends oe{constructor(t){super(),le(this,t,null,Eg,ie,{})}}function zg(e){let t;return{c(){t=T("footer"),t.innerHTML=`<div id="vera" class="svelte-1sh3w7j"><div id="mobilewrap" class="svelte-1sh3w7j"><div class="section svelte-1sh3w7j"><div id="logo" class="svelte-1sh3w7j"><a href="https://www.vera.org"><img id="logo" src="https://www.vera.org/dist/img/v2/vera-horizontal.svg" class="svelte-1sh3w7j"/></a></div> 
        <p class="address svelte-1sh3w7j">34 35th Street<br/>
          Suite 4-2A<br/>
          Brooklyn, NY 11232</p> 
        <p class="phone svelte-1sh3w7j">212-334-1300</p></div> 
      <div class="section footer-menu svelte-1sh3w7j"><ul class="svelte-1sh3w7j"><li class="svelte-1sh3w7j"><a href="https://www.vera.org/who-we-are/about-us" class="svelte-1sh3w7j">About Us</a></li> 
          <li class="svelte-1sh3w7j"><a href="https://www.vera.org/careers" class="svelte-1sh3w7j">Careers</a></li> 
          <li class="svelte-1sh3w7j"><a href="https://www.vera.org/events" class="svelte-1sh3w7j">Events</a></li> 
          <li class="svelte-1sh3w7j"><a href="https://www.vera.org/media-center" class="svelte-1sh3w7j">Media</a></li> 
          <li class="svelte-1sh3w7j"><a href="https://www.vera.org/contact" class="svelte-1sh3w7j">Contact Us</a></li></ul></div> 
      <div class="section soc svelte-1sh3w7j"><p class="keep svelte-1sh3w7j">Keep up with us on social media.</p> 
        <div class="social-icons svelte-1sh3w7j"><a href="https://www.twitter.com/intent/tweet?url=https%3A%2F%2Fwww.vera.org%2F&amp;amp;text=Home %20%40verainstitute" class="share-link social-share-link receives-color svelte-1sh3w7j" target="_blank"><svg class="svg-inline--fa svelte-1sh3w7j" aria-hidden="true" prefix="fab" data-icon="twitter" role="img" viewBox="0 0 512 512"><path fill="currentColor" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg></a> 
          <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fwww.vera.org%2F&amp;caption=Home%20&amp;picture=https://www.vera.org/dist/img/social-fallback.jpg&amp;description=" class="share-link social-share-link receives-color svelte-1sh3w7j" target="_blank"><svg class="svg-inline--fa svelte-1sh3w7j" aria-hidden="true" prefix="fab" data-icon="facebook" role="img" viewBox="0 0 320 512"><path fill="currentColor" d="M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"></path></svg></a> 
          <a href="https://www.instagram.com/verainstitute/" target="_blank" class="svelte-1sh3w7j"><svg class="svg-inline--fa svelte-1sh3w7j" aria-hidden="true" prefix="fab" data-icon="instagram" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"></path></svg></a> 
          <a href="https://www.youtube.com/channel/UCdUfqPJeOB_bHFdx1IhR0jQ" target="_blank" class="svelte-1sh3w7j"><svg class="svg-inline--fa svelte-1sh3w7j" aria-hidden="true" prefix="fab" data-icon="youtube" role="img" viewBox="0 0 576 512"><path fill="currentColor" d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"></path></svg></a></div></div></div> 

    <div class="section svelte-1sh3w7j"><div id="transformative" class="svelte-1sh3w7j"><p>Transformative change, sent to your inbox.</p> 
        <button class="button orange arrow svelte-1sh3w7j">Add your email</button></div></div></div> 
  <div id="terms" class="svelte-1sh3w7j"><ul class="svelte-1sh3w7j"><li class="svelte-1sh3w7j">\xA9 Vera Institute of Justice. All rights reserved.</li> 
      <li class="svelte-1sh3w7j"><a href="https://www.vera.org/terms-of-use" class="svelte-1sh3w7j">Terms of Use</a></li> 
      <li class="svelte-1sh3w7j"><a href="https://www.vera.org/gsa-advantage" class="svelte-1sh3w7j">GSA Advantage</a></li></ul></div>`,p(t,"class","svelte-1sh3w7j")},m(n,i){S(n,t,i)},p:V,i:V,o:V,d(n){n&&A(t)}}}class Ng extends oe{constructor(t){super(),le(this,t,null,zg,ie,{})}}function jg(e){let t,n,i,r,a,l,o,u,c;t=new Tg({});var s=e[0];function f(h){return{props:{params:h[1]}}}return s&&(r=new s(f(e))),u=new Ng({}),{c(){_e(t.$$.fragment),n=Y(),i=T("div"),r&&_e(r.$$.fragment),a=Y(),l=T("main"),o=Y(),_e(u.$$.fragment),p(i,"id","center"),p(i,"class","svelte-gqzyn2")},m(h,d){fe(t,h,d),S(h,n,d),S(h,i,d),r&&fe(r,i,null),k(i,a),k(i,l),S(h,o,d),fe(u,h,d),c=!0},p(h,[d]){const _={};if(d&2&&(_.params=h[1]),s!==(s=h[0])){if(r){ft();const v=r;G(v.$$.fragment,1,0,()=>{he(v,1)}),ht()}s?(r=new s(f(h)),_e(r.$$.fragment),W(r.$$.fragment,1),fe(r,i,a)):r=null}else s&&r.$set(_)},i(h){c||(W(t.$$.fragment,h),r&&W(r.$$.fragment,h),W(u.$$.fragment,h),c=!0)},o(h){G(t.$$.fragment,h),r&&G(r.$$.fragment,h),G(u.$$.fragment,h),c=!1},d(h){he(t,h),h&&A(n),h&&A(i),r&&he(r),h&&A(o),he(u,h)}}}function Dg(e,t,n){let i,r;return Pi("/",()=>n(0,i=vm)),Pi("/county/:id",(a,l)=>{n(1,r=a.params),l()},()=>n(0,i=Sg)),Pi.start(),[i,r]}class Pg extends oe{constructor(t){super(),le(this,t,Dg,jg,ie,{})}}new Pg({target:document.getElementById("app")});
